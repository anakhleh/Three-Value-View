(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00a1":function(t,e){function r(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1)}t.exports=r},"01f9":function(t,e,r){"use strict";var n=r("2d00"),i=r("5ca1"),a=r("2aba"),o=r("32e9"),s=r("84f2"),h=r("41a0"),l=r("7f20"),u=r("38fd"),f=r("2b4c")("iterator"),c=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,r,w,v,b,y){h(r,e,w);var _,x,k,M=function(t){if(!c&&t in C)return C[t];switch(t){case p:return function(){return new r(this,t)};case m:return function(){return new r(this,t)}}return function(){return new r(this,t)}},A=e+" Iterator",E=v==m,S=!1,C=t.prototype,D=C[f]||C[d]||v&&C[v],I=D||M(v),P=v?E?M("entries"):I:void 0,T="Array"==e&&C.entries||D;if(T&&(k=u(T.call(new t)),k!==Object.prototype&&k.next&&(l(k,A,!0),n||"function"==typeof k[f]||o(k,f,g))),E&&D&&D.name!==m&&(S=!0,I=function(){return D.call(this)}),n&&!y||!c&&!S&&C[f]||o(C,f,I),s[e]=I,s[A]=g,v)if(_={values:E?I:M(m),keys:b?I:M(p),entries:P},y)for(x in _)x in C||a(C,x,_[x]);else i(i.P+i.F*(c||S),e,_);return _}},"07f4":function(t,e,r){"use strict";var n=r("be7f"),i=4,a=0,o=1,s=2;function h(t){var e=t.length;while(--e>=0)t[e]=0}var l=0,u=1,f=2,c=3,d=258,p=29,m=256,g=m+1+p,w=30,v=19,b=2*g+1,y=15,_=16,x=7,k=256,M=16,A=17,E=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,T=new Array(2*(g+2));h(T);var B=new Array(2*w);h(B);var R=new Array(P);h(R);var O=new Array(d-c+1);h(O);var U=new Array(p);h(U);var L,F,j,$=new Array(w);function z(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function V(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Y(t){return t<256?R[t]:R[256+(t>>>7)]}function N(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function X(t,e,r){t.bi_valid>_-r?(t.bi_buf|=e<<t.bi_valid&65535,N(t,t.bi_buf),t.bi_buf=e>>_-t.bi_valid,t.bi_valid+=r-_):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function G(t,e,r){X(t,r[2*e],r[2*e+1])}function q(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function H(t){16===t.bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function W(t,e){var r,n,i,a,o,s,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,f=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=y;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<b;r++)n=t.heap[r],a=h[2*h[2*n+1]+1]+1,a>p&&(a=p,m++),h[2*n+1]=a,n>l||(t.bl_count[a]++,o=0,n>=d&&(o=c[n-d]),s=h[2*n],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(u[2*n+1]+o)));if(0!==m){do{a=p-1;while(0===t.bl_count[a])a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--){n=t.bl_count[a];while(0!==n)i=t.heap[--r],i>l||(h[2*i+1]!==a&&(t.opt_len+=(a-h[2*i+1])*h[2*i],h[2*i+1]=a),n--)}}}function Z(t,e,r){var n,i,a=new Array(y+1),o=0;for(n=1;n<=y;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=q(a[s]++,s))}}function K(){var t,e,r,n,i,a=new Array(y+1);for(r=0,n=0;n<p-1;n++)for(U[n]=r,t=0;t<1<<S[n];t++)O[r++]=n;for(O[r-1]=n,i=0,n=0;n<16;n++)for($[n]=i,t=0;t<1<<C[n];t++)R[i++]=n;for(i>>=7;n<w;n++)for($[n]=i<<7,t=0;t<1<<C[n]-7;t++)R[256+i++]=n;for(e=0;e<=y;e++)a[e]=0;t=0;while(t<=143)T[2*t+1]=8,t++,a[8]++;while(t<=255)T[2*t+1]=9,t++,a[9]++;while(t<=279)T[2*t+1]=7,t++,a[7]++;while(t<=287)T[2*t+1]=8,t++,a[8]++;for(Z(T,g+1,a),t=0;t<w;t++)B[2*t+1]=5,B[2*t]=q(t,5);L=new z(T,S,m+1,g,y),F=new z(B,C,0,w,y),j=new z(new Array(0),D,0,v,x)}function J(t){var e;for(e=0;e<g;e++)t.dyn_ltree[2*e]=0;for(e=0;e<w;e++)t.dyn_dtree[2*e]=0;for(e=0;e<v;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*k]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?N(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,r,i){Q(t),i&&(N(t,r),N(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function et(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function rt(t,e,r){var n=t.heap[r],i=r<<1;while(i<=t.heap_len){if(i<t.heap_len&&et(e,t.heap[i+1],t.heap[i],t.depth)&&i++,et(e,n,t.heap[i],t.depth))break;t.heap[r]=t.heap[i],r=i,i<<=1}t.heap[r]=n}function nt(t,e,r){var n,i,a,o,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?G(t,i,e):(a=O[i],G(t,a+m+1,e),o=S[a],0!==o&&(i-=U[a],X(t,i,o)),n--,a=Y(n),G(t,a,r),o=C[a],0!==o&&(n-=$[a],X(t,n,o)))}while(s<t.last_lit);G(t,k,e)}function it(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=b,r=0;r<h;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;while(t.heap_len<2)i=t.heap[++t.heap_len]=l<2?++l:0,a[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)rt(t,a,r);i=h;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],rt(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,rt(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],W(t,e),Z(a,l,t.bl_count)}function at(t,e,r){var n,i,a=-1,o=e[1],s=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<h&&i===o||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*M]++):s<=10?t.bl_tree[2*A]++:t.bl_tree[2*E]++,s=0,a=i,0===o?(h=138,l=3):i===o?(h=6,l=3):(h=7,l=4))}function ot(t,e,r){var n,i,a=-1,o=e[1],s=0,h=7,l=4;for(0===o&&(h=138,l=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<h&&i===o)){if(s<l)do{G(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==a&&(G(t,i,t.bl_tree),s--),G(t,M,t.bl_tree),X(t,s-3,2)):s<=10?(G(t,A,t.bl_tree),X(t,s-3,3)):(G(t,E,t.bl_tree),X(t,s-11,7));s=0,a=i,0===o?(h=138,l=3):i===o?(h=6,l=3):(h=7,l=4)}}function st(t){var e;for(at(t,t.dyn_ltree,t.l_desc.max_code),at(t,t.dyn_dtree,t.d_desc.max_code),it(t,t.bl_desc),e=v-1;e>=3;e--)if(0!==t.bl_tree[2*I[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e}function ht(t,e,r,n){var i;for(X(t,e-257,5),X(t,r-1,5),X(t,n-4,4),i=0;i<n;i++)X(t,t.bl_tree[2*I[i]+1],3);ot(t,t.dyn_ltree,e-1),ot(t,t.dyn_dtree,r-1)}function lt(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return o;return a}h($);var ut=!1;function ft(t){ut||(K(),ut=!0),t.l_desc=new V(t.dyn_ltree,L),t.d_desc=new V(t.dyn_dtree,F),t.bl_desc=new V(t.bl_tree,j),t.bi_buf=0,t.bi_valid=0,J(t)}function ct(t,e,r,n){X(t,(l<<1)+(n?1:0),3),tt(t,e,r,!0)}function dt(t){X(t,u<<1,3),G(t,k,T),H(t)}function pt(t,e,r,n){var a,o,h=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=lt(t)),it(t,t.l_desc),it(t,t.d_desc),h=st(t),a=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=a&&(a=o)):a=o=r+5,r+4<=a&&-1!==e?ct(t,e,r,n):t.strategy===i||o===a?(X(t,(u<<1)+(n?1:0),3),nt(t,T,B)):(X(t,(f<<1)+(n?1:0),3),ht(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),nt(t,t.dyn_ltree,t.dyn_dtree)),J(t),n&&Q(t)}function mt(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(O[r]+m+1)]++,t.dyn_dtree[2*Y(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=ft,e._tr_stored_block=ct,e._tr_flush_block=pt,e._tr_tally=mt,e._tr_align=dt},"097d":function(t,e,r){"use strict";var n=r("5ca1"),i=r("8378"),a=r("7726"),o=r("ebd6"),s=r("bcaa");n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},"0a83":function(t,e,r){"use strict";var n=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(t,e){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if("function"!==typeof e)throw new TypeError("callback argument must be a function");this._listeners[t]=e},t.prototype._send=function(t,e,r){void 0===r?r=[]:Array.isArray(r)||(r=[r]),self.postMessage({id:t,data:e},r)},t.prototype._trigger=function(t,e){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,e)};var e=new t;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift(function(r,n){e._send(t.data.id,r,n)}),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}},i=n.toString().split('"CODE";');e.newWorkerURL=function(t,e){var r=new Blob(["(",i[0],"importScripts.apply(self, "+JSON.stringify(e)+");\n","(",t,")();",i[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)}},"0d58":function(t,e,r){var n=r("ce10"),i=r("e11e");t.exports=Object.keys||function(t){return n(t,i)}},"0dd1":function(t,e,r){"use strict";var n=r("c01c"),i=r("d1bd");function a(t,e){var r=t.length;if(1===r){var a=n(t[0],e);return a[0]?a:[a[1]]}var o=new Array(2*r),s=[.1,.1],h=[.1,.1],l=0;n(t[0],e,s),s[0]&&(o[l++]=s[0]);for(var u=1;u<r;++u){n(t[u],e,h);var f=s[1];i(f,h[0],s),s[0]&&(o[l++]=s[0]);var c=h[1],d=s[1],p=c+d,m=p-c,g=d-m;s[1]=p,g&&(o[l++]=g)}return s[1]&&(o[l++]=s[1]),0===l&&(o[l++]=0),o.length=l,o}t.exports=a},"0e20":function(t,e,r){var n=Object.prototype.hasOwnProperty;t.exports=e=function(t,e){return n.call(e,t)},e.version=r("3998").version},1495:function(t,e,r){var n=r("86cc"),i=r("cb7c"),a=r("0d58");t.exports=r("9e1e")?Object.defineProperties:function(t,e){i(t);var r,o=a(e),s=o.length,h=0;while(s>h)n.f(t,r=o[h++],e[r]);return t}},"167f":function(t,e,r){"use strict";const n=r("374c"),i={sigma:1};class a{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=a},1701:function(t,e,r){(function(t){var e,r,n,i=String.fromCharCode;function a(t){var e,r,n=[],i=0,a=t.length;while(i<a)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function o(t){var e,r=t.length,n=-1,a="";while(++n<r)e=t[n],e>65535&&(e-=65536,a+=i(e>>>10&1023|55296),e=56320|1023&e),a+=i(e);return a}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function h(t,e){return i(t>>e&63|128)}function l(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(s(t),e=i(t>>12&15|224),e+=h(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=h(t,12),e+=h(t,6)),e+=i(63&t|128),e}function u(t){var e,r=a(t),n=r.length,i=-1,o="";while(++i<n)e=r[i],o+=l(e);return o}function f(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function c(){var t,i,a,o,h;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(t=255&e[n],n++,0==(128&t))return t;if(192==(224&t)){if(i=f(),h=(31&t)<<6|i,h>=128)return h;throw Error("Invalid continuation byte")}if(224==(240&t)){if(i=f(),a=f(),h=(15&t)<<12|i<<6|a,h>=2048)return s(h),h;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=f(),a=f(),o=f(),h=(7&t)<<18|i<<12|a<<6|o,h>=65536&&h<=1114111))return h;throw Error("Invalid UTF-8 detected")}function d(t){e=a(t),r=e.length,n=0;var i,s=[];while(!1!==(i=c()))s.push(i);return o(s)}t.version="3.0.0",t.encode=u,t.decode=d})(e)},1991:function(t,e,r){var n,i,a,o=r("9b43"),s=r("31f4"),h=r("fab2"),l=r("230e"),u=r("7726"),f=u.process,c=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,w={},v="onreadystatechange",b=function(){var t=+this;if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},y=function(t){b.call(t.data)};c&&d||(c=function(t){var e=[],r=1;while(arguments.length>r)e.push(arguments[r++]);return w[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},d=function(t){delete w[t]},"process"==r("2d95")(f)?n=function(t){f.nextTick(o(b,t,1))}:m&&m.now?n=function(t){m.now(o(b,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=y,n=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):n=v in l("script")?function(t){h.appendChild(l("script"))[v]=function(){h.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:c,clear:d}},"1a5d":function(t,e,r){"use strict";const n=r("374c").squared,i={sigma:1};class a{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){return 1/(1+n(t,e)/(this.sigma*this.sigma))}}t.exports=a},"1db9":function(t,e,r){"use strict";e.FFTUtils=r("594c"),e.FFT=r("e57f")},"1fa8":function(t,e,r){var n=r("cb7c");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(o){var a=t["return"];throw void 0!==a&&n(a.call(t)),o}}},"1fb5":function(t,e,r){"use strict";e.byteLength=u,e.toByteArray=c,e.fromByteArray=m;for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=o.length;s<h;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function u(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n}function f(t,e,r){return 3*(e+r)/4-r}function c(t){var e,r,n=l(t),o=n[0],s=n[1],h=new a(f(t,o,s)),u=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[u++]=255&e),1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e),h}function d(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function p(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(d(n));return i.join("")}function m(t){for(var e,r=t.length,i=r%3,a=[],o=16383,s=0,h=r-i;s<h;s+=o)a.push(p(t,s,s+o>h?h:s+o));return 1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"230e":function(t,e,r){var n=r("d3f4"),i=r("7726").document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"23c6":function(t,e,r){var n=r("2d95"),i=r("2b4c")("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(e=Object(t),i))?r:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"26d1":function(t,e,r){"use strict";const{squaredEuclidean:n}=r("e500"),i={sigma:1};class a{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=a},"27ee":function(t,e,r){var n=r("23c6"),i=r("2b4c")("iterator"),a=r("84f2");t.exports=r("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},2877:function(t,e,r){"use strict";function n(t,e,r,n,i,a,o,s){var h,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):i&&(h=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,h):[h]}return{exports:t,options:l}}r.d(e,"a",function(){return n})},"2aba":function(t,e,r){var n=r("7726"),i=r("32e9"),a=r("69a8"),o=r("ca5a")("src"),s=r("fa5b"),h="toString",l=(""+s).split(h);r("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var h="function"==typeof r;h&&(a(r,"name")||i(r,"name",e)),t[e]!==r&&(h&&(a(r,o)||i(r,o,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,h,function(){return"function"==typeof this&&this[o]||s.call(this)})},"2aeb":function(t,e,r){var n=r("cb7c"),i=r("1495"),a=r("e11e"),o=r("613b")("IE_PROTO"),s=function(){},h="prototype",l=function(){var t,e=r("230e")("iframe"),n=a.length,i="<",o=">";e.style.display="none",r("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),l=t.F;while(n--)delete l[h][a[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s[h]=n(t),r=new s,s[h]=null,r[o]=t):r=l(),void 0===e?r:i(r,e)}},"2b0e":function(t,e,r){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function n(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function a(t){return!0===t}function o(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function h(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function f(t){return"[object RegExp]"===l.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}g("slot,component",!0);var w=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var b=Object.prototype.hasOwnProperty;function y(t,e){return b.call(t,e)}function _(t){var e=Object.create(null);return function(r){var n=e[r];return n||(e[r]=t(r))}}var x=/-(\w)/g,k=_(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),M=_(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),A=/\B([A-Z])/g,E=_(function(t){return t.replace(A,"-$1").toLowerCase()});function S(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r}function C(t,e){return t.bind(e)}var D=Function.prototype.bind?C:S;function I(t,e){e=e||0;var r=t.length-e,n=new Array(r);while(r--)n[r]=t[r+e];return n}function P(t,e){for(var r in e)t[r]=e[r];return t}function T(t){for(var e={},r=0;r<t.length;r++)t[r]&&P(e,t[r]);return e}function B(t,e,r){}var R=function(t,e,r){return!1},O=function(t){return t};function U(t,e){if(t===e)return!0;var r=h(t),n=h(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every(function(t,r){return U(t,e[r])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(r){return U(t[r],e[r])})}catch(l){return!1}}function L(t,e){for(var r=0;r<t.length;r++)if(U(t[r],e))return r;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var j="data-server-rendered",$=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:B,parsePlatformTagName:O,mustUseProp:R,async:!0,_lifecycleHooks:z},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function N(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function X(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var G=new RegExp("[^"+Y.source+".$_\\d]");function q(t){if(!G.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}var H,W="__proto__"in{},Z="undefined"!==typeof window,K="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=K&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,rt=Q&&Q.indexOf("edge/")>0,nt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===J),it=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),at={}.watch,ot=!1;if(Z)try{var st={};Object.defineProperty(st,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,st)}catch(ko){}var ht=function(){return void 0===H&&(H=!Z&&!K&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),H},lt=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ft,ct="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ft="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=B,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){v(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,r=t.length;e<r;e++)t[e].update()},mt.target=null;var gt=[];function wt(t){gt.push(t),mt.target=t}function vt(){gt.pop(),mt.target=gt[gt.length-1]}var bt=function(t,e,r,n,i,a,o,s){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,yt);var _t=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function xt(t){return new bt(void 0,void 0,void 0,String(t))}function kt(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Mt=Array.prototype,At=Object.create(Mt),Et=["push","pop","shift","unshift","splice","sort","reverse"];Et.forEach(function(t){var e=Mt[t];X(At,t,function(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];var i,a=e.apply(this,r),o=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2);break}return i&&o.observeArray(i),o.dep.notify(),a})});var St=Object.getOwnPropertyNames(At),Ct=!0;function Dt(t){Ct=t}var It=function(t){this.value=t,this.dep=new mt,this.vmCount=0,X(t,"__ob__",this),Array.isArray(t)?(W?Pt(t,At):Tt(t,At,St),this.observeArray(t)):this.walk(t)};function Pt(t,e){t.__proto__=e}function Tt(t,e,r){for(var n=0,i=r.length;n<i;n++){var a=r[n];X(t,a,e[a])}}function Bt(t,e){var r;if(h(t)&&!(t instanceof bt))return y(t,"__ob__")&&t.__ob__ instanceof It?r=t.__ob__:Ct&&!ht()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new It(t)),e&&r&&r.vmCount++,r}function Rt(t,e,r,n,i){var a=new mt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,h=o&&o.set;s&&!h||2!==arguments.length||(r=t[e]);var l=!i&&Bt(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return mt.target&&(a.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var n=s?s.call(t):r;e===n||e!==e&&n!==n||s&&!h||(h?h.call(t,e):r=e,l=!i&&Bt(e),a.notify())}})}}function Ot(t,e,r){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?r:n?(Rt(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function Ut(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||y(t,e)&&(delete t[e],r&&r.dep.notify())}}function Lt(t){for(var e=void 0,r=0,n=t.length;r<n;r++)e=t[r],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}It.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)Rt(t,e[r])},It.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)Bt(t[e])};var Ft=V.optionMergeStrategies;function jt(t,e){if(!e)return t;for(var r,n,i,a=ct?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)r=a[o],"__ob__"!==r&&(n=t[r],i=e[r],y(t,r)?n!==i&&u(n)&&u(i)&&jt(n,i):Ot(t,r,i));return t}function $t(t,e,r){return r?function(){var n="function"===typeof e?e.call(r,r):e,i="function"===typeof t?t.call(r,r):t;return n?jt(n,i):i}:e?t?function(){return jt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function zt(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?Vt(r):r}function Vt(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}function Yt(t,e,r,n){var i=Object.create(t||null);return e?P(i,e):i}Ft.data=function(t,e,r){return r?$t(t,e,r):e&&"function"!==typeof e?t:$t(t,e)},z.forEach(function(t){Ft[t]=zt}),$.forEach(function(t){Ft[t+"s"]=Yt}),Ft.watch=function(t,e,r,n){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var a in P(i,t),e){var o=i[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,r,n){if(!t)return e;var i=Object.create(null);return P(i,t),e&&P(i,e),i},Ft.provide=$t;var Nt=function(t,e){return void 0===e?t:e};function Xt(t,e){var r=t.props;if(r){var n,i,a,o={};if(Array.isArray(r)){n=r.length;while(n--)i=r[n],"string"===typeof i&&(a=k(i),o[a]={type:null})}else if(u(r))for(var s in r)i=r[s],a=k(s),o[a]=u(i)?i:{type:i};else 0;t.props=o}}function Gt(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(u(r))for(var a in r){var o=r[a];n[a]=u(o)?P({from:a},o):{from:o}}else 0}}function qt(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"===typeof n&&(e[r]={bind:n,update:n})}}function Ht(t,e,r){if("function"===typeof e&&(e=e.options),Xt(e,r),Gt(e,r),qt(e),!e._base&&(e.extends&&(t=Ht(t,e.extends,r)),e.mixins))for(var n=0,i=e.mixins.length;n<i;n++)t=Ht(t,e.mixins[n],r);var a,o={};for(a in t)s(a);for(a in e)y(t,a)||s(a);function s(n){var i=Ft[n]||Nt;o[n]=i(t[n],e[n],r,n)}return o}function Wt(t,e,r,n){if("string"===typeof r){var i=t[e];if(y(i,r))return i[r];var a=k(r);if(y(i,a))return i[a];var o=M(a);if(y(i,o))return i[o];var s=i[r]||i[a]||i[o];return s}}function Zt(t,e,r,n){var i=e[t],a=!y(r,t),o=r[t],s=te(Boolean,i.type);if(s>-1)if(a&&!y(i,"default"))o=!1;else if(""===o||o===E(t)){var h=te(String,i.type);(h<0||s<h)&&(o=!0)}if(void 0===o){o=Kt(n,i,t);var l=Ct;Dt(!0),Bt(o),Dt(l)}return o}function Kt(t,e,r){if(y(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"===typeof n&&"Function"!==Jt(e.type)?n.call(t):n}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var r=0,n=e.length;r<n;r++)if(Qt(e[r],t))return r;return-1}function ee(t,e,r){wt();try{if(e){var n=e;while(n=n.$parent){var i=n.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var o=!1===i[a].call(n,t,e,r);if(o)return}catch(ko){ne(ko,n,"errorCaptured hook")}}}ne(t,e,r)}finally{vt()}}function re(t,e,r,n,i){var a;try{a=r?t.apply(e,r):t.call(e),a&&!a._isVue&&d(a)&&!a._handled&&(a.catch(function(t){return ee(t,n,i+" (Promise/async)")}),a._handled=!0)}catch(ko){ee(ko,n,i)}return a}function ne(t,e,r){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,r)}catch(ko){ko!==t&&ie(ko,null,"config.errorHandler")}ie(t,e,r)}function ie(t,e,r){if(!Z&&!K||"undefined"===typeof console)throw t;console.error(t)}var ae,oe=!1,se=[],he=!1;function le(){he=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();ae=function(){ue.then(le),nt&&setTimeout(B)},oe=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var fe=1,ce=new MutationObserver(le),de=document.createTextNode(String(fe));ce.observe(de,{characterData:!0}),ae=function(){fe=(fe+1)%2,de.data=String(fe)},oe=!0}function pe(t,e){var r;if(se.push(function(){if(t)try{t.call(e)}catch(ko){ee(ko,e,"nextTick")}else r&&r(e)}),he||(he=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){r=t})}var me=new ft;function ge(t){we(t,me),me.clear()}function we(t,e){var r,n,i=Array.isArray(t);if(!(!i&&!h(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(i){r=t.length;while(r--)we(t[r],e)}else{n=Object.keys(t),r=n.length;while(r--)we(t[n[r]],e)}}}var ve=_(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var r="~"===t.charAt(0);t=r?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:r,capture:n,passive:e}});function be(t,e){function r(){var t=arguments,n=r.fns;if(!Array.isArray(n))return re(n,null,arguments,e,"v-on handler");for(var i=n.slice(),a=0;a<i.length;a++)re(i[a],null,t,e,"v-on handler")}return r.fns=t,r}function ye(t,e,r,i,o,s){var h,l,u,f;for(h in t)l=t[h],u=e[h],f=ve(h),n(l)||(n(u)?(n(l.fns)&&(l=t[h]=be(l,s)),a(f.once)&&(l=t[h]=o(f.name,l,f.capture)),r(f.name,l,f.capture,f.passive,f.params)):l!==u&&(u.fns=l,t[h]=u));for(h in e)n(t[h])&&(f=ve(h),i(f.name,e[h],f.capture))}function _e(t,e,r){var o;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function h(){r.apply(this,arguments),v(o.fns,h)}n(s)?o=be([h]):i(s.fns)&&a(s.merged)?(o=s,o.fns.push(h)):o=be([s,h]),o.merged=!0,t[e]=o}function xe(t,e,r){var a=e.options.props;if(!n(a)){var o={},s=t.attrs,h=t.props;if(i(s)||i(h))for(var l in a){var u=E(l);ke(o,h,l,u,!0)||ke(o,s,l,u,!1)}return o}}function ke(t,e,r,n,a){if(i(e)){if(y(e,r))return t[r]=e[r],a||delete e[r],!0;if(y(e,n))return t[r]=e[n],a||delete e[n],!0}return!1}function Me(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ae(t){return s(t)?[xt(t)]:Array.isArray(t)?Se(t):void 0}function Ee(t){return i(t)&&i(t.text)&&o(t.isComment)}function Se(t,e){var r,o,h,l,u=[];for(r=0;r<t.length;r++)o=t[r],n(o)||"boolean"===typeof o||(h=u.length-1,l=u[h],Array.isArray(o)?o.length>0&&(o=Se(o,(e||"")+"_"+r),Ee(o[0])&&Ee(l)&&(u[h]=xt(l.text+o[0].text),o.shift()),u.push.apply(u,o)):s(o)?Ee(l)?u[h]=xt(l.text+o):""!==o&&u.push(xt(o)):Ee(o)&&Ee(l)?u[h]=xt(l.text+o.text):(a(t._isVList)&&i(o.tag)&&n(o.key)&&i(e)&&(o.key="__vlist"+e+"_"+r+"__"),u.push(o)));return u}function Ce(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function De(t){var e=Ie(t.$options.inject,t);e&&(Dt(!1),Object.keys(e).forEach(function(r){Rt(t,r,e[r])}),Dt(!0))}function Ie(t,e){if(t){for(var r=Object.create(null),n=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<n.length;i++){var a=n[i];if("__ob__"!==a){var o=t[a].from,s=e;while(s){if(s._provided&&y(s._provided,o)){r[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var h=t[a].default;r[a]="function"===typeof h?h.call(e):h}else 0}}return r}}function Pe(t,e){if(!t||!t.length)return{};for(var r={},n=0,i=t.length;n<i;n++){var a=t[n],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(r.default||(r.default=[])).push(a);else{var s=o.slot,h=r[s]||(r[s]=[]);"template"===a.tag?h.push.apply(h,a.children||[]):h.push(a)}}for(var l in r)r[l].every(Te)&&delete r[l];return r}function Te(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Be(t,e,n){var i,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==r&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var h in i={},t)t[h]&&"$"!==h[0]&&(i[h]=Re(e,h,t[h]))}else i={};for(var l in e)l in i||(i[l]=Oe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),X(i,"$stable",o),X(i,"$key",s),X(i,"$hasNormal",a),i}function Re(t,e,r){var n=function(){var t=arguments.length?r.apply(null,arguments):r({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ae(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return r.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function Oe(t,e){return function(){return t[e]}}function Ue(t,e){var r,n,a,o,s;if(Array.isArray(t)||"string"===typeof t)for(r=new Array(t.length),n=0,a=t.length;n<a;n++)r[n]=e(t[n],n);else if("number"===typeof t)for(r=new Array(t),n=0;n<t;n++)r[n]=e(n+1,n);else if(h(t))if(ct&&t[Symbol.iterator]){r=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)r.push(e(u.value,r.length)),u=l.next()}else for(o=Object.keys(t),r=new Array(o.length),n=0,a=o.length;n<a;n++)s=o[n],r[n]=e(t[s],s,n);return i(r)||(r=[]),r._isVList=!0,r}function Le(t,e,r,n){var i,a=this.$scopedSlots[t];a?(r=r||{},n&&(r=P(P({},n),r)),i=a(r)||e):i=this.$slots[t]||e;var o=r&&r.slot;return o?this.$createElement("template",{slot:o},i):i}function Fe(t){return Wt(this.$options,"filters",t,!0)||O}function je(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function $e(t,e,r,n,i){var a=V.keyCodes[e]||r;return i&&n&&!V.keyCodes[e]?je(i,n):a?je(a,t):n?E(n)!==e:void 0}function ze(t,e,r,n,i){if(r)if(h(r)){var a;Array.isArray(r)&&(r=T(r));var o=function(o){if("class"===o||"style"===o||w(o))a=t;else{var s=t.attrs&&t.attrs.type;a=n||V.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var h=k(o),l=E(o);if(!(h in a)&&!(l in a)&&(a[o]=r[o],i)){var u=t.on||(t.on={});u["update:"+o]=function(t){r[o]=t}}};for(var s in r)o(s)}else;return t}function Ve(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e?n:(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ne(n,"__static__"+t,!1),n)}function Ye(t,e,r){return Ne(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ne(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&Xe(t[n],e+"_"+n,r);else Xe(t,e,r)}function Xe(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Ge(t,e){if(e)if(u(e)){var r=t.on=t.on?P({},t.on):{};for(var n in e){var i=r[n],a=e[n];r[n]=i?[].concat(i,a):a}}else;return t}function qe(t,e,r,n){e=e||{$stable:!r};for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?qe(a,e,r):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return n&&(e.$key=n),e}function He(t,e){for(var r=0;r<e.length;r+=2){var n=e[r];"string"===typeof n&&n&&(t[e[r]]=e[r+1])}return t}function We(t,e){return"string"===typeof t?e+t:t}function Ze(t){t._o=Ye,t._n=m,t._s=p,t._l=Ue,t._t=Le,t._q=U,t._i=L,t._m=Ve,t._f=Fe,t._k=$e,t._b=ze,t._v=xt,t._e=_t,t._u=qe,t._g=Ge,t._d=He,t._p=We}function Ke(t,e,n,i,o){var s,h=this,l=o.options;y(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var u=a(l._compiled),f=!u;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=Ie(l.inject,i),this.slots=function(){return h.$slots||Be(t.scopedSlots,h.$slots=Pe(n,i)),h.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Be(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Be(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,r,n){var a=ur(s,t,e,r,n,f);return a&&!Array.isArray(a)&&(a.fnScopeId=l._scopeId,a.fnContext=i),a}:this._c=function(t,e,r,n){return ur(s,t,e,r,n,f)}}function Je(t,e,n,a,o){var s=t.options,h={},l=s.props;if(i(l))for(var u in l)h[u]=Zt(u,l,e||r);else i(n.attrs)&&tr(h,n.attrs),i(n.props)&&tr(h,n.props);var f=new Ke(n,h,o,a,t),c=s.render.call(null,f._c,f);if(c instanceof bt)return Qe(c,n,f.parent,s,f);if(Array.isArray(c)){for(var d=Ae(c)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Qe(d[m],n,f.parent,s,f);return p}}function Qe(t,e,r,n,i){var a=kt(t);return a.fnContext=r,a.fnOptions=n,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function tr(t,e){for(var r in e)t[k(r)]=e[r]}Ze(Ke.prototype);var er={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;er.prepatch(r,r)}else{var n=t.componentInstance=ir(t,Dr);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions,n=e.componentInstance=t.componentInstance;Rr(n,r.propsData,r.listeners,e,r.children)},insert:function(t){var e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Fr(r,"mounted")),t.data.keepAlive&&(e._isMounted?Kr(r):Ur(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Lr(e,!0):e.$destroy())}},rr=Object.keys(er);function nr(t,e,r,o,s){if(!n(t)){var l=r.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(n(t.cid)&&(u=t,t=yr(u,l),void 0===t))return br(u,e,r,o,s);e=e||{},_n(t),i(e.model)&&sr(t.options,e);var f=xe(e,t,s);if(a(t.options.functional))return Je(t,f,e,r,o);var c=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}ar(e);var p=t.options.name||s,m=new bt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:f,listeners:c,tag:s,children:o},u);return m}}}function ir(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return i(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(r)}function ar(t){for(var e=t.hook||(t.hook={}),r=0;r<rr.length;r++){var n=rr[r],i=e[n],a=er[n];i===a||i&&i._merged||(e[n]=i?or(a,i):a)}}function or(t,e){var r=function(r,n){t(r,n),e(r,n)};return r._merged=!0,r}function sr(t,e){var r=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var a=e.on||(e.on={}),o=a[n],s=e.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[n]=[s].concat(o)):a[n]=s}var hr=1,lr=2;function ur(t,e,r,n,i,o){return(Array.isArray(r)||s(r))&&(i=n,n=r,r=void 0),a(o)&&(i=lr),fr(t,e,r,n,i)}function fr(t,e,r,n,a){if(i(r)&&i(r.__ob__))return _t();if(i(r)&&i(r.is)&&(e=r.is),!e)return _t();var o,s,h;(Array.isArray(n)&&"function"===typeof n[0]&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),a===lr?n=Ae(n):a===hr&&(n=Me(n)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),o=V.isReservedTag(e)?new bt(V.parsePlatformTagName(e),r,n,void 0,void 0,t):r&&r.pre||!i(h=Wt(t.$options,"components",e))?new bt(e,r,n,void 0,void 0,t):nr(h,r,t,n,e)):o=nr(e,r,t,n);return Array.isArray(o)?o:i(o)?(i(s)&&cr(o,s),i(r)&&dr(r),o):_t()}function cr(t,e,r){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,r=!0),i(t.children))for(var o=0,s=t.children.length;o<s;o++){var h=t.children[o];i(h.tag)&&(n(h.ns)||a(r)&&"svg"!==h.tag)&&cr(h,e,r)}}function dr(t){h(t.style)&&ge(t.style),h(t.class)&&ge(t.class)}function pr(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Pe(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,r,n,i){return ur(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return ur(t,e,r,n,i,!0)};var a=n&&n.data;Rt(t,"$attrs",a&&a.attrs||r,null,!0),Rt(t,"$listeners",e._parentListeners||r,null,!0)}var mr,gr=null;function wr(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,r=e.$options,n=r.render,i=r._parentVnode;i&&(e.$scopedSlots=Be(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{gr=e,t=n.call(e._renderProxy,e.$createElement)}catch(ko){ee(ko,e,"render"),t=e._vnode}finally{gr=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=_t()),t.parent=i,t}}function vr(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function br(t,e,r,n,i){var a=_t();return a.asyncFactory=t,a.asyncMeta={data:e,context:r,children:n,tag:i},a}function yr(t,e){if(a(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var r=gr;if(r&&i(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r),a(t.loading)&&i(t.loadingComp))return t.loadingComp;if(r&&!i(t.owners)){var o=t.owners=[r],s=!0,l=null,u=null;r.$on("hook:destroyed",function(){return v(o,r)});var f=function(t){for(var e=0,r=o.length;e<r;e++)o[e].$forceUpdate();t&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},c=F(function(r){t.resolved=vr(r,e),s?o.length=0:f(!0)}),p=F(function(e){i(t.errorComp)&&(t.error=!0,f(!0))}),m=t(c,p);return h(m)&&(d(m)?n(t.resolved)&&m.then(c,p):d(m.component)&&(m.component.then(c,p),i(m.error)&&(t.errorComp=vr(m.error,e)),i(m.loading)&&(t.loadingComp=vr(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout(function(){l=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,f(!1))},m.delay||200)),i(m.timeout)&&(u=setTimeout(function(){u=null,n(t.resolved)&&p(null)},m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function _r(t){return t.isComment&&t.asyncFactory}function xr(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(i(r)&&(i(r.componentOptions)||_r(r)))return r}}function kr(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Sr(t,e)}function Mr(t,e){mr.$on(t,e)}function Ar(t,e){mr.$off(t,e)}function Er(t,e){var r=mr;return function n(){var i=e.apply(null,arguments);null!==i&&r.$off(t,n)}}function Sr(t,e,r){mr=t,ye(e,r||{},Mr,Ar,Er,t),mr=void 0}function Cr(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this;if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)n.$on(t[i],r);else(n._events[t]||(n._events[t]=[])).push(r),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var r=this;function n(){r.$off(t,n),e.apply(r,arguments)}return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)r.$off(t[n],e);return r}var a,o=r._events[t];if(!o)return r;if(!e)return r._events[t]=null,r;var s=o.length;while(s--)if(a=o[s],a===e||a.fn===e){o.splice(s,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?I(r):r;for(var n=I(arguments,1),i='event handler for "'+t+'"',a=0,o=r.length;a<o;a++)re(r[a],e,n,e,i)}return e}}var Dr=null;function Ir(t){var e=Dr;return Dr=t,function(){Dr=e}}function Pr(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Tr(t){t.prototype._update=function(t,e){var r=this,n=r.$el,i=r._vnode,a=Ir(r);r._vnode=t,r.$el=i?r.__patch__(i,t):r.__patch__(r.$el,t,e,!1),a(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var r=t._watchers.length;while(r--)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Br(t,e,r){var n;return t.$el=e,t.$options.render||(t.$options.render=_t),Fr(t,"beforeMount"),n=function(){t._update(t._render(),r)},new en(t,n,B,{before:function(){t._isMounted&&!t._isDestroyed&&Fr(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,Fr(t,"mounted")),t}function Rr(t,e,n,i,a){var o=i.data.scopedSlots,s=t.$scopedSlots,h=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(a||t.$options._renderChildren||h);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=a,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){Dt(!1);for(var u=t._props,f=t.$options._propKeys||[],c=0;c<f.length;c++){var d=f[c],p=t.$options.props;u[d]=Zt(d,p,e,t)}Dt(!0),t.$options.propsData=e}n=n||r;var m=t.$options._parentListeners;t.$options._parentListeners=n,Sr(t,n,m),l&&(t.$slots=Pe(a,i.context),t.$forceUpdate())}function Or(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ur(t,e){if(e){if(t._directInactive=!1,Or(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Ur(t.$children[r]);Fr(t,"activated")}}function Lr(t,e){if((!e||(t._directInactive=!0,!Or(t)))&&!t._inactive){t._inactive=!0;for(var r=0;r<t.$children.length;r++)Lr(t.$children[r]);Fr(t,"deactivated")}}function Fr(t,e){wt();var r=t.$options[e],n=e+" hook";if(r)for(var i=0,a=r.length;i<a;i++)re(r[i],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var jr=[],$r=[],zr={},Vr=!1,Yr=!1,Nr=0;function Xr(){Nr=jr.length=$r.length=0,zr={},Vr=Yr=!1}var Gr=0,qr=Date.now;if(Z&&!tt){var Hr=window.performance;Hr&&"function"===typeof Hr.now&&qr()>document.createEvent("Event").timeStamp&&(qr=function(){return Hr.now()})}function Wr(){var t,e;for(Gr=qr(),Yr=!0,jr.sort(function(t,e){return t.id-e.id}),Nr=0;Nr<jr.length;Nr++)t=jr[Nr],t.before&&t.before(),e=t.id,zr[e]=null,t.run();var r=$r.slice(),n=jr.slice();Xr(),Jr(r),Zr(n),lt&&V.devtools&&lt.emit("flush")}function Zr(t){var e=t.length;while(e--){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&Fr(n,"updated")}}function Kr(t){t._inactive=!1,$r.push(t)}function Jr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ur(t[e],!0)}function Qr(t){var e=t.id;if(null==zr[e]){if(zr[e]=!0,Yr){var r=jr.length-1;while(r>Nr&&jr[r].id>t.id)r--;jr.splice(r+1,0,t)}else jr.push(t);Vr||(Vr=!0,pe(Wr))}}var tn=0,en=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++tn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="","function"===typeof e?this.getter=e:(this.getter=q(e),this.getter||(this.getter=B)),this.value=this.lazy?void 0:this.get()};en.prototype.get=function(){var t;wt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(ko){if(!this.user)throw ko;ee(ko,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),vt(),this.cleanupDeps()}return t},en.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},en.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},en.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qr(this)},en.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(ko){ee(ko,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},en.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},en.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},en.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rn={enumerable:!0,configurable:!0,get:B,set:B};function nn(t,e,r){rn.get=function(){return this[e][r]},rn.set=function(t){this[e][r]=t},Object.defineProperty(t,r,rn)}function an(t){t._watchers=[];var e=t.$options;e.props&&on(t,e.props),e.methods&&pn(t,e.methods),e.data?sn(t):Bt(t._data={},!0),e.computed&&un(t,e.computed),e.watch&&e.watch!==at&&mn(t,e.watch)}function on(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[],a=!t.$parent;a||Dt(!1);var o=function(a){i.push(a);var o=Zt(a,e,r,t);Rt(n,a,o),a in t||nn(t,"_props",a)};for(var s in e)o(s);Dt(!0)}function sn(t){var e=t.$options.data;e=t._data="function"===typeof e?hn(e,t):e||{},u(e)||(e={});var r=Object.keys(e),n=t.$options.props,i=(t.$options.methods,r.length);while(i--){var a=r[i];0,n&&y(n,a)||N(a)||nn(t,"_data",a)}Bt(e,!0)}function hn(t,e){wt();try{return t.call(e,e)}catch(ko){return ee(ko,e,"data()"),{}}finally{vt()}}var ln={lazy:!0};function un(t,e){var r=t._computedWatchers=Object.create(null),n=ht();for(var i in e){var a=e[i],o="function"===typeof a?a:a.get;0,n||(r[i]=new en(t,o||B,B,ln)),i in t||fn(t,i,a)}}function fn(t,e,r){var n=!ht();"function"===typeof r?(rn.get=n?cn(e):dn(r),rn.set=B):(rn.get=r.get?n&&!1!==r.cache?cn(e):dn(r.get):B,rn.set=r.set||B),Object.defineProperty(t,e,rn)}function cn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function dn(t){return function(){return t.call(this,this)}}function pn(t,e){t.$options.props;for(var r in e)t[r]="function"!==typeof e[r]?B:D(e[r],t)}function mn(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)gn(t,r,n[i]);else gn(t,r,n)}}function gn(t,e,r,n){return u(r)&&(n=r,r=r.handler),"string"===typeof r&&(r=t[r]),t.$watch(e,r,n)}function wn(t){var e={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=Ot,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,r){var n=this;if(u(e))return gn(n,t,e,r);r=r||{},r.user=!0;var i=new en(n,t,e,r);if(r.immediate)try{e.call(n,i.value)}catch(a){ee(a,n,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var vn=0;function bn(t){t.prototype._init=function(t){var e=this;e._uid=vn++,e._isVue=!0,t&&t._isComponent?yn(e,t):e.$options=Ht(_n(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Pr(e),kr(e),pr(e),Fr(e,"beforeCreate"),De(e),an(e),Ce(e),Fr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function yn(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}function _n(t){var e=t.options;if(t.super){var r=_n(t.super),n=t.superOptions;if(r!==n){t.superOptions=r;var i=xn(t);i&&P(t.extendOptions,i),e=t.options=Ht(r,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function xn(t){var e,r=t.options,n=t.sealedOptions;for(var i in r)r[i]!==n[i]&&(e||(e={}),e[i]=r[i]);return e}function kn(t){this._init(t)}function Mn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=I(arguments,1);return r.unshift(this),"function"===typeof t.install?t.install.apply(t,r):"function"===typeof t&&t.apply(null,r),e.push(t),this}}function An(t){t.mixin=function(t){return this.options=Ht(this.options,t),this}}function En(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var a=t.name||r.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Ht(r.options,t),o["super"]=r,o.options.props&&Sn(o),o.options.computed&&Cn(o),o.extend=r.extend,o.mixin=r.mixin,o.use=r.use,$.forEach(function(t){o[t]=r[t]}),a&&(o.options.components[a]=o),o.superOptions=r.options,o.extendOptions=t,o.sealedOptions=P({},o.options),i[n]=o,o}}function Sn(t){var e=t.options.props;for(var r in e)nn(t.prototype,"_props",r)}function Cn(t){var e=t.options.computed;for(var r in e)fn(t.prototype,r,e[r])}function Dn(t){$.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&u(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"===typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function In(t){return t&&(t.Ctor.options.name||t.tag)}function Pn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!f(t)&&t.test(e)}function Tn(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var a in r){var o=r[a];if(o){var s=In(o.componentOptions);s&&!e(s)&&Bn(r,a,n,i)}}}function Bn(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,v(r,e)}bn(kn),wn(kn),Cr(kn),Tr(kn),wr(kn);var Rn=[String,RegExp,Array],On={name:"keep-alive",abstract:!0,props:{include:Rn,exclude:Rn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Bn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Tn(t,function(t){return Pn(e,t)})}),this.$watch("exclude",function(e){Tn(t,function(t){return!Pn(e,t)})})},render:function(){var t=this.$slots.default,e=xr(t),r=e&&e.componentOptions;if(r){var n=In(r),i=this,a=i.include,o=i.exclude;if(a&&(!n||!Pn(a,n))||o&&n&&Pn(o,n))return e;var s=this,h=s.cache,l=s.keys,u=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;h[u]?(e.componentInstance=h[u].componentInstance,v(l,u),l.push(u)):(h[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Bn(h,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Un={KeepAlive:On};function Ln(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:P,mergeOptions:Ht,defineReactive:Rt},t.set=Ot,t.delete=Ut,t.nextTick=pe,t.observable=function(t){return Bt(t),t},t.options=Object.create(null),$.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,P(t.options.components,Un),Mn(t),An(t),En(t),Dn(t)}Ln(kn),Object.defineProperty(kn.prototype,"$isServer",{get:ht}),Object.defineProperty(kn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kn,"FunctionalRenderContext",{value:Ke}),kn.version="2.6.10";var Fn=g("style,class"),jn=g("input,textarea,option,select,progress"),$n=function(t,e,r){return"value"===r&&jn(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},zn=g("contenteditable,draggable,spellcheck"),Vn=g("events,caret,typing,plaintext-only"),Yn=function(t,e){return Hn(e)||"false"===e?"false":"contenteditable"===t&&Vn(e)?e:"true"},Nn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Xn="http://www.w3.org/1999/xlink",Gn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},qn=function(t){return Gn(t)?t.slice(6,t.length):""},Hn=function(t){return null==t||!1===t};function Wn(t){var e=t.data,r=t,n=t;while(i(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Zn(n.data,e));while(i(r=r.parent))r&&r.data&&(e=Zn(e,r.data));return Kn(e.staticClass,e.class)}function Zn(t,e){return{staticClass:Jn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Kn(t,e){return i(t)||i(e)?Jn(t,Qn(e)):""}function Jn(t,e){return t?e?t+" "+e:t:e||""}function Qn(t){return Array.isArray(t)?ti(t):h(t)?ei(t):"string"===typeof t?t:""}function ti(t){for(var e,r="",n=0,a=t.length;n<a;n++)i(e=Qn(t[n]))&&""!==e&&(r&&(r+=" "),r+=e);return r}function ei(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}var ri={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ni=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ai=function(t){return ni(t)||ii(t)};function oi(t){return ii(t)?"svg":"math"===t?"math":void 0}var si=Object.create(null);function hi(t){if(!Z)return!0;if(ai(t))return!1;if(t=t.toLowerCase(),null!=si[t])return si[t];var e=document.createElement(t);return t.indexOf("-")>-1?si[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:si[t]=/HTMLUnknownElement/.test(e.toString())}var li=g("text,number,password,search,email,tel,url");function ui(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fi(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function ci(t,e){return document.createElementNS(ri[t],e)}function di(t){return document.createTextNode(t)}function pi(t){return document.createComment(t)}function mi(t,e,r){t.insertBefore(e,r)}function gi(t,e){t.removeChild(e)}function wi(t,e){t.appendChild(e)}function vi(t){return t.parentNode}function bi(t){return t.nextSibling}function yi(t){return t.tagName}function _i(t,e){t.textContent=e}function xi(t,e){t.setAttribute(e,"")}var ki=Object.freeze({createElement:fi,createElementNS:ci,createTextNode:di,createComment:pi,insertBefore:mi,removeChild:gi,appendChild:wi,parentNode:vi,nextSibling:bi,tagName:yi,setTextContent:_i,setStyleScope:xi}),Mi={create:function(t,e){Ai(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ai(t,!0),Ai(e))},destroy:function(t){Ai(t,!0)}};function Ai(t,e){var r=t.data.ref;if(i(r)){var n=t.context,a=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[r])?v(o[r],a):o[r]===a&&(o[r]=void 0):t.data.refInFor?Array.isArray(o[r])?o[r].indexOf(a)<0&&o[r].push(a):o[r]=[a]:o[r]=a}}var Ei=new bt("",{},[]),Si=["create","activate","update","remove","destroy"];function Ci(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Di(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function Di(t,e){if("input"!==t.tag)return!0;var r,n=i(r=t.data)&&i(r=r.attrs)&&r.type,a=i(r=e.data)&&i(r=r.attrs)&&r.type;return n===a||li(n)&&li(a)}function Ii(t,e,r){var n,a,o={};for(n=e;n<=r;++n)a=t[n].key,i(a)&&(o[a]=n);return o}function Pi(t){var e,r,o={},h=t.modules,l=t.nodeOps;for(e=0;e<Si.length;++e)for(o[Si[e]]=[],r=0;r<h.length;++r)i(h[r][Si[e]])&&o[Si[e]].push(h[r][Si[e]]);function u(t){return new bt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,e){function r(){0===--r.listeners&&c(t)}return r.listeners=e,r}function c(t){var e=l.parentNode(t);i(e)&&l.removeChild(e,t)}function d(t,e,r,n,o,s,h){if(i(t.elm)&&i(s)&&(t=s[h]=kt(t)),t.isRootInsert=!o,!p(t,e,r,n)){var u=t.data,f=t.children,c=t.tag;i(c)?(t.elm=t.ns?l.createElementNS(t.ns,c):l.createElement(c,t),x(t),b(t,f,e),i(u)&&_(t,e),v(r,t.elm,n)):a(t.isComment)?(t.elm=l.createComment(t.text),v(r,t.elm,n)):(t.elm=l.createTextNode(t.text),v(r,t.elm,n))}}function p(t,e,r,n){var o=t.data;if(i(o)){var s=i(t.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(t,!1),i(t.componentInstance))return m(t,e),v(r,t.elm,n),a(s)&&w(t,e,r,n),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(_(t,e),x(t)):(Ai(t),e.push(t))}function w(t,e,r,n){var a,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(a=s.data)&&i(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](Ei,s);e.push(s);break}v(r,t.elm,n)}function v(t,e,r){i(t)&&(i(r)?l.parentNode(r)===t&&l.insertBefore(t,e,r):l.appendChild(t,e))}function b(t,e,r){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)d(e[n],r,t.elm,null,!0,e,n)}else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function y(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function _(t,r){for(var n=0;n<o.create.length;++n)o.create[n](Ei,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(Ei,t),i(e.insert)&&r.push(t))}function x(t){var e;if(i(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var r=t;while(r)i(e=r.context)&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),r=r.parent}i(e=Dr)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function k(t,e,r,n,i,a){for(;n<=i;++n)d(r[n],a,t,e,!1,r,n)}function M(t){var e,r,n=t.data;if(i(n))for(i(e=n.hook)&&i(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(i(e=t.children))for(r=0;r<t.children.length;++r)M(t.children[r])}function A(t,e,r,n){for(;r<=n;++r){var a=e[r];i(a)&&(i(a.tag)?(E(a),M(a)):c(a.elm))}}function E(t,e){if(i(e)||i(t.data)){var r,n=o.remove.length+1;for(i(e)?e.listeners+=n:e=f(t.elm,n),i(r=t.componentInstance)&&i(r=r._vnode)&&i(r.data)&&E(r,e),r=0;r<o.remove.length;++r)o.remove[r](t,e);i(r=t.data.hook)&&i(r=r.remove)?r(t,e):e()}else c(t.elm)}function S(t,e,r,a,o){var s,h,u,f,c=0,p=0,m=e.length-1,g=e[0],w=e[m],v=r.length-1,b=r[0],y=r[v],_=!o;while(c<=m&&p<=v)n(g)?g=e[++c]:n(w)?w=e[--m]:Ci(g,b)?(D(g,b,a,r,p),g=e[++c],b=r[++p]):Ci(w,y)?(D(w,y,a,r,v),w=e[--m],y=r[--v]):Ci(g,y)?(D(g,y,a,r,v),_&&l.insertBefore(t,g.elm,l.nextSibling(w.elm)),g=e[++c],y=r[--v]):Ci(w,b)?(D(w,b,a,r,p),_&&l.insertBefore(t,w.elm,g.elm),w=e[--m],b=r[++p]):(n(s)&&(s=Ii(e,c,m)),h=i(b.key)?s[b.key]:C(b,e,c,m),n(h)?d(b,a,t,g.elm,!1,r,p):(u=e[h],Ci(u,b)?(D(u,b,a,r,p),e[h]=void 0,_&&l.insertBefore(t,u.elm,g.elm)):d(b,a,t,g.elm,!1,r,p)),b=r[++p]);c>m?(f=n(r[v+1])?null:r[v+1].elm,k(t,f,r,p,v,a)):p>v&&A(t,e,c,m)}function C(t,e,r,n){for(var a=r;a<n;a++){var o=e[a];if(i(o)&&Ci(t,o))return a}}function D(t,e,r,s,h,u){if(t!==e){i(e.elm)&&i(s)&&(e=s[h]=kt(e));var f=e.elm=t.elm;if(a(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?T(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var c,d=e.data;i(d)&&i(c=d.hook)&&i(c=c.prepatch)&&c(t,e);var p=t.children,m=e.children;if(i(d)&&y(e)){for(c=0;c<o.update.length;++c)o.update[c](t,e);i(c=d.hook)&&i(c=c.update)&&c(t,e)}n(e.text)?i(p)&&i(m)?p!==m&&S(f,p,m,r,u):i(m)?(i(t.text)&&l.setTextContent(f,""),k(f,null,m,0,m.length-1,r)):i(p)?A(f,p,0,p.length-1):i(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),i(d)&&i(c=d.hook)&&i(c=c.postpatch)&&c(t,e)}}}function I(t,e,r){if(a(r)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var P=g("attrs,class,staticClass,staticStyle,key");function T(t,e,r,n){var o,s=e.tag,h=e.data,l=e.children;if(n=n||h&&h.pre,e.elm=t,a(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(h)&&(i(o=h.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return m(e,r),!0;if(i(s)){if(i(l))if(t.hasChildNodes())if(i(o=h)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var u=!0,f=t.firstChild,c=0;c<l.length;c++){if(!f||!T(f,l[c],r,n)){u=!1;break}f=f.nextSibling}if(!u||f)return!1}else b(e,l,r);if(i(h)){var d=!1;for(var p in h)if(!P(p)){d=!0,_(e,r);break}!d&&h["class"]&&ge(h["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,s){if(!n(e)){var h=!1,f=[];if(n(t))h=!0,d(e,f);else{var c=i(t.nodeType);if(!c&&Ci(t,e))D(t,e,f,null,null,s);else{if(c){if(1===t.nodeType&&t.hasAttribute(j)&&(t.removeAttribute(j),r=!0),a(r)&&T(t,e,f))return I(e,f,!0),t;t=u(t)}var p=t.elm,m=l.parentNode(p);if(d(e,f,p._leaveCb?null:m,l.nextSibling(p)),i(e.parent)){var g=e.parent,w=y(e);while(g){for(var v=0;v<o.destroy.length;++v)o.destroy[v](g);if(g.elm=e.elm,w){for(var b=0;b<o.create.length;++b)o.create[b](Ei,g);var _=g.data.hook.insert;if(_.merged)for(var x=1;x<_.fns.length;x++)_.fns[x]()}else Ai(g);g=g.parent}}i(m)?A(m,[t],0,0):i(t.tag)&&M(t)}}return I(e,f,h),e.elm}i(t)&&M(t)}}var Ti={create:Bi,update:Bi,destroy:function(t){Bi(t,Ei)}};function Bi(t,e){(t.data.directives||e.data.directives)&&Ri(t,e)}function Ri(t,e){var r,n,i,a=t===Ei,o=e===Ei,s=Ui(t.data.directives,t.context),h=Ui(e.data.directives,e.context),l=[],u=[];for(r in h)n=s[r],i=h[r],n?(i.oldValue=n.value,i.oldArg=n.arg,Fi(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(Fi(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var f=function(){for(var r=0;r<l.length;r++)Fi(l[r],"inserted",e,t)};a?_e(e,"insert",f):f()}if(u.length&&_e(e,"postpatch",function(){for(var r=0;r<u.length;r++)Fi(u[r],"componentUpdated",e,t)}),!a)for(r in s)h[r]||Fi(s[r],"unbind",t,t,o)}var Oi=Object.create(null);function Ui(t,e){var r,n,i=Object.create(null);if(!t)return i;for(r=0;r<t.length;r++)n=t[r],n.modifiers||(n.modifiers=Oi),i[Li(n)]=n,n.def=Wt(e.$options,"directives",n.name,!0);return i}function Li(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fi(t,e,r,n,i){var a=t.def&&t.def[e];if(a)try{a(r.elm,t,r,n,i)}catch(ko){ee(ko,r.context,"directive "+t.name+" "+e+" hook")}}var ji=[Mi,Ti];function $i(t,e){var r=e.componentOptions;if((!i(r)||!1!==r.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var a,o,s,h=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(a in i(u.__ob__)&&(u=e.data.attrs=P({},u)),u)o=u[a],s=l[a],s!==o&&zi(h,a,o);for(a in(tt||rt)&&u.value!==l.value&&zi(h,"value",u.value),l)n(u[a])&&(Gn(a)?h.removeAttributeNS(Xn,qn(a)):zn(a)||h.removeAttribute(a))}}function zi(t,e,r){t.tagName.indexOf("-")>-1?Vi(t,e,r):Nn(e)?Hn(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):zn(e)?t.setAttribute(e,Yn(e,r)):Gn(e)?Hn(r)?t.removeAttributeNS(Xn,qn(e)):t.setAttributeNS(Xn,e,r):Vi(t,e,r)}function Vi(t,e,r){if(Hn(r))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}var Yi={create:$i,update:$i};function Ni(t,e){var r=e.elm,a=e.data,o=t.data;if(!(n(a.staticClass)&&n(a.class)&&(n(o)||n(o.staticClass)&&n(o.class)))){var s=Wn(e),h=r._transitionClasses;i(h)&&(s=Jn(s,Qn(h))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var Xi,Gi={create:Ni,update:Ni},qi="__r",Hi="__c";function Wi(t){if(i(t[qi])){var e=tt?"change":"input";t[e]=[].concat(t[qi],t[e]||[]),delete t[qi]}i(t[Hi])&&(t.change=[].concat(t[Hi],t.change||[]),delete t[Hi])}function Zi(t,e,r){var n=Xi;return function i(){var a=e.apply(null,arguments);null!==a&&Qi(t,i,r,n)}}var Ki=oe&&!(it&&Number(it[1])<=53);function Ji(t,e,r,n){if(Ki){var i=Gr,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}Xi.addEventListener(t,e,ot?{capture:r,passive:n}:r)}function Qi(t,e,r,n){(n||Xi).removeEventListener(t,e._wrapper||e,r)}function ta(t,e){if(!n(t.data.on)||!n(e.data.on)){var r=e.data.on||{},i=t.data.on||{};Xi=e.elm,Wi(r),ye(r,i,Ji,Qi,Zi,e.context),Xi=void 0}}var ea,ra={create:ta,update:ta};function na(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var r,a,o=e.elm,s=t.data.domProps||{},h=e.data.domProps||{};for(r in i(h.__ob__)&&(h=e.data.domProps=P({},h)),s)r in h||(o[r]="");for(r in h){if(a=h[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),a===s[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r&&"PROGRESS"!==o.tagName){o._value=a;var l=n(a)?"":String(a);ia(o,l)&&(o.value=l)}else if("innerHTML"===r&&ii(o.tagName)&&n(o.innerHTML)){ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+a+"</svg>";var u=ea.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(u.firstChild)o.appendChild(u.firstChild)}else if(a!==s[r])try{o[r]=a}catch(ko){}}}}function ia(t,e){return!t.composing&&("OPTION"===t.tagName||aa(t,e)||oa(t,e))}function aa(t,e){var r=!0;try{r=document.activeElement!==t}catch(ko){}return r&&t.value!==e}function oa(t,e){var r=t.value,n=t._vModifiers;if(i(n)){if(n.number)return m(r)!==m(e);if(n.trim)return r.trim()!==e.trim()}return r!==e}var sa={create:na,update:na},ha=_(function(t){var e={},r=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(r).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e});function la(t){var e=ua(t.style);return t.staticStyle?P(t.staticStyle,e):e}function ua(t){return Array.isArray(t)?T(t):"string"===typeof t?ha(t):t}function fa(t,e){var r,n={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(r=la(i.data))&&P(n,r)}(r=la(t.data))&&P(n,r);var a=t;while(a=a.parent)a.data&&(r=la(a.data))&&P(n,r);return n}var ca,da=/^--/,pa=/\s*!important$/,ma=function(t,e,r){if(da.test(e))t.style.setProperty(e,r);else if(pa.test(r))t.style.setProperty(E(e),r.replace(pa,""),"important");else{var n=wa(e);if(Array.isArray(r))for(var i=0,a=r.length;i<a;i++)t.style[n]=r[i];else t.style[n]=r}},ga=["Webkit","Moz","ms"],wa=_(function(t){if(ca=ca||document.createElement("div").style,t=k(t),"filter"!==t&&t in ca)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<ga.length;r++){var n=ga[r]+e;if(n in ca)return n}});function va(t,e){var r=e.data,a=t.data;if(!(n(r.staticStyle)&&n(r.style)&&n(a.staticStyle)&&n(a.style))){var o,s,h=e.elm,l=a.staticStyle,u=a.normalizedStyle||a.style||{},f=l||u,c=ua(e.data.style)||{};e.data.normalizedStyle=i(c.__ob__)?P({},c):c;var d=fa(e,!0);for(s in f)n(d[s])&&ma(h,s,"");for(s in d)o=d[s],o!==f[s]&&ma(h,s,null==o?"":o)}}var ba={create:va,update:va},ya=/\s+/;function _a(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ya).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function xa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ya).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(r.indexOf(n)>=0)r=r.replace(n," ");r=r.trim(),r?t.setAttribute("class",r):t.removeAttribute("class")}}function ka(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&P(e,Ma(t.name||"v")),P(e,t),e}return"string"===typeof t?Ma(t):void 0}}var Ma=_(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Aa=Z&&!et,Ea="transition",Sa="animation",Ca="transition",Da="transitionend",Ia="animation",Pa="animationend";Aa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ca="WebkitTransition",Da="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ia="WebkitAnimation",Pa="webkitAnimationEnd"));var Ta=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ba(t){Ta(function(){Ta(t)})}function Ra(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),_a(t,e))}function Oa(t,e){t._transitionClasses&&v(t._transitionClasses,e),xa(t,e)}function Ua(t,e,r){var n=Fa(t,e),i=n.type,a=n.timeout,o=n.propCount;if(!i)return r();var s=i===Ea?Da:Pa,h=0,l=function(){t.removeEventListener(s,u),r()},u=function(e){e.target===t&&++h>=o&&l()};setTimeout(function(){h<o&&l()},a+1),t.addEventListener(s,u)}var La=/\b(transform|all)(,|$)/;function Fa(t,e){var r,n=window.getComputedStyle(t),i=(n[Ca+"Delay"]||"").split(", "),a=(n[Ca+"Duration"]||"").split(", "),o=ja(i,a),s=(n[Ia+"Delay"]||"").split(", "),h=(n[Ia+"Duration"]||"").split(", "),l=ja(s,h),u=0,f=0;e===Ea?o>0&&(r=Ea,u=o,f=a.length):e===Sa?l>0&&(r=Sa,u=l,f=h.length):(u=Math.max(o,l),r=u>0?o>l?Ea:Sa:null,f=r?r===Ea?a.length:h.length:0);var c=r===Ea&&La.test(n[Ca+"Property"]);return{type:r,timeout:u,propCount:f,hasTransform:c}}function ja(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return $a(e)+$a(t[r])}))}function $a(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function za(t,e){var r=t.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=ka(t.data.transition);if(!n(a)&&!i(r._enterCb)&&1===r.nodeType){var o=a.css,s=a.type,l=a.enterClass,u=a.enterToClass,f=a.enterActiveClass,c=a.appearClass,d=a.appearToClass,p=a.appearActiveClass,g=a.beforeEnter,w=a.enter,v=a.afterEnter,b=a.enterCancelled,y=a.beforeAppear,_=a.appear,x=a.afterAppear,k=a.appearCancelled,M=a.duration,A=Dr,E=Dr.$vnode;while(E&&E.parent)A=E.context,E=E.parent;var S=!A._isMounted||!t.isRootInsert;if(!S||_||""===_){var C=S&&c?c:l,D=S&&p?p:f,I=S&&d?d:u,P=S&&y||g,T=S&&"function"===typeof _?_:w,B=S&&x||v,R=S&&k||b,O=m(h(M)?M.enter:M);0;var U=!1!==o&&!et,L=Na(T),j=r._enterCb=F(function(){U&&(Oa(r,I),Oa(r,D)),j.cancelled?(U&&Oa(r,C),R&&R(r)):B&&B(r),r._enterCb=null});t.data.show||_e(t,"insert",function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),T&&T(r,j)}),P&&P(r),U&&(Ra(r,C),Ra(r,D),Ba(function(){Oa(r,C),j.cancelled||(Ra(r,I),L||(Ya(O)?setTimeout(j,O):Ua(r,s,j)))})),t.data.show&&(e&&e(),T&&T(r,j)),U||L||j()}}}function Va(t,e){var r=t.elm;i(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=ka(t.data.transition);if(n(a)||1!==r.nodeType)return e();if(!i(r._leaveCb)){var o=a.css,s=a.type,l=a.leaveClass,u=a.leaveToClass,f=a.leaveActiveClass,c=a.beforeLeave,d=a.leave,p=a.afterLeave,g=a.leaveCancelled,w=a.delayLeave,v=a.duration,b=!1!==o&&!et,y=Na(d),_=m(h(v)?v.leave:v);0;var x=r._leaveCb=F(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),b&&(Oa(r,u),Oa(r,f)),x.cancelled?(b&&Oa(r,l),g&&g(r)):(e(),p&&p(r)),r._leaveCb=null});w?w(k):k()}function k(){x.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),c&&c(r),b&&(Ra(r,l),Ra(r,f),Ba(function(){Oa(r,l),x.cancelled||(Ra(r,u),y||(Ya(_)?setTimeout(x,_):Ua(r,s,x)))})),d&&d(r,x),b||y||x())}}function Ya(t){return"number"===typeof t&&!isNaN(t)}function Na(t){if(n(t))return!1;var e=t.fns;return i(e)?Na(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Xa(t,e){!0!==e.data.show&&za(e)}var Ga=Z?{create:Xa,activate:Xa,remove:function(t,e){!0!==t.data.show?Va(t,e):e()}}:{},qa=[Yi,Gi,ra,sa,ba,Ga],Ha=qa.concat(ji),Wa=Pi({nodeOps:ki,modules:Ha});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&no(t,"input")});var Za={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?_e(r,"postpatch",function(){Za.componentUpdated(t,e,r)}):Ka(t,e,r.context),t._vOptions=[].map.call(t.options,to)):("textarea"===r.tag||li(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",ro),t.addEventListener("change",ro),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){Ka(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,to);if(i.some(function(t,e){return!U(t,n[e])})){var a=t.multiple?e.value.some(function(t){return Qa(t,i)}):e.value!==e.oldValue&&Qa(e.value,i);a&&no(t,"change")}}}};function Ka(t,e,r){Ja(t,e,r),(tt||rt)&&setTimeout(function(){Ja(t,e,r)},0)}function Ja(t,e,r){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var a,o,s=0,h=t.options.length;s<h;s++)if(o=t.options[s],i)a=L(n,to(o))>-1,o.selected!==a&&(o.selected=a);else if(U(to(o),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Qa(t,e){return e.every(function(e){return!U(e,t)})}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function ro(t){t.target.composing&&(t.target.composing=!1,no(t.target,"input"))}function no(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function io(t){return!t.componentInstance||t.data&&t.data.transition?t:io(t.componentInstance._vnode)}var ao={bind:function(t,e,r){var n=e.value;r=io(r);var i=r.data&&r.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,za(r,function(){t.style.display=a})):t.style.display=n?a:"none"},update:function(t,e,r){var n=e.value,i=e.oldValue;if(!n!==!i){r=io(r);var a=r.data&&r.data.transition;a?(r.data.show=!0,n?za(r,function(){t.style.display=t.__vOriginalDisplay}):Va(r,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}},oo={model:Za,show:ao},so={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ho(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ho(xr(e.children)):t}function lo(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var a in i)e[k(a)]=i[a];return e}function uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fo(t){while(t=t.parent)if(t.data.transition)return!0}function co(t,e){return e.key===t.key&&e.tag===t.tag}var po=function(t){return t.tag||_r(t)},mo=function(t){return"show"===t.name},go={name:"transition",props:so,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(po),r.length)){0;var n=this.mode;0;var i=r[0];if(fo(this.$vnode))return i;var a=ho(i);if(!a)return i;if(this._leaving)return uo(t,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var h=(a.data||(a.data={})).transition=lo(this),l=this._vnode,u=ho(l);if(a.data.directives&&a.data.directives.some(mo)&&(a.data.show=!0),u&&u.data&&!co(a,u)&&!_r(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var f=u.data.transition=P({},h);if("out-in"===n)return this._leaving=!0,_e(f,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),uo(t,i);if("in-out"===n){if(_r(a))return l;var c,d=function(){c()};_e(h,"afterEnter",d),_e(h,"enterCancelled",d),_e(f,"delayLeave",function(t){c=t})}}return i}}},wo=P({tag:String,moveClass:String},so);delete wo.mode;var vo={props:wo,beforeMount:function(){var t=this,e=this._update;this._update=function(r,n){var i=Ir(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,r,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=lo(this),s=0;s<i.length;s++){var h=i[s];if(h.tag)if(null!=h.key&&0!==String(h.key).indexOf("__vlist"))a.push(h),r[h.key]=h,(h.data||(h.data={})).transition=o;else;}if(n){for(var l=[],u=[],f=0;f<n.length;f++){var c=n[f];c.data.transition=o,c.data.pos=c.elm.getBoundingClientRect(),r[c.key]?l.push(c):u.push(c)}this.kept=t(e,null,l),this.removed=u}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(bo),t.forEach(yo),t.forEach(_o),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;Ra(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(Da,r._moveCb=function t(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(Da,t),r._moveCb=null,Oa(r,e))})}}))},methods:{hasMove:function(t,e){if(!Aa)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){xa(r,t)}),_a(r,e),r.style.display="none",this.$el.appendChild(r);var n=Fa(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}};function bo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function yo(t){t.data.newPos=t.elm.getBoundingClientRect()}function _o(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+n+"px,"+i+"px)",a.transitionDuration="0s"}}var xo={Transition:go,TransitionGroup:vo};kn.config.mustUseProp=$n,kn.config.isReservedTag=ai,kn.config.isReservedAttr=Fn,kn.config.getTagNamespace=oi,kn.config.isUnknownElement=hi,P(kn.options.directives,oo),P(kn.options.components,xo),kn.prototype.__patch__=Z?Wa:B,kn.prototype.$mount=function(t,e){return t=t&&Z?ui(t):void 0,Br(this,t,e)},Z&&setTimeout(function(){V.devtools&&lt&&lt.emit("init",kn)},0),e["a"]=kn}).call(this,r("c8ba"))},"2b4c":function(t,e,r){var n=r("5537")("wks"),i=r("ca5a"),a=r("7726").Symbol,o="function"==typeof a,s=t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=n},"2ceb":function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"2d00":function(t,e){t.exports=!1},"2d3f":function(t,e,r){var n=r("b2d2"),i=r("e7ca");t.exports={encode:n,decode:i}},"2d95":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},3003:function(t,e,r){"use strict";function n(t){return t.hasOwnProperty("lazy")&&t.lazy}function i(t,e){return t[a+e]}var a="async_computed$lazy_active$",o="async_computed$lazy_data$";function s(t,e){t[a+e]=!1,t[o+e]=null}function h(t){return{get:function(){return this[a+t]=!0,this[o+t]},set:function(e){this[o+t]=e}}}function l(t,e,r){t[o+e]=r}function u(t,e){return t[o+e]}var f=function(t){return function(){var e=this;return t.watch.forEach(function(t){var r=t.split(".");if(1===r.length)e[t];else try{var n=e;r.forEach(function(t){n=n[t]})}catch(i){throw console.error("AsyncComputed: bad path: ",t),i}}),t.get.call(this)}},c=function(t){return function(){return t.watch.call(this),t.get.call(this)}};function d(t){if("function"===typeof t.watch)return c(t);if(Array.isArray(t.watch))return t.watch.forEach(function(t){if("string"!==typeof t)throw new Error("AsyncComputed: watch elemnts must be strings")}),f(t);throw Error("AsyncComputed: watch should be function or an array")}var p="function"===typeof Symbol?Symbol("did-not-update"):{},m=function(t,e){return function(){return t.shouldUpdate.call(this)?e.call(this):p}},g=function(t){return p===t},w="_async_computed$",v={install:function(t,e){e=e||{},t.config.optionMergeStrategies.asyncComputed=t.config.optionMergeStrategies.computed,t.mixin({data:function(){return{_asyncComputed:{}}},computed:{$asyncComputed:function(){return this.$data._asyncComputed}},beforeCreate:function(){var t=this.$options.asyncComputed||{};if(Object.keys(t).length){for(var e in t){var r=k(e,t[e]);this.$options.computed[w+e]=r}this.$options.data=y(this.$options)}},created:function(){for(var r in this.$options.asyncComputed||{}){var i=this.$options.asyncComputed[r],a=M.call(this,i,e);n(i)?l(this,r,a):this[r]=a}for(var o in this.$options.asyncComputed||{})b(this,o,e,t)}})}};function b(t,e,r,n){var i=0,a=function(a){var o=++i;g(a)||(a&&a.then||(a=Promise.resolve(a)),_(t,e,"updating"),a.then(function(r){o===i&&(_(t,e,"success"),t[e]=r)}).catch(function(a){if(o===i&&(_(t,e,"error"),n.set(t.$data._asyncComputed[e],"exception",a),!1!==r.errorHandler)){var s=void 0===r.errorHandler?console.error.bind(console,"Error evaluating async computed property:"):r.errorHandler;r.useRawError?s(a,t,a.stack):s(a.stack)}}))};n.set(t.$data._asyncComputed,e,{exception:null,update:function(){a(x(t.$options.asyncComputed[e]).apply(t))}}),_(t,e,"updating"),t.$watch(w+e,a,{immediate:!0})}function y(t){var e=t.data,r=t.asyncComputed||{};return function(t){var i=("function"===typeof e?e.call(this,t):e)||{};for(var a in r){var o=this.$options.asyncComputed[a];n(o)?(s(i,a),this.$options.computed[a]=h(a)):i[a]=null}return i}}function _(t,e,r){t.$set(t.$data._asyncComputed[e],"state",r),t.$set(t.$data._asyncComputed[e],"updating","updating"===r),t.$set(t.$data._asyncComputed[e],"error","error"===r),t.$set(t.$data._asyncComputed[e],"success","success"===r)}function x(t){return"function"===typeof t?t:t.get}function k(t,e){if("function"===typeof e)return e;var r=e.get;if(e.hasOwnProperty("watch")&&(r=d(e)),e.hasOwnProperty("shouldUpdate")&&(r=m(e,r)),n(e)){var a=r;r=function(){return i(this,t)?a.call(this):u(this,t)}}return r}function M(t,e){var r=null;return"default"in t?r=t.default:"default"in e&&(r=e.default),"function"===typeof r?r.call(this):r}"undefined"!==typeof window&&window.Vue&&window.Vue.use(v),e["a"]=v},"31f4":function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},"32e9":function(t,e,r){var n=r("86cc"),i=r("4630");t.exports=r("9e1e")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},"33a4":function(t,e,r){var n=r("84f2"),i=r("2b4c")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},"374c":function(t,e,r){"use strict";function n(t,e){for(var r=0,n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}t.exports=i,i.squared=n},"38fd":function(t,e,r){var n=r("69a8"),i=r("4bf8"),a=r("613b")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},3998:function(t){t.exports={_from:"has-own@^1.0.0",_id:"has-own@1.0.0",_inBundle:!1,_integrity:"sha1-MGIkbjHP2Iepph7m04ylcok3jNE=",_location:"/has-own",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"has-own@^1.0.0",name:"has-own",escapedName:"has-own",rawSpec:"^1.0.0",saveSpec:null,fetchSpec:"^1.0.0"},_requiredBy:["/image-js"],_resolved:"https://registry.npmjs.org/has-own/-/has-own-1.0.0.tgz",_shasum:"3062246e31cfd887a9a61ee6d38ca57289378cd1",_spec:"has-own@^1.0.0",_where:"C:\\User Data\\Design and Art\\Jobs\\alexnakhleh.com\\Tree-Value-Vue\\three-value-view\\node_modules\\image-js",author:{name:"Aaron Heckmann",email:"aaron.heckmann+github@gmail.com"},bugs:{url:"https://github.com/pebble/has-own/issues"},bundleDependencies:!1,deprecated:!1,description:"A safer .hasOwnProperty() - hasOwn(name, obj)",devDependencies:{mocha:"^1.21.0"},homepage:"https://github.com/pebble/has-own/",license:"MIT",main:"index.js",name:"has-own",repository:{type:"git",url:"git://github.com/pebble/has-own.git"},scripts:{test:"make test"},version:"1.0.0"}},"39a9":function(t,e,r){"use strict";const n={alpha:.01,constant:-Math.E};class i{constructor(t){t=Object.assign({},n,t),this.alpha=t.alpha,this.constant=t.constant}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.tanh(this.alpha*r+this.constant)}}t.exports=i},"3d78":function(module,exports,__webpack_require__){"use strict";(function(Buffer){const toBytes=t=>[...t].map(t=>t.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t,e=0){let r=t[e],n=1,i=0;while(++i<8)n*=256,r+=t[e+i]*n;return r}const fileType=t=>{if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(t,r)=>{r=Object.assign({offset:0},r);for(let n=0;n<t.length;n++)if(r.mask){if(t[n]!==(r.mask[n]&e[n+r.offset]))return!1}else if(t[n]!==e[n+r.offset])return!1;return!0},n=(t,e)=>r(toBytes(t),e);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const t=(t,e=0)=>t.findIndex((t,r,n)=>r>=e&&80===n[r]&&75===n[r+1]&&3===n[r+2]&&4===n[r+3]);let i=0,a=!1,o=null;do{const s=i+30;if(a||(a=r(oxmlContentTypes,{offset:s})||r(oxmlRels,{offset:s})),o||(n("word/",{offset:s})?o={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:s})?o={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:s})&&(o={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),a&&o)return o;i=t(e,s)}while(i>=0);if(o)return o}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const t=e.subarray(4,4100),r=t.findIndex((t,e,r)=>66===r[e]&&130===r[e+1]);if(-1!==r){const e=r+3,n=r=>[...r].every((r,n)=>t[e+n]===r.charCodeAt(0));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let t=30;do{const n=readUInt64LE(e,t+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:t})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}t+=n}while(t+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let i=0;i<2&&i<e.length-16;i++){if(r([73,68,51],{offset:i})||r([255,226],{offset:i,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:i,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:i,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:i,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,()=>{})):resolve(readableStream.pipe(t))})})}).call(this,__webpack_require__("b639").Buffer)},"3f82":function(t,e,r){"use strict";const n={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},4126:function(t,e,r){"use strict";var n=r("a177"),i=r("be7f"),a=r("7b27"),o=r("4dc6"),s=r("8936"),h=Object.prototype.toString,l=0,u=4,f=0,c=1,d=2,p=-1,m=0,g=8;function w(t){if(!(this instanceof w))return new w(t);this.options=i.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==f)throw new Error(o[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"===typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=n.deflateSetDictionary(this.strm,l),r!==f)throw new Error(o[r]);this._dict_set=!0}}function v(t,e){var r=new w(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}function b(t,e){return e=e||{},e.raw=!0,v(t,e)}function y(t,e){return e=e||{},e.gzip=!0,v(t,e)}w.prototype.push=function(t,e){var r,o,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?u:l,"string"===typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===h.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(p),s.next_out=0,s.avail_out=p),r=n.deflate(s,o),r!==c&&r!==f)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||o!==u&&o!==d)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&r!==c);return o===u?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===f):o!==d||(this.onEnd(f),s.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=w,e.deflate=v,e.deflateRaw=b,e.gzip=y},"41a0":function(t,e,r){"use strict";var n=r("2aeb"),i=r("4630"),a=r("7f20"),o={};r("32e9")(o,r("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},"41c8":function(t,e){function r(t,e){t=t||0;for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}t.exports=r},4588:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4a59":function(t,e,r){var n=r("9b43"),i=r("1fa8"),a=r("33a4"),o=r("cb7c"),s=r("9def"),h=r("27ee"),l={},u={};e=t.exports=function(t,e,r,f,c){var d,p,m,g,w=c?function(){return t}:h(t),v=n(r,f,e?2:1),b=0;if("function"!=typeof w)throw TypeError(t+" is not iterable!");if(a(w)){for(d=s(t.length);d>b;b++)if(g=e?v(o(p=t[b])[0],p[1]):v(t[b]),g===l||g===u)return g}else for(m=w.call(t);!(p=m.next()).done;)if(g=i(m,v,p.value,e),g===l||g===u)return g};e.BREAK=l,e.RETURN=u},"4bf8":function(t,e,r){var n=r("be13");t.exports=function(t){return Object(n(t))}},"4dc6":function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e7":function(t,e,r){"use strict";const n=r("b4ae").Matrix,i=r("26d1"),a=r("b245"),o=r("b19b"),s=r("1a5d"),h=r("167f"),l=r("bd5a"),u=r("df0d"),f=r("aae2"),c=r("d3f1"),d=r("39a9"),p={gaussian:i,rbf:i,polynomial:a,poly:a,anova:o,cauchy:s,exponential:h,histogram:l,min:l,laplacian:u,multiquadratic:f,rational:c,sigmoid:d,mlp:d};class m{constructor(t,e){if(this.kernelType=t,"linear"!==t)if("string"===typeof t){t=t.toLowerCase();var r=p[t];if(!r)throw new Error("unsupported kernel type: "+t);this.kernelFunction=new r(e)}else{if("object"!==typeof t||"function"!==typeof t.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=t}}compute(t,e){if(void 0===e&&(e=t),"linear"===this.kernelType){var r=new n(t);return r.mmul(new n(e).transposeView())}const i=new n(t.length,e.length);var a,o;if(t===e)for(a=0;a<t.length;a++)for(o=a;o<t.length;o++)i[a][o]=i[o][a]=this.kernelFunction.compute(t[a],t[o]);else for(a=0;a<t.length;a++)for(o=0;o<e.length;o++)i[a][o]=this.kernelFunction.compute(t[a],e[o]);return i}}t.exports=m},"551c":function(t,e,r){"use strict";var n,i,a,o,s=r("2d00"),h=r("7726"),l=r("9b43"),u=r("23c6"),f=r("5ca1"),c=r("d3f4"),d=r("d8e8"),p=r("f605"),m=r("4a59"),g=r("ebd6"),w=r("1991").set,v=r("8079")(),b=r("a5b8"),y=r("9c80"),_=r("a25f"),x=r("bcaa"),k="Promise",M=h.TypeError,A=h.process,E=A&&A.versions,S=E&&E.v8||"",C=h[k],D="process"==u(A),I=function(){},P=i=b.f,T=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[r("2b4c")("species")]=function(t){t(I,I)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==S.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(n){}}(),B=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var r=t._c;v(function(){var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,h=e.resolve,l=e.reject,u=e.domain;try{s?(i||(2==t._h&&L(t),t._h=1),!0===s?r=n:(u&&u.enter(),r=s(n),u&&(u.exit(),o=!0)),r===e.promise?l(M("Promise-chain cycle")):(a=B(r))?a.call(r,h,l):h(r)):l(n)}catch(f){u&&!o&&u.exit(),l(f)}};while(r.length>a)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){w.call(h,function(){var e,r,n,i=t._v,a=U(t);if(a&&(e=y(function(){D?A.emit("unhandledRejection",i,t):(r=h.onunhandledrejection)?r({promise:t,reason:i}):(n=h.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=D||U(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},U=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){w.call(h,function(){var e;D?A.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},j=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw M("Promise can't be resolved itself");(e=B(t))?v(function(){var n={_w:r,_d:!1};try{e.call(t,l(j,n,1),l(F,n,1))}catch(i){F.call(n,i)}}):(r._v=t,r._s=1,R(r,!1))}catch(n){F.call({_w:r,_d:!1},n)}}};T||(C=function(t){p(this,C,k,"_h"),d(t),n.call(this);try{t(l(j,this,1),l(F,this,1))}catch(e){F.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r("dcbc")(C.prototype,{then:function(t,e){var r=P(g(this,C));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?A.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=l(j,t,1),this.reject=l(F,t,1)},b.f=P=function(t){return t===C||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!T,{Promise:C}),r("7f20")(C,k),r("7a56")(k),o=r("8378")[k],f(f.S+f.F*!T,k,{reject:function(t){var e=P(this),r=e.reject;return r(t),e.promise}}),f(f.S+f.F*(s||!T),k,{resolve:function(t){return x(s&&this===o?C:this,t)}}),f(f.S+f.F*!(T&&r("5cc5")(function(t){C.all(t)["catch"](I)})),k,{all:function(t){var e=this,r=P(e),n=r.resolve,i=r.reject,a=y(function(){var r=[],a=0,o=1;m(t,!1,function(t){var s=a++,h=!1;r.push(void 0),o++,e.resolve(t).then(function(t){h||(h=!0,r[s]=t,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=P(e),n=r.reject,i=y(function(){m(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},5537:function(t,e,r){var n=r("8378"),i=r("7726"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5788:function(t,e,r){"use strict";e.decode=r("7a82")},"594c":function(t,e,r){"use strict";var n=r("e57f"),i={DEBUG:!1,ifft2DArray:function(t,e,r){var i=new Array(e*r),a=e/2,o=2*(r-1);n.init(a);for(var s={re:new Array(a),im:new Array(a)},h=0;h<r;h++){for(var l=a-1;l>=0;l--)s.re[l]=t[2*l*r+h],s.im[l]=t[(2*l+1)*r+h];n.bt(s.re,s.im);for(l=a-1;l>=0;l--)i[2*l*r+h]=s.re[l],i[(2*l+1)*r+h]=s.im[l]}var u=new Array(a*o);n.init(o);var f={re:new Array(o),im:new Array(o)},c=o*a;for(l=0;l<e;l+=2){f.re[0]=i[l*r],f.im[0]=i[(l+1)*r];for(h=1;h<r;h++)f.re[h]=i[l*r+h],f.im[h]=i[(l+1)*r+h],f.re[o-h]=i[l*r+h],f.im[o-h]=-i[(l+1)*r+h];n.bt(f.re,f.im);var d=l/2*o;for(h=o-1;h>=0;h--)u[d+h]=f.re[h]/c}return u},fft2DArray:function(t,e,r,i){Object.assign({},{inplace:!0});var a=r/2+1,o=2*e,s=new Array(o*a);n.init(r);for(var h,l,u,f,c,d={re:new Array(r),im:new Array(r)},p={re:new Array(r),im:new Array(r)},m={re:new Array(r),im:new Array(r)},g=0;g<e/2;g++){h=2*g*r,d.re=t.slice(h,h+r),h=(2*g+1)*r,d.im=t.slice(h,h+r),n.fft1d(d.re,d.im),this.reconstructTwoRealFFT(d,p,m),l=4*g*a,u=(4*g+1)*a,f=(4*g+2)*a,c=(4*g+3)*a;for(var w=a-1;w>=0;w--)s[l+w]=p.re[w],s[u+w]=p.im[w],s[f+w]=m.re[w],s[c+w]=m.im[w]}p=null,m=null;var v=new Array(o*a);n.init(e);for(var b={re:new Array(e),im:new Array(e)},y=a-1;y>=0;y--){for(g=e-1;g>=0;g--)b.re[g]=s[2*g*a+y],b.im[g]=s[(2*g+1)*a+y],isNaN(b.re[g])&&(b.re[g]=0),isNaN(b.im[g])&&(b.im[g]=0);n.fft1d(b.re,b.im);for(g=e-1;g>=0;g--)v[2*g*a+y]=b.re[g],v[(2*g+1)*a+y]=b.im[g]}return v},reconstructTwoRealFFT:function(t,e,r){var n,i,a,o,s,h=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var l=h/2;l>0;l--)s=h-l,n=.5*(t.re[l]-t.re[s]),i=.5*(t.re[l]+t.re[s]),a=.5*(t.im[l]-t.im[s]),o=.5*(t.im[l]+t.im[s]),e.re[l]=i,e.im[l]=a,e.re[s]=i,e.im[s]=-a,r.re[l]=o,r.im[l]=-n,r.re[s]=o,r.im[s]=n},convolute2DI:function(t,e,r,n){for(var i,a,o=0;o<r/2;o++)for(var s=0;s<n;s++)i=t[2*o*n+s]*e[2*o*n+s]-t[(2*o+1)*n+s]*e[(2*o+1)*n+s],a=t[2*o*n+s]*e[(2*o+1)*n+s]+t[(2*o+1)*n+s]*e[2*o*n+s],t[2*o*n+s]=i,t[(2*o+1)*n+s]=a},convolute:function(t,e,r,n,i){for(var a=new Array(n*r),o=0;o<r*n;o++)a[o]=t[o];a=this.fft2DArray(a,r,n);var s,h,l=e.length,u=e[0].length,f=new Array(n*r);for(o=0;o<n*r;o++)f[o]=0;for(var c=Math.floor((l-1)/2),d=Math.floor((u-1)/2),p=0;p<l;p++){s=(p-c+r)%r;for(var m=0;m<u;m++)h=(m-d+n)%n,f[s*n+h]=e[p][m]}f=this.fft2DArray(f,r,n);var g=2*r,w=n/2+1;return this.convolute2DI(a,f,g,w),this.ifft2DArray(a,g,w)},toRadix2:function(t,e,r){var n,i,a,o,s=r,h=e;if(0===r||0!==(r&r-1)){s=0;while(r>>++s!=0);s=1<<s,s-r}if(0===e||0!==(e&e-1)){h=0;while(e>>++h!=0);h=1<<h,(h-e)*s}if(h==e&&s==r)return{data:t,rows:e,cols:r};var l=new Array(h*s),u=Math.floor((h-e)/2)-e,f=Math.floor((s-r)/2)-r;for(n=0;n<h;n++)for(a=n*s,o=(n-u)%e*r,i=0;i<s;i++)l[a+i]=t[o+(i-f)%r];return{data:l,rows:h,cols:s}},crop:function(t,e,r,n,i,a){if(e==n&&r==i)return t;Object.assign({},a);var o,s,h,l,u=new Array(i*n),f=Math.floor((e-n)/2),c=Math.floor((r-i)/2);for(h=0;h<n;h++)for(o=h*i,s=(h+f)*r,l=0;l<i;l++)u[o+l]=t[s+(l+c)];return u}};t.exports=i},"5ca1":function(t,e,r){var n=r("7726"),i=r("8378"),a=r("32e9"),o=r("2aba"),s=r("9b43"),h="prototype",l=function(t,e,r){var u,f,c,d,p=t&l.F,m=t&l.G,g=t&l.S,w=t&l.P,v=t&l.B,b=m?n:g?n[e]||(n[e]={}):(n[e]||{})[h],y=m?i:i[e]||(i[e]={}),_=y[h]||(y[h]={});for(u in m&&(r=e),r)f=!p&&b&&void 0!==b[u],c=(f?b:r)[u],d=v&&f?s(c,n):w&&"function"==typeof c?s(Function.call,c):c,b&&o(b,u,c,t&l.U),y[u]!=c&&a(y,u,d),w&&_[u]!=c&&(_[u]=c)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5cc5":function(t,e,r){var n=r("2b4c")("iterator"),i=!1;try{var a=[7][n]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:r=!0}},a[n]=function(){return s},t(a)}catch(o){}return r}},"5eaf":function(t,e,r){"use strict";e.encode=r("7218")},"5f2b":function(t,e,r){"use strict";t.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},"613b":function(t,e,r){var n=r("5537")("keys"),i=r("ca5a");t.exports=function(t){return n[t]||(n[t]=i(t))}},"626a":function(t,e,r){var n=r("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6821:function(t,e,r){var n=r("626a"),i=r("be13");t.exports=function(t){return n(i(t))}},6853:function(t,e,r){"use strict";var n=r("be7f"),i=15,a=852,o=592,s=0,h=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,p,m,g,w,v){var b,y,_,x,k,M,A,E,S,C=v.bits,D=0,I=0,P=0,T=0,B=0,R=0,O=0,U=0,L=0,F=0,j=null,$=0,z=new n.Buf16(i+1),V=new n.Buf16(i+1),Y=null,N=0;for(D=0;D<=i;D++)z[D]=0;for(I=0;I<p;I++)z[e[r+I]]++;for(B=C,T=i;T>=1;T--)if(0!==z[T])break;if(B>T&&(B=T),0===T)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for(P=1;P<T;P++)if(0!==z[P])break;for(B<P&&(B=P),U=1,D=1;D<=i;D++)if(U<<=1,U-=z[D],U<0)return-1;if(U>0&&(t===s||1!==T))return-1;for(V[1]=0,D=1;D<i;D++)V[D+1]=V[D]+z[D];for(I=0;I<p;I++)0!==e[r+I]&&(w[V[e[r+I]]++]=I);if(t===s?(j=Y=w,M=19):t===h?(j=u,$-=257,Y=f,N-=257,M=256):(j=c,Y=d,M=-1),F=0,I=0,D=P,k=g,R=B,O=0,_=-1,L=1<<B,x=L-1,t===h&&L>a||t===l&&L>o)return 1;for(;;){A=D-O,w[I]<M?(E=0,S=w[I]):w[I]>M?(E=Y[N+w[I]],S=j[$+w[I]]):(E=96,S=0),b=1<<D-O,y=1<<R,P=y;do{y-=b,m[k+(F>>O)+y]=A<<24|E<<16|S|0}while(0!==y);b=1<<D-1;while(F&b)b>>=1;if(0!==b?(F&=b-1,F+=b):F=0,I++,0===--z[D]){if(D===T)break;D=e[r+w[I]]}if(D>B&&(F&x)!==_){0===O&&(O=B),k+=P,R=D-O,U=1<<R;while(R+O<T){if(U-=z[R+O],U<=0)break;R++,U<<=1}if(L+=1<<R,t===h&&L>a||t===l&&L>o)return 1;_=F&x,m[_]=B<<24|R<<16|k-g|0}}return 0!==F&&(m[k+F]=D-O<<24|64<<16|0),v.bits=B,0}},"69a8":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"6a99":function(t,e,r){var n=r("d3f4");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b83":function(t,e,r){var n;(function(e){t.exports=e()})(function(){return function t(e,r,i){function a(s,h){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!h&&l)return n(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var r=e[s][1][t];return a(r||t)},f,f.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){var n,i,a,o,s,h=function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=t("./PriorityQueue/AbstractPriorityQueue"),i=t("./PriorityQueue/ArrayStrategy"),o=t("./PriorityQueue/BinaryHeapStrategy"),a=t("./PriorityQueue/BHeapStrategy"),s=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=o),t.comparator||(t.comparator=function(t,e){return(t||0)-(e||0)}),e.__super__.constructor.call(this,t)}return h(e,t),e}(n),s.ArrayStrategy=i,s.BinaryHeapStrategy=o,s.BHeapStrategy=a,e.exports=s},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var n;n=function(t,e,r){var n,i,a;i=0,n=t.length;while(i<n)a=i+n>>>1,r(t[a],e)>=0?i=a+1:n=a;return i},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=n(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,n,i,a,o,s,h;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,s=0;while(1<<s<this.pageSize)s+=1;if(1<<s!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=s,this._emptyMemoryPageTemplate=e=[],r=0,a=this.pageSize;0<=a?r<a:r>a;0<=a?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(o=t.initialValues,n=0,i=o.length;n<i;n++)h=o[n],this.queue(h)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;r=t>>this._shift;while(r>=this._memory.length)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,n,i,a;r=this.comparator;while(t>1){if(n=t&this._mask,t<this.pageSize||n>3?i=t&~this._mask|n>>1:n<2?(i=t-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=t-2,a=this._read(i),r(a,e)<0)break;this._write(i,e),this._write(t,a),t=i}},t.prototype._bubbleDown=function(t,e){var r,n,i,a,o;o=this.comparator;while(t<this.length)if(t>this._mask&&!(t&this._mask-1)?r=n=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,r|=t&this._mask>>1,r=r+1<<this._shift,n=r+1):(r=t+(t&this._mask),n=r+1),r!==n&&n<=this.length)if(i=this._read(r),a=this._read(n),o(i,e)<0&&o(i,a)<=0)this._write(r,e),this._write(t,i),t=r;else{if(!(o(a,e)<0))break;this._write(n,e),this._write(t,a),t=n}else{if(!(r<=this.length))break;if(i=this._read(r),!(o(i,e)<0))break;this._write(r,e),this._write(t,i),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var t,e,r;if(this.data.length>0)for(t=e=1,r=this.data.length;1<=r?e<r:e>r;t=1<=r?++e:--e)this._bubbleUp(t)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){var e,r;while(t>0){if(e=t-1>>>1,!(this.comparator(this.data[t],this.data[e])<0))break;r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e}},t.prototype._bubbleDown=function(t){var e,r,n,i,a;e=this.data.length-1;while(1){if(r=1+(t<<1),i=r+1,n=t,r<=e&&this.comparator(this.data[r],this.data[n])<0&&(n=r),i<=e&&this.comparator(this.data[i],this.data[n])<0&&(n=i),n===t)break;a=this.data[n],this.data[n]=this.data[t],this.data[t]=a,t=n}},t}()},{}]},{},[1])(1)})},"6f21":function(t,e,r){var n=r("1db9").FFTUtils;function i(t,e,r){var i,a,o=s(t),h=o.data,l=Object.assign({normalize:!1,divisor:1,rows:o.rows,cols:o.cols},r);if(!l.rows||!l.cols)throw new Error("Invalid number of rows or columns "+i+" "+a);i=l.rows,a=l.cols;var u,f,c=l.divisor,d=e.length,p=e[0].length;if(l.normalize)for(c=0,u=0;u<d;u++)for(f=0;f<p;f++)c+=e[u][f];if(0===c)throw new RangeError("convolution: The divisor is equal to zero");var m=n.toRadix2(h,i,a),g=n.convolute(m.data,e,m.rows,m.cols);if(g=n.crop(g,m.rows,m.cols,i,a),0!=c&&1!=c)for(u=0;u<g.length;u++)g[u]/=c;return g}function a(t,e,r){var n,i,a=s(t),o=a.data,h=Object.assign({normalize:!1,divisor:1,rows:a.rows,cols:a.cols},r);if(!h.rows||!h.cols)throw new Error("Invalid number of rows or columns "+n+" "+i);n=h.rows,i=h.cols;var l,u,f,c,d,p,m,g,w,v=h.divisor,b=e.length,y=e[0].length;if(h.normalize)for(v=0,l=0;l<b;l++)for(u=0;u<y;u++)v+=e[l][u];if(0===v)throw new RangeError("convolution: The divisor is equal to zero");var _=new Array(n*i),x=Math.floor(b/2),k=Math.floor(y/2);for(c=0;c<n;c++)for(f=0;f<i;f++){for(p=0,u=0;u<b;u++)for(l=0;l<y;l++)m=e[b-u-1][y-l-1],g=(c+u-x+n)%n,w=(f+l-k+i)%i,d=g*i+w,p+=o[d]*m;d=c*i+f,_[d]=p/v}return _}function o(t,e,r){var n=1e3;r&&r.factor&&(n=r.factor);var i,a,o,s,h=new Array(e);n*=-1;var l=(e-1)/2,u=2*t*t;for(i=0;i<e;i++)for(h[i]=new Array(e),s=(i-l)*(i-l),a=0;a<e;a++)o=-((a-l)*(a-l)+s)/u,h[i][a]=Math.round(n*(1+o)*Math.exp(o));return h}function s(t){var e,r,n=t;if("number"!=typeof t[0]){e=t.length,r=t[0].length,n=new Array(e*r);for(var i=0;i<e;i++)for(var a=0;a<r;a++)n[i*r+a]=t[i][a]}else{var o=Math.sqrt(t.length);Number.isInteger(o)&&(e=o,r=o)}return{data:n,rows:e,cols:r}}t.exports={fft:i,direct:a,kernelFactory:{LoG:o},matrix2Array:s}},"705b":function(t,e,r){t.exports=i;var n=r("92ba");function i(t,e){for(var r=e[0],i=e[1],a=t.length,o=1,s=a,h=0,l=a-1;h<s;l=h++){var u=t[h],f=t[l],c=u[1],d=f[1];if(d<c){if(d<i&&i<c){var p=n(u,f,e);if(0===p)return 0;o^=0<p|0}else if(i===c){var m=t[(h+1)%a],g=m[1];if(c<g){p=n(u,f,e);if(0===p)return 0;o^=0<p|0}}}else if(c<d){if(c<i&&i<d){p=n(u,f,e);if(0===p)return 0;o^=p<0|0}else if(i===c){m=t[(h+1)%a],g=m[1];if(g<c){p=n(u,f,e);if(0===p)return 0;o^=p<0|0}}}else if(i===c){var w=Math.min(u[0],f[0]),v=Math.max(u[0],f[0]);if(0===h){while(l>0){var b=(l+a-1)%a,y=t[b];if(y[1]!==i)break;var _=y[0];w=Math.min(w,_),v=Math.max(v,_),l=b}if(0===l)return w<=r&&r<=v?0:1;s=l+1}var x=t[(l+a-1)%a][1];while(h+1<s){y=t[h+1];if(y[1]!==i)break;_=y[0];w=Math.min(w,_),v=Math.max(v,_),h+=1}if(w<=r&&r<=v)return 0;var k=t[(h+1)%a][1];r<w&&x<i!==k<i&&(o^=1)}}return 2*o-1}},"717e":function(t,e,r){"use strict";var n=r("9e6e"),i=r("be7f"),a=r("7b27"),o=r("2ceb"),s=r("4dc6"),h=r("8936"),l=r("8013"),u=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary),r!==o.Z_OK)))throw new Error(s[r])}function c(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}function d(t,e){return e=e||{},e.raw=!0,c(t,e)}f.prototype.push=function(t,e){var r,s,h,l,f,c=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"===typeof t?c.input=a.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new i.Buf8(d),c.next_out=0,c.avail_out=d),r=n.inflate(c,o.Z_NO_FLUSH),r===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;c.next_out&&(0!==c.avail_out&&r!==o.Z_STREAM_END&&(0!==c.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(h=a.utf8border(c.output,c.next_out),l=c.next_out-h,f=a.buf2string(c.output,h),c.next_out=l,c.avail_out=d-l,l&&i.arraySet(c.output,c.output,h,l,0),this.onData(f)):this.onData(i.shrinkBuf(c.output,c.next_out)))),0===c.avail_in&&0===c.avail_out&&(m=!0)}while((c.avail_in>0||0===c.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),c.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=f,e.inflate=c,e.inflateRaw=d,e.ungzip=c},7218:function(t,e,r){"use strict";const n=r("9177"),i=r("5f2b"),a=[];for(var o=0;o<=8;o++)a.push(255<<o);function s(t,e){const r=4*Math.floor((e.bitDepth*e.width+31)/32),i=Math.ceil(e.bitDepth*e.width/8),o=r-i,s=e.bitDepth*e.width%8,h=0===s?0:8-s,l=r*e.height;var u,f;const c=new n(e.data);let d=0,p=0,m=8;t.mark(),f=c.readUint8();for(var g=e.height-1;g>=0;g--){const e=0===g;t.reset(),t.skip(g*r);for(var w=0;w<i;w++){const r=w===i-1;p<=h&&r?(t.writeByte(f<<p),0!==h&&h!==p||e||(u=f,f=c.readByte())):0===p?(u=f,f=c.readUint8(),t.writeByte(u)):(u=f,f=c.readUint8(),t.writeByte(u<<p&a[p]|f>>m)),r?(d+=s||8,t.skip(o),p=d%8,m=8-p):d+=8}}r>i&&(t.reset(),t.skip(l-1),t.writeUint8(0))}function h(t,e){e.bitDepth>8||t.writeUint32(0).writeUint32(16777215)}function l(t,e){t.writeChars("BM"),t.writeInt32(t._lastWrittenByte),t.writeUint16(0),t.writeUint16(0),t.writeUint32(e)}function u(t,e){t.writeUint32(124).writeInt32(e.width).writeInt32(e.height).writeUint16(1).writeUint16(e.bitDepth).writeUint32(i.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e.width*e.height*e.bitDepth).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(i.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(i.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}t.exports=function(t){if(1!==t.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!t.height||!t.width)throw new Error("ImageData width and height are required");if(1!==t.components)throw new Error("Only 1 component is supported");if(1!==t.channels)throw new Error("Only 1 channel is supported");var e=new n;e.skip(14),u(e,t),h(e,t);const r=e.offset;return s(e,t),e.rewind(),l(e,r),e.getBuffer()}},7333:function(t,e,r){"use strict";var n=r("9e1e"),i=r("0d58"),a=r("2621"),o=r("52a7"),s=r("4bf8"),h=r("626a"),l=Object.assign;t.exports=!l||r("79e5")(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n})?function(t,e){var r=s(t),l=arguments.length,u=1,f=a.f,c=o.f;while(l>u){var d,p=h(arguments[u++]),m=f?i(p).concat(f(p)):i(p),g=m.length,w=0;while(g>w)d=m[w++],n&&!c.call(p,d)||(r[d]=p[d])}return r}:l},"770d":function(t,e,r){(function(t){var e,r,n,i=String.fromCharCode;function a(t){var e,r,n=[],i=0,a=t.length;while(i<a)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function o(t){var e,r=t.length,n=-1,a="";while(++n<r)e=t[n],e>65535&&(e-=65536,a+=i(e>>>10&1023|55296),e=56320|1023&e),a+=i(e);return a}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function h(t,e){return i(t>>e&63|128)}function l(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(s(t),e=i(t>>12&15|224),e+=h(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=h(t,12),e+=h(t,6)),e+=i(63&t|128),e}function u(t){var e,r=a(t),n=r.length,i=-1,o="";while(++i<n)e=r[i],o+=l(e);return o}function f(){if(n>=r)throw Error("Invalid byte index");var t=255&e[n];if(n++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function c(){var t,i,a,o,h;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(t=255&e[n],n++,0==(128&t))return t;if(192==(224&t)){if(i=f(),h=(31&t)<<6|i,h>=128)return h;throw Error("Invalid continuation byte")}if(224==(240&t)){if(i=f(),a=f(),h=(15&t)<<12|i<<6|a,h>=2048)return s(h),h;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=f(),a=f(),o=f(),h=(7&t)<<18|i<<12|a<<6|o,h>=65536&&h<=1114111))return h;throw Error("Invalid UTF-8 detected")}function d(t){e=a(t),r=e.length,n=0;var i,s=[];while(!1!==(i=c()))s.push(i);return o(s)}t.version="3.0.0",t.encode=u,t.decode=d})(e)},7726:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"77b0":function(t,e,r){"use strict";var n=r("0a83"),i=navigator.hardwareConcurrency||1;Function.prototype;function a(t,e){if("string"!==typeof t&&"function"!==typeof t)throw new TypeError("func argument must be a function");if(void 0===e&&(e={}),"object"!==typeof e||null===e)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),void 0===e.maxWorkers||"auto"===e.maxWorkers?this._numWorkers=Math.min(i-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,i):this._numWorkers=i,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;"string"===typeof r&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}a.prototype._init=function(t){for(var e=n.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var i=new Worker(e);i.onmessage=this._onmessage.bind(this,i),i.onerror=this._onerror.bind(this,i),i.running=!1,i.id=r,this._workers.set(i,null)}URL.revokeObjectURL(e)},a.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}},a.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}},a.prototype._exec=function(){for(var t of this._workers.keys()){if(this._working===this._numWorkers||0===this._waiting.length)return;if(!t.running)for(var e=0;e<this._waiting.length;e++){var r=this._waiting[e];if("number"!==typeof r[4]||r[4]===t.id){this._waiting.splice(e,1),t.postMessage({action:"exec",event:r[0],args:r[1]},r[2]),t.running=!0,t.time=Date.now(),this._workers.set(t,r[3]),this._working++;break}}}},a.prototype.terminate=function(){if(!this._terminated){for(var t of this._workers)t[0].terminate(),t[1]&&t[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},a.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r=[];for(var n of this._workers.keys())r.push(this.post(t,e,[],n.id));return Promise.all(r)},a.prototype.post=function(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var i=this;return new Promise(function(a,o){if(i._terminated)throw new Error("Cannot post (terminated)");i._waiting.push([t,e,r,[a,o],n]),i._exec()})},t.exports=a},"77f1":function(t,e,r){var n=r("4588"),i=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):a(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,r){"use strict";var n=r("7726"),i=r("86cc"),a=r("9e1e"),o=r("2b4c")("species");t.exports=function(t){var e=n[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},"7a82":function(t,e,r){"use strict";const n=r("a292");t.exports=function(t,e){const r=new n(t,e);return r.decode(e)}},"7b27":function(t,e,r){"use strict";var n=r("be7f"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,e.string2buf=function(t){var e,r,i,a,o,s=t.length,h=0;for(a=0;a<s;a++)r=t.charCodeAt(a),55296===(64512&r)&&a+1<s&&(i=t.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),h+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(h),o=0,a=0;o<h;a++)r=t.charCodeAt(a),55296===(64512&r)&&a+1<s&&(i=t.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,a,s=e||t.length,l=new Array(2*s);for(n=0,r=0;r<s;)if(i=t[r++],i<128)l[n++]=i;else if(a=o[i],a>4)l[n++]=65533,r+=a-1;else{i&=2===a?31:3===a?15:7;while(a>1&&r<s)i=i<<6|63&t[r++],a--;a>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return h(l,n)},e.utf8border=function(t,e){var r;e=e||t.length,e>t.length&&(e=t.length),r=e-1;while(r>=0&&128===(192&t[r]))r--;return r<0?e:0===r?e:r+o[t[r]]>e?r:e}},"7b7b":function(t,e,r){"use strict";const n={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},"7de9":function(t,e,r){"use strict";var n=new Map([[1,[1,i]],[2,[1,a]],[3,[2,o]],[4,[4,s]],[5,[8,h]],[6,[1,l]],[7,[1,i]],[8,[2,u]],[9,[4,f]],[10,[8,c]],[11,[4,d]],[12,[8,p]]]);function i(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}function a(t,e){for(var r=[],n="",i=0;i<e;i++){var a=String.fromCharCode(t.readUint8());"\0"===a?(r.push(n),n=""):n+=a}return 1===r.length?r[0]:r}function o(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}function s(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}function h(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function l(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}function u(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}function f(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}function c(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function d(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}function p(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}e.getByteLength=function(t,e){return n.get(t)[0]*e},e.readData=function(t,e,r){return n.get(e)[1](t,r)}},"7eb1":function(t,e,r){"use strict";var n=30,i=12;t.exports=function(t,e){var r,a,o,s,h,l,u,f,c,d,p,m,g,w,v,b,y,_,x,k,M,A,E,S,C;r=t.state,a=t.next_in,S=t.input,o=a+(t.avail_in-5),s=t.next_out,C=t.output,h=s-(e-t.avail_out),l=s+(t.avail_out-257),u=r.dmax,f=r.wsize,c=r.whave,d=r.wnext,p=r.window,m=r.hold,g=r.bits,w=r.lencode,v=r.distcode,b=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do{g<15&&(m+=S[a++]<<g,g+=8,m+=S[a++]<<g,g+=8),_=w[m&b];e:for(;;){if(x=_>>>24,m>>>=x,g-=x,x=_>>>16&255,0===x)C[s++]=65535&_;else{if(!(16&x)){if(0===(64&x)){_=w[(65535&_)+(m&(1<<x)-1)];continue e}if(32&x){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}k=65535&_,x&=15,x&&(g<x&&(m+=S[a++]<<g,g+=8),k+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=S[a++]<<g,g+=8,m+=S[a++]<<g,g+=8),_=v[m&y];r:for(;;){if(x=_>>>24,m>>>=x,g-=x,x=_>>>16&255,!(16&x)){if(0===(64&x)){_=v[(65535&_)+(m&(1<<x)-1)];continue r}t.msg="invalid distance code",r.mode=n;break t}if(M=65535&_,x&=15,g<x&&(m+=S[a++]<<g,g+=8,g<x&&(m+=S[a++]<<g,g+=8)),M+=m&(1<<x)-1,M>u){t.msg="invalid distance too far back",r.mode=n;break t}if(m>>>=x,g-=x,x=s-h,M>x){if(x=M-x,x>c&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(A=0,E=p,0===d){if(A+=f-x,x<k){k-=x;do{C[s++]=p[A++]}while(--x);A=s-M,E=C}}else if(d<x){if(A+=f+d-x,x-=d,x<k){k-=x;do{C[s++]=p[A++]}while(--x);if(A=0,d<k){x=d,k-=x;do{C[s++]=p[A++]}while(--x);A=s-M,E=C}}}else if(A+=d-x,x<k){k-=x;do{C[s++]=p[A++]}while(--x);A=s-M,E=C}while(k>2)C[s++]=E[A++],C[s++]=E[A++],C[s++]=E[A++],k-=3;k&&(C[s++]=E[A++],k>1&&(C[s++]=E[A++]))}else{A=s-M;do{C[s++]=C[A++],C[s++]=C[A++],C[s++]=C[A++],k-=3}while(k>2);k&&(C[s++]=C[A++],k>1&&(C[s++]=C[A++]))}break}}break}}while(a<o&&s<l);k=g>>3,a-=k,g-=k<<3,m&=(1<<g)-1,t.next_in=a,t.next_out=s,t.avail_in=a<o?o-a+5:5-(a-o),t.avail_out=s<l?l-s+257:257-(s-l),r.hold=m,r.bits=g}},"7f20":function(t,e,r){var n=r("86cc").f,i=r("69a8"),a=r("2b4c")("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},8013:function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},8079:function(t,e,r){var n=r("7726"),i=r("1991").set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,h="process"==r("2d95")(o);t.exports=function(){var t,e,r,l=function(){var n,i;h&&(n=o.domain)&&n.exit();while(t){i=t.fn,t=t.next;try{i()}catch(a){throw t?r():e=void 0,a}}e=void 0,n&&n.enter()};if(h)r=function(){o.nextTick(l)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);r=function(){u.then(l)}}else r=function(){i.call(n,l)};else{var f=!0,c=document.createTextNode("");new a(l).observe(c,{characterData:!0}),r=function(){c.data=f=!f}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},8378:function(t,e){var r=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,r){var n=r("cb7c"),i=r("c69a"),a=r("6a99"),o=Object.defineProperty;e.f=r("9e1e")?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"878c":function(t,e,r){"use strict";var n=r("e430");function i(t,e){return t-e}e.max=function(t){for(var e=-1/0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)t[r][n]>e&&(e=t[r][n]);return e},e.min=function(t){for(var e=1/0,r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)t[r][n]<e&&(e=t[r][n]);return e},e.minMax=function(t){for(var e=1/0,r=-1/0,n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)t[n][i]<e&&(e=t[n][i]),t[n][i]>r&&(r=t[n][i]);return{min:e,max:r}},e.entropy=function(t,e){"undefined"===typeof e&&(e=0);for(var r=0,n=t.length,i=t[0].length,a=0;a<n;a++)for(var o=0;o<i;o++)r+=t[a][o]*Math.log(t[a][o]+e);return-r},e.mean=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,a,o=t.length,s=t[0].length;if(-1===e){for(r=[0],n=o*s,i=0;i<o;i++)for(a=0;a<s;a++)r[0]+=t[i][a];r[0]/=n}else if(0===e)for(r=new Array(s),n=o,a=0;a<s;a++){for(r[a]=0,i=0;i<o;i++)r[a]+=t[i][a];r[a]/=n}else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(o),n=s,a=0;a<o;a++){for(r[a]=0,i=0;i<s;i++)r[a]+=t[a][i];r[a]/=n}}return r},e.sum=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,a=t.length,o=t[0].length;if(-1===e)for(r=[0],n=0;n<a;n++)for(i=0;i<o;i++)r[0]+=t[n][i];else if(0===e)for(r=new Array(o),i=0;i<o;i++)for(r[i]=0,n=0;n<a;n++)r[i]+=t[n][i];else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(a),i=0;i<a;i++)for(r[i]=0,n=0;n<o;n++)r[i]+=t[i][n]}return r},e.product=function(t,e){"undefined"===typeof e&&(e=0);var r,n,i,a=t.length,o=t[0].length;if(-1===e)for(r=[1],n=0;n<a;n++)for(i=0;i<o;i++)r[0]*=t[n][i];else if(0===e)for(r=new Array(o),i=0;i<o;i++)for(r[i]=1,n=0;n<a;n++)r[i]*=t[n][i];else{if(1!==e)throw new Error("Invalid dimension");for(r=new Array(a),i=0;i<a;i++)for(r[i]=1,n=0;n<o;n++)r[i]*=t[i][n]}return r},e.standardDeviation=function(t,r,n){for(var i=e.variance(t,r,n),a=i.length,o=0;o<a;o++)i[o]=Math.sqrt(i[o]);return i},e.variance=function(t,r,n){"undefined"===typeof n&&(n=!0),r=r||e.mean(t);var i=t.length;if(0===i)return[];for(var a=t[0].length,o=new Array(a),s=0;s<a;s++){for(var h=0,l=0,u=0,f=0;f<i;f++)u=t[f][s]-r[s],h+=u,l+=u*u;o[s]=n?(l-h*h/i)/(i-1):(l-h*h/i)/i}return o},e.median=function(t){for(var e=t.length,r=t[0].length,n=new Array(r),a=0;a<r;a++){for(var o=new Array(e),s=0;s<e;s++)o[s]=t[s][a];o.sort(i);var h=o.length;n[a]=h%2===0?.5*(o[h/2]+o[h/2-1]):o[Math.floor(h/2)]}return n},e.mode=function(t){var e,r,n=t.length,i=t[0].length,a=new Array(i);for(e=0;e<i;e++){for(var o=new Array(n),s=0;s<n;s++)o[s]=0;var h=new Array(n),l=0;for(r=0;r<n;r++){var u=h.indexOf(t[r][e]);u>=0?o[u]++:(h[l]=t[r][e],o[l]=1,l++)}var f=0,c=0;for(r=0;r<l;r++)o[r]>f&&(f=o[r],c=r);a[e]=h[c]}return a},e.skewness=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,a=n.length,o=new Array(a),s=0;s<a;s++){for(var h=0,l=0,u=0;u<i;u++){var f=t[u][s]-n[s];h+=f*f,l+=f*f*f}var c=h/i,d=l/i,p=d/Math.pow(c,1.5);if(r){var m=Math.sqrt(i*(i-1)),g=i-2;o[s]=m/g*p}else o[s]=p}return o},e.kurtosis=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,a=t[0].length,o=new Array(a),s=0;s<a;s++){for(var h=0,l=0,u=0;u<i;u++){var f=t[u][s]-n[s];h+=f*f,l+=f*f*f*f}var c=h/i,d=l/i;if(r){var p=h/(i-1),m=i*(i+1)/((i-1)*(i-2)*(i-3)),g=l/(p*p),w=(i-1)*(i-1)/((i-2)*(i-3));o[s]=m*g-3*w}else o[s]=d/(c*c)-3}return o},e.standardError=function(t){for(var r=t.length,n=e.standardDeviation(t),i=n.length,a=new Array(i),o=Math.sqrt(r),s=0;s<i;s++)a[s]=n[s]/o;return a},e.covariance=function(t,r){return e.scatter(t,void 0,r)},e.scatter=function(t,r,n){"undefined"===typeof n&&(n=0),"undefined"===typeof r&&(0===n?r=t.length-1:1===n&&(r=t[0].length-1));var i=e.mean(t,n),a=t.length;if(0===a)return[[]];var o,s,h,l,u,f=t[0].length;if(0===n){for(o=new Array(f),s=0;s<f;s++)o[s]=new Array(f);for(s=0;s<f;s++)for(h=s;h<f;h++){for(l=0,u=0;u<a;u++)l+=(t[u][h]-i[h])*(t[u][s]-i[s]);l/=r,o[s][h]=l,o[h][s]=l}}else{if(1!==n)throw new Error("Invalid dimension");for(o=new Array(a),s=0;s<a;s++)o[s]=new Array(a);for(s=0;s<a;s++)for(h=s;h<a;h++){for(l=0,u=0;u<f;u++)l+=(t[h][u]-i[h])*(t[s][u]-i[s]);l/=r,o[s][h]=l,o[h][s]=l}}return o},e.correlation=function(t){var r,n,i=e.mean(t),a=e.standardDeviation(t,!0,i),o=e.zScores(t,i,a),s=t.length,h=t[0].length,l=new Array(h);for(r=0;r<h;r++)l[r]=new Array(h);for(r=0;r<h;r++)for(n=r;n<h;n++){for(var u=0,f=0,c=o.length;f<c;f++)u+=o[f][n]*o[f][r];u/=s-1,l[r][n]=u,l[n][r]=u}return l},e.zScores=function(t,r,n){return r=r||e.mean(t),"undefined"===typeof n&&(n=e.standardDeviation(t,!0,r)),e.standardize(e.center(t,r,!1),n,!0)},e.center=function(t,r,n){r=r||e.mean(t);var i,a,o,s=t,h=t.length;if(!n)for(s=new Array(h),i=0;i<h;i++)s[i]=new Array(t[i].length);for(i=0;i<h;i++){var l=s[i];for(a=0,o=l.length;a<o;a++)l[a]=t[i][a]-r[a]}return s},e.standardize=function(t,r,n){"undefined"===typeof r&&(r=e.standardDeviation(t));var i,a,o,s=t,h=t.length;if(!n)for(s=new Array(h),i=0;i<h;i++)s[i]=new Array(t[i].length);for(i=0;i<h;i++){var l=s[i],u=t[i];for(a=0,o=l.length;a<o;a++)0===r[a]||isNaN(r[a])||(l[a]=u[a]/r[a])}return s},e.weightedVariance=function(t,r){var n=e.mean(t),i=t.length;if(0===i)return[];for(var a=t[0].length,o=new Array(a),s=0;s<a;s++){for(var h=0,l=0,u=0,f=0;f<i;f++){var c=t[f][s]-n[s],d=r[f];h+=d*(c*c),u+=d,l+=d*d}o[s]=h*(u/(u*u-l))}return o},e.weightedMean=function(t,e,r){"undefined"===typeof r&&(r=0);var i=t.length;if(0===i)return[];var a,o,s,h,l,u,f=t[0].length;if(0===r){for(a=new Array(f),o=0;o<f;o++)a[o]=0;for(o=0;o<i;o++)for(u=t[o],l=e[o],h=0;h<f;h++)a[h]+=u[h]*l}else{if(1!==r)throw new Error("Invalid dimension");for(a=new Array(i),o=0;o<i;o++)a[o]=0;for(h=0;h<i;h++)for(u=t[h],l=e[h],o=0;o<f;o++)a[h]+=u[o]*l}var c=n.sum(e);if(0!==c)for(o=0,s=a.length;o<s;o++)a[o]/=c;return a},e.weightedCovariance=function(t,r,n,i){i=i||0,n=n||e.weightedMean(t,r,i);for(var a=0,o=0,s=0,h=r.length;s<h;s++)a+=r[s],o+=r[s]*r[s];var l=a/(a*a-o);return e.weightedScatter(t,r,n,l,i)},e.weightedScatter=function(t,r,n,i,a){a=a||0,n=n||e.weightedMean(t,r,a),"undefined"===typeof i&&(i=1);var o=t.length;if(0===o)return[[]];var s,h,l,u,f,c=t[0].length;if(0===a){for(s=new Array(c),h=0;h<c;h++)s[h]=new Array(c);for(h=0;h<c;h++)for(l=h;l<c;l++){for(f=0,u=0;u<o;u++)f+=r[u]*(t[u][l]-n[l])*(t[u][h]-n[h]);s[h][l]=f*i,s[l][h]=f*i}}else{if(1!==a)throw new Error("Invalid dimension");for(s=new Array(o),h=0;h<o;h++)s[h]=new Array(o);for(h=0;h<o;h++)for(l=h;l<o;l++){for(f=0,u=0;u<c;u++)f+=r[u]*(t[l][u]-n[l])*(t[h][u]-n[h]);s[h][l]=f*i,s[l][h]=f*i}}return s}},8936:function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},"8a58":function(t,e,r){"use strict";e.array=r("e430"),e.matrix=r("878c")},"8bb0":function(t,e,r){"use strict";var n={};r.r(n),r.d(n,"GREY",function(){return mt}),r.d(n,"RGB",function(){return gt}),r.d(n,"HSL",function(){return wt}),r.d(n,"HSV",function(){return vt}),r.d(n,"CMYK",function(){return bt});var i={};r.r(i),r.d(i,"tagsById",function(){return Xt}),r.d(i,"tagsByName",function(){return Gt});var a={};r.r(a),r.d(a,"tagsById",function(){return Ht}),r.d(a,"tagsByName",function(){return Wt});var o={};r.r(o),r.d(o,"tagsById",function(){return Kt}),r.d(o,"tagsByName",function(){return Jt});const s={getBit(t){return this.data[h(t)]&1<<l(t)?1:0},setBit(t){this.data[h(t)]|=1<<l(t)},clearBit(t){this.data[h(t)]&=~(1<<l(t))},toggleBit(t){this.data[h(t)]^=1<<l(t)},getBitXY(t,e){return this.getBit(e*this.width+t)},setBitXY(t,e){this.setBit(e*this.width+t)},clearBitXY(t,e){this.clearBit(e*this.width+t)},toggleBitXY(t,e){this.toggleBit(e*this.width+t)}};function h(t){return t>>3}function l(t){return 7-(7&t)}function u(t){for(const e in s)t.prototype[e]=s[e]}function f(t,e={}){let{bitDepth:r,alpha:n,colorModel:i,components:a,channels:o}=e;if("string"!==typeof t||0===t.length)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError(`The process: ${t} can only be applied if bit depth is in: ${r}`);if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.alpha)))throw new TypeError(`The process: ${t} can only be applied if alpha is in: ${n}`);if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.colorModel)))throw new TypeError(`The process: ${t} can only be applied if color model is in: ${i}`);if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.components))){let e=`The process: ${t} can only be applied if the number of components is in: ${a}`;throw 1===a.length&&1===a[0]?new TypeError(`${e}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(e)}if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.channels)))throw new TypeError(`The process: ${t} can only be applied if the number of channels is in: ${o}`)}function c(t,e){t=t||[],e=e||{},"string"===typeof e&&(e={type:e});try{return new Blob(t,e)}catch(a){if("TypeError"!==a.name)throw a;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}function d(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,""),n=m(atob(r));return c([n],{type:e})}function p(t,e,r){return"function"===typeof t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}):Promise.resolve(d(t.toDataURL(e,r)))}function m(t){var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;while(++i<e)n[i]=t.charCodeAt(i);return r}var g=r("5eaf"),w=r("1701");const v=8192;class b{constructor(t=v,e={}){let r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let a=n;(ArrayBuffer.isView(t)||t instanceof b)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){const e=this.readChars(t);return Object(w["decode"])(e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){const e=Object(w["encode"])(t);return this.writeChars(e)}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}var y=r("d7ac");const _=[137,80,78,71,13,10,26,10],x=[];for(let fs=0;fs<256;fs++){let t=fs;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;x[fs]=t}const k=4294967295;function M(t,e,r){let n=t;for(let i=0;i<r;i++)n=x[255&(n^e[i])]^n>>>8;return n}function A(t,e){return(M(k,t,e)^k)>>>0}const E=new Uint8Array(0),S="\0",C=new Uint16Array([255]),D=new Uint8Array(C.buffer),I=255===D[0];class P extends b{constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new y["Inflate"],this._png={text:{}},this._end=!1,this._hasPalette=!1,this.setBigEndian()}decode(){this.decodeSignature();while(!this._end)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let t=0;t<_.length;t++)if(this.readUint8()!==_[t])throw new Error(`wrong PNG signature. Byte at ${t} should be ${_[t]}.`)}decodeChunk(){const t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);if(this._checkCrc){const r=this.readUint32(),n=t+4,i=A(new Uint8Array(this.buffer,this.byteOffset+this.offset-n-4,n),n);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}else this.skip(4)}decodeIHDR(){const t=this._png;if(t.width=this.readUint32(),t.height=this.readUint32(),t.bitDepth=this.readUint8(),t.colourType=this.readUint8(),t.compressionMethod=this.readUint8(),t.filterMethod=this.readUint8(),t.interlaceMethod=this.readUint8(),0!==this._png.compressionMethod)throw new Error(`Unsupported compression method: ${t.compressionMethod}`)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t),!1),this.skip(t)}decodetEXt(t){let e,r="";while((e=this.readChar())!==S)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution=[t,e],this._png.unitSpecifier=r}decodeImage(){if(this._inflator.push(E,!0),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);var t=this._inflator.result;if(0!==this._png.filterMethod)throw new Error(`Filter method ${this._png.filterMethod} not supported`);if(0!==this._png.interlaceMethod)throw new Error(`Interlace method ${this._png.interlaceMethod} not supported`);this.decodeInterlaceNull(t)}decodeInterlaceNull(t){let e;switch(this._png.colourType){case 0:e=1;break;case 2:e=3;break;case 3:if(!this._hasPalette)throw new Error("Missing palette");e=1;break;case 4:e=2;break;case 6:e=4;break;default:throw new Error(`Unknown colour type: ${this._png.colourType}`)}const r=this._png.height,n=e*this._png.bitDepth/8,i=this._png.width*n,a=new Uint8Array(this._png.height*i);let o,s,h=E,l=0;for(let u=0;u<r;u++){switch(o=t.subarray(l+1,l+1+i),s=a.subarray(u*i,(u+1)*i),t[l]){case 0:T(o,s,i);break;case 1:B(o,s,i,n);break;case 2:R(o,s,h,i);break;case 3:O(o,s,h,i,n);break;case 4:U(o,s,h,i,n);break;default:throw new Error(`Unsupported filter: ${t[l]}`)}h=s,l+=i+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.bitDepth){const t=new Uint16Array(a.buffer);if(I)for(let e=0;e<t.length;e++)t[e]=F(t[e]);this._png.data=t}else this._png.data=a}}function T(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function B(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function R(t,e,r,n){let i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function O(t,e,r,n,i){let a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function U(t,e,r,n,i){let a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+L(e[a-i],r[a],r[a-i])&255}}function L(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function F(t){return(255&t)<<8|t>>8&255}const j={level:3};class $ extends b{constructor(t,e={}){super(),this._png={},this._checkData(t),this._zlibOptions=Object.assign({},j,e.zlib),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(_)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.bitDepth),this.writeByte(this._png.colourType),this.writeByte(0),this.writeByte(0),this.writeByte(0),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}encodeData(){const{width:t,height:e,channels:r,bitDepth:n,data:i}=this._png,a=r*t,o=(new b).setBigEndian();let s=0;for(let u=0;u<e;u++)if(o.writeByte(0),8===n)s=Y(i,o,a,s);else{if(16!==n)throw new Error("unreachable");s=N(i,o,a,s)}const h=o.toArray(),l=Object(y["deflate"])(h,this._zlibOptions);this.encodeIDAT(l)}_checkData(t){this._png.width=z(t.width,"width"),this._png.height=z(t.height,"height"),this._png.data=t.data;const{colourType:e,channels:r,bitDepth:n}=V(t);this._png.colourType=e,this._png.channels=r,this._png.bitDepth=n;const i=this._png.width*this._png.height*r;if(this._png.data.length!==i)throw new RangeError(`wrong data size. Found ${this._png.data.length}, expected ${i}`)}writeCrc(t){this.writeUint32(A(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}function z(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${e} must be a positive integer`)}function V(t){let{components:e=3,bitDepth:r=8}=t;if(3!==e&&1!==e)throw new RangeError(`unsupported number of components: ${e}`);if(8!==r&&16!==r)throw new RangeError(`unsupported bit depth: ${r}`);let{alpha:n=!0}=t;if(0!==n&&1!==n||(n=Boolean(n)),"boolean"!==typeof n)throw new TypeError(`unsupported alpha: ${n}`);const i=e+Number(n),a={channels:i,bitDepth:r,colourType:-1};switch(i){case 4:a.colourType=6;break;case 3:a.colourType=2;break;case 1:a.colourType=0;break;case 2:a.colourType=4;break;default:throw new Error(`unsupported number of channels: ${i}`)}return a}function Y(t,e,r,n){for(let i=0;i<r;i++)e.writeByte(t[n++]);return n}function N(t,e,r,n){for(let i=0;i<r;i++)e.writeUint16(t[n++]);return n}function X(t,e){const r=new P(t,e);return r.decode()}function G(t,e){const r=new $(t,e);return r.encode()}var q=r("2d3f");let H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Uint8Array(256);for(let fs=0;fs<H.length;fs++)W[H.charCodeAt(fs)]=fs;function Z(t){let e,r=t.length,n="";for(e=0;e<r;e+=3)n+=H[t[e]>>2],n+=H[(3&t[e])<<4|t[e+1]>>4],n+=H[(15&t[e+1])<<2|t[e+2]>>6],n+=H[63&t[e+2]];return r%3===2?n=`${n.substring(0,n.length-1)}=`:r%3===1&&(n=`${n.substring(0,n.length-2)}==`),n}function K(t){let e,r,n,i,a=.75*t.length,o=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);const h=new Uint8Array(a);for(let l=0;l<o;l+=4)e=W[t.charCodeAt(l)],r=W[t.charCodeAt(l+1)],n=W[t.charCodeAt(l+2)],i=W[t.charCodeAt(l+3)],h[s++]=e<<2|r>>4,h[s++]=(15&r)<<4|n>>2,h[s++]=(3&n)<<6|63&i;return h}function J(t,e){const r=Z(t);return`data:${e};base64,${r}`}const Q=self.ImageData,tt=self.Image;function et(t,e){let r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function rt(t,{withCredentials:e=!1}={}){return new Promise(function(r,n){let i=new self.XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.withCredentials=e,i.onload=function(t){200!==this.status?n(t):r(this.response)},i.onerror=n,i.send()})}function nt(){throw new Error("createWriteStream does not exist in the browser")}function it(){throw new Error("writeFile does not exist in the browser")}function at(t){return t.includes("/")||(t=`image/${t}`),t}function ot(t,e={}){const r={width:t.width,height:t.height,data:t.getRGBAData()};return Object(q["encode"])(r,e.quality).data}function st(t,e){const r={width:t.width,height:t.height,components:t.components,alpha:t.alpha,bitDepth:t.bitDepth,data:t.data};return 1!==r.bitDepth&&32!==r.bitDepth||(r.bitDepth=8,r.components=3,r.alpha=1,r.data=t.getRGBAData()),G(r,e)}const ht={save(t,e={}){const{useCanvas:r=!1,encoder:n}=e;let{format:i}=e;if(!i){const e=/\.([a-zA-Z]+)$/.exec(t);e&&(i=e[1].toLowerCase())}if(!i)throw new Error("file format not provided");return new Promise((e,a)=>{let o,s;switch(i.toLowerCase()){case"png":r?o=this.getCanvas().pngStream():s=st(this,n);break;case"jpg":case"jpeg":r?o=this.getCanvas().jpegStream():s=ot(this,n);break;case"bmp":s=Object(g["encode"])(this,n);break;default:throw new RangeError(`invalid output format: ${i}`)}if(o){let r=nt(t);r.on("finish",e),r.on("error",a),o.pipe(r)}else s&&it(t,s,t=>{t?a(t):e()})})},toDataURL(t="image/png",e={}){"object"===typeof t&&(e=t,t="image/png");const{useCanvas:r=!1,encoder:n}=e;function i(e,r){const i=e(r,n);return J(i,t)}return t=at(t),"image/bmp"===t?i(g["encode"],this):"image/png"!==t||r?"image/jpeg"!==t||r?this.getCanvas().toDataURL(t):i(ot,this):i(st,this)},toBuffer(t={}){const{format:e="png",encoder:r}=t;switch(e.toLowerCase()){case"png":return st(this,r);case"jpeg":case"jpg":return ot(this,r);case"bmp":return Object(g["encode"])(this,r);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64(t="image/png",e={}){if(e.async)return this.toDataURL(t,e).then(function(t){return t.substring(t.indexOf(",")+1)});{const r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)}},toBlob(t="image/png",e=.8){return p(this.getCanvas(),t,e)},getCanvas(){const t=new Q(this.getRGBAData({clamped:!0}),this.width,this.height);let e=et(this.width,this.height),r=e.getContext("2d");return r.putImageData(t,0,0),e}};function lt(t){for(const e in ht)t.prototype[e]=ht[e]}var ut=r("0e20"),ft=r.n(ut);let ct={configurable:!0,enumerable:!1,get:void 0};function dt(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:a=[]}=r;return ts.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...a,...t]);return i?this:r}:function(...t){return e.apply(this,[...a,...t])},ts}function pt(t,e,r={}){let{partialArgs:n=[]}=r;return ct.get=function(){if(null===this.computed)this.computed={};else if(ft()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(ts.prototype,t,ct),ts}const mt="GREY",gt="RGB",wt="HSL",vt="HSV",bt="CMYK";function yt(t={}){const{clamped:e}=t;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const r=this.width*this.height*4;let n=e?new Uint8ClampedArray(r):new Uint8Array(r);return 1===this.bitDepth?_t(this,n):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?xt(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[gt]}),kt(this,n))):1===this.components?Mt(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[gt]}),At(this,n)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),Et(this,n)):St(this,n),n}function _t(t,e){for(let r=0;r<t.size;r++){const n=t.getBit(r);e[4*r]=255*n,e[4*r+1]=255*n,e[4*r+2]=255*n}}function xt(t,e){const r=t.min[0],n=t.max[0],i=n-r;for(let a=0;a<t.size;a++){const n=Math.floor(255*(t.data[a]-r)/i);e[4*a]=n,e[4*a+1]=n,e[4*a+2]=n}}function kt(t,e){const r=Math.min(...t.min),n=Math.max(...t.max),i=n-r;for(let a=0;a<t.size;a++){const n=Math.floor(255*(t.data[3*a]-r)/i),o=Math.floor(255*(t.data[3*a+1]-r)/i),s=Math.floor(255*(t.data[3*a+2]-r)/i);e[4*a]=n,e[4*a+1]=o,e[4*a+2]=s}}function Mt(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels]>>>t.bitDepth-8}function At(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}function Et(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}function St(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=255}const Ct="BINARY",Dt="GREY",It="GREYA",Pt="RGB",Tt="RGBA",Bt="CMYK",Rt="CMYKA",Ot={};function Ut(t){const e=Ot[t];if(!e)throw new RangeError(`invalid image kind: ${t}`);return e}Ot[Ct]={components:1,alpha:0,bitDepth:1,colorModel:mt},Ot[It]={components:1,alpha:1,bitDepth:8,colorModel:mt},Ot[Dt]={components:1,alpha:0,bitDepth:8,colorModel:mt},Ot[Tt]={components:3,alpha:1,bitDepth:8,colorModel:gt},Ot[Pt]={components:3,alpha:0,bitDepth:8,colorModel:gt},Ot[Bt]={components:4,alpha:0,bitDepth:8,colorModel:bt},Ot[Rt]={components:4,alpha:1,bitDepth:8,colorModel:bt};const Lt=[1,8,16,32];function Ft(t){const{components:e,alpha:r,bitDepth:i,colorModel:a}=t;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(0!==r&&1!==r&&"boolean"!==typeof r)throw new TypeError(`invalid alpha: ${r}: must be a boolean, 0 or 1`);if(!Lt.includes(i))throw new RangeError(`invalid bitDepth: ${i}. Must be one of ${Lt.join(", ")}`);if(!n[a])throw new RangeError(`invalid colorModel: ${a}. Must be one of ${Object.keys(n).join(", ")}`)}function jt(t,e,r){let n=e*t;return 1===r&&(n=Math.ceil(n/8)),n}function $t(t,e,r,n,i,a){const o=n*t;let s;switch(i){case 1:s=new Uint8Array(Math.ceil(o/8));break;case 8:s=new Uint8Array(o);break;case 16:s=new Uint16Array(o);break;case 32:s=new Float32Array(o);break;default:throw new Error(`Cannot create pixel array for bit depth ${i}`)}if(r)for(let h=e;h<s.length;h+=n)s[h]=a;return s}var zt=r("f8ae"),Vt=r("770d");const Yt=8192;class Nt{constructor(t=Yt,e={}){let r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let a=n;(ArrayBuffer.isView(t)||t instanceof Nt)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){const e=this.readChars(t);return Object(Vt["decode"])(e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){const e=Object(Vt["encode"])(t);return this.writeChars(e)}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}const Xt={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},Gt={};for(var qt in Xt)Gt[Xt[qt]]=qt;const Ht={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},Wt={};for(var Zt in Ht)Wt[Ht[Zt]]=Zt;const Kt={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},Jt={};for(var Qt in Kt)Jt[Kt[Qt]]=Qt;const te={standard:i,exif:a,gps:o};class ee{constructor(t){if(!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(te[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=te[this.kind].tagsById;for(var t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t))}return this._map}}const re=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class ne extends ee{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var t=new Date,e=re.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return ie(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return ie(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}}function ie(t){return"number"===typeof t?[t]:t}var ae=new Map([[1,[1,he]],[2,[1,le]],[3,[2,ue]],[4,[4,fe]],[5,[8,ce]],[6,[1,de]],[7,[1,he]],[8,[2,pe]],[9,[4,me]],[10,[8,ge]],[11,[4,we]],[12,[8,ve]]]);function oe(t,e){return ae.get(t)[0]*e}function se(t,e,r){return ae.get(e)[1](t,r)}function he(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}function le(t,e){for(var r=[],n="",i=0;i<e;i++){var a=String.fromCharCode(t.readUint8());"\0"===a?(r.push(n),n=""):n+=a}return 1===r.length?r[0]:r}function ue(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}function fe(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}function ce(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function de(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}function pe(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}function me(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}function ge(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function we(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}function ve(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}const be={ignoreImageData:!1,onlyFirst:!1};class ye extends Nt{constructor(t,e){super(t,e),this._nextIFD=0}get isMultiPage(){let t=0;this.decodeHeader();while(this._nextIFD)if(t++,this.decodeIFD({ignoreImageData:!0}),2===t)return!0;if(1===t)return!1;throw Ae("ifdCount",t)}get pageCount(){let t=0;this.decodeHeader();while(this._nextIFD)t++,this.decodeIFD({ignoreImageData:!0});if(t>0)return t;throw Ae("ifdCount",t)}decode(t){t=Object.assign({},be,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}decodeHeader(){const t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error(`invalid byte order: 0x${t.toString(16)}`);this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t){var e;this.seek(this._nextIFD),e=t.kind?new ee(t.kind):new ne;const r=this.readUint16();for(var n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const a=oe(n,i);a>4&&this.seek(this.readUint32());const o=se(this,n,i);if(t.fields.set(r,o),34665===r||34853===r){let e,n=this.offset;34665===r?e="exif":34853===r&&(e="gps"),this._nextIFD=o,t[e]=this.decodeIFD({kind:e,ignoreImageData:!0}),this.offset=n}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;if(e&&1!==e)throw Ae("orientation",e);switch(t.type){case 0:case 1:case 2:this.readStripData(t);break;default:throw Ae("image type",t.type)}if(0===t.type){const e=Ee(t.bitsPerSample),n=Math.pow(2,e)-1;for(var r=0;r<t.data.length;r++)t.data[r]=n-t.data[r]}}readStripData(t){const e=t.width,r=t.height,n=Ee(t.bitsPerSample),i=t.sampleFormat,a=e*r,o=_e(a,1,n,i),s=t.compression,h=t.rowsPerStrip,l=h*e,u=t.stripOffsets,f=t.stripByteCounts;for(var c=a,d=0,p=0;p<u.length;p++){var m=new DataView(this.buffer,u[p],f[p]),g=c>l?l:c;switch(c-=g,s){case 1:d=this.fillUncompressed(n,i,o,m,d,g);break;case 5:throw Ae("lzw");case 2:case 32773:throw Ae("Compression",s);default:throw new Error(`invalid compression: ${s}`)}}t.data=o}fillUncompressed(t,e,r,n,i,a){if(8===t)return xe(r,n,i,a);if(16===t)return ke(r,n,i,a,this.isLittleEndian());if(32===t&&3===e)return Me(r,n,i,a,this.isLittleEndian());throw Ae("bitDepth",t)}}function _e(t,e,r,n){if(8===r)return new Uint8Array(t*e);if(16===r)return new Uint16Array(t*e);if(32===r&&3===n)return new Float32Array(t*e);throw Ae("bit depth / sample format",`${r} / ${n}`)}function xe(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function ke(t,e,r,n,i){for(var a=0;a<2*n;a+=2)t[r++]=e.getUint16(a,i);return r}function Me(t,e,r,n,i){for(var a=0;a<4*n;a+=4)t[r++]=e.getFloat32(a,i);return r}function Ae(t,e){return new Error(`Unsupported ${t}: ${e}`)}function Ee(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)if(r[e]!==t)throw Ae("bit depth",r)}return t}function Se(t,e={}){const r=new ye(t,e);return r.decode(e)}var Ce=r("ff9d"),De=r.n(Ce);function Ie(t={}){let{algorithm:e="matchToPrevious",ignoreBorder:r=[0,0]}=t;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let n="matchToPrevious"===e,i=this[0],a=[];a[0]={position:[0,0],image:this[0]};let o=[0,0];for(let c=1;c<this.length;c++){let t=i.getBestMatch(this[c],{border:r});a[c]={position:[t[0]+o[0],t[1]+o[1]],image:this[c]},n&&(o[0]+=t[0],o[1]+=t[1],i=this[c])}let s=0,h=0,l=0,u=0;for(let c=0;c<a.length;c++){let t=a[c];t.position[0]>s&&(s=t.position[0]),t.position[0]<h&&(h=t.position[0]),t.position[1]>l&&(l=t.position[1]),t.position[1]<u&&(u=t.position[1])}h=0-h,u=0-u;for(let c=0;c<a.length;c++){let t=a[c];t.crop=t.image.crop({x:s-t.position[0],y:l-t.position[1],width:i.width-h-s,height:i.height-u-l})}let f=[];for(let c=0;c<a.length;c++)f[c]=a[c].crop;return new ze(f)}function Pe(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].min;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function Te(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].max;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function Be(t){let e=t.reduce((t,e)=>t+e);if(0===e)throw new Error("unreachable");let r,n=0,i=0,a=e/2;while(1){if(t[n]>0){if(void 0!==r)return(r+n)/2;if(i+=t[n],i>a)return n;i===a&&(r=n)}n++}}function Re(t){let e=0,r=0;for(let n=0;n<t.length;n++)e+=t[n],r+=t[n]*n;return 0===e?0:r/e}function Oe(){this.checkProcessable("median",{bitDepth:[8,16]});let t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Be(n)}return e}function Ue(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram(t);for(let r=1;r<this.length;r++){let n=this[r].getHistogram(t);for(let t=0;t<e.length;t++)e[t]+=n[t]}return e}function Le(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms(t),r=e[0].length;for(let n=1;n<this.length;n++){let i=this[n].getHistograms(t);for(let t=0;t<e.length;t++)for(let n=0;n<r;n++)e[t][n]+=i[t][n]}return e}function Fe(){this.checkProcessable("average",{bitDepth:[8,16]});let t=new Uint32Array(this[0].data.length);for(let n=0;n<this.length;n++){let e=this[n];for(let r=0;r<this[0].data.length;r++)t[r]+=e.data[r]}let e=ts.createFrom(this[0]),r=e.data;for(let n=0;n<this[0].data.length;n++)r[n]=t[n]/this.length;return e}function je(t){t.extendMethod("matchAndCrop",Ie),t.extendMethod("getMin",Pe),t.extendMethod("getMax",Te),t.extendMethod("getMedian",Oe),t.extendMethod("getHistogram",Ue),t.extendMethod("getHistograms",Le),t.extendMethod("getAverage",Fe)}let $e={configurable:!0,enumerable:!1,get:void 0};class ze extends Array{constructor(t){if(Array.isArray(t)){super(t.length);for(let e=0;e<t.length;e++)this[e]=t[e]}else"number"===typeof t?super(t):super();this.computed=null}static load(t){return Promise.all(t.map(ts.load)).then(t=>new ze(t))}static extendMethod(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:a=[]}=r;return ze.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...a,...t]);return i?this:r}:function(...t){return e.apply(this,[...a,...t])},ze}static extendProperty(t,e,r={}){let{partialArgs:n=[]}=r;return $e.get=function(){if(null===this.computed)this.computed={};else if(ft()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(ze.prototype,t,$e),ze}checkProcessable(t,e={}){if("string"!==typeof t)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError(`The process: ${t} can not be applied on an empty stack`);this[0].checkProcessable(t,e);for(let r=1;r<this.length;r++){if((void 0===e.sameSize||e.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${t} can not be applied if width is not identical in all images`);if((void 0===e.sameSize||e.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${t} can not be applied if height is not identical in all images`);if((void 0===e.sameAlpha||e.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${t} can not be applied if alpha is not identical in all images`);if((void 0===e.sameBitDepth||e.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${t} can not be applied if bitDepth is not identical in all images`);if((void 0===e.sameColorModel||e.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${t} can not be applied if colorModel is not identical in all images`);if((void 0===e.sameNumberChannels||e.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${t} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(ze.prototype.map=function(t,e){if("function"!==typeof t)throw new TypeError(`${t} is not a function`);let r=new ze(this.length);for(let n=0;n<this.length;n++)r[n]=t.call(e,this[n],n,this);return r}),je(ze);const Ve=/^data:[a-z]+\/([a-z]+);base64,/;function Ye(t,e){if("string"===typeof t)return Xe(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(Ne(new Uint8Array(t)));if(t.buffer)return Promise.resolve(Ne(t));throw new Error('argument to "load" must be a string or buffer.')}function Ne(t,e){const r=De()(t);if(r)switch(r.mime){case"image/png":return Ge(t);case"image/jpeg":return He(t);case"image/tiff":return We(t);default:return Je(n(r.mime))}return Je(n("application/octet-stream"));function n(r){return e||J(t,r)}}function Xe(t,e){const r=t.slice(0,64).match(Ve);let n;return n=null!==r?Promise.resolve(K(t.slice(r[0].length))):rt(t,e),n.then(e=>{const n=new Uint8Array(e);return Ne(n,r?t:void 0)})}function Ge(t){const e=X(t);let r,n=0;switch(e.colourType){case 0:r=1;break;case 2:r=3;break;case 3:return qe(e);case 4:r=1,n=1;break;case 6:r=3,n=1;break;default:throw new Error(`Unexpected colourType: ${e.colourType}`)}return new ts(e.width,e.height,e.data,{components:r,alpha:n,bitDepth:e.bitDepth})}function qe(t){const e=t.width*t.height,r=new Uint8Array(3*e),n=8/t.bitDepth,i=t.bitDepth<8?n:1,a=parseInt("1".repeat(t.bitDepth),2);let o=0;for(let s=0;s<e;s++){const e=Math.floor(s/i);let h=t.data[e];t.bitDepth<8&&(h=h>>>t.bitDepth*(n-1-s%n)&a);const l=t.palette[h];r[o++]=l[0],r[o++]=l[1],r[o++]=l[2]}return new ts(t.width,t.height,r,{components:3,alpha:!1,bitDepth:8})}function He(t){const e=Object(zt["decode"])(t);let r;e.exif&&(r=Ze(e.exif));const n=Object(q["decode"])(t,!0);return new ts(n.width,n.height,n.data,{meta:r})}function We(t){let e=Se(t);return 1===e.length?Ke(e[0]):new ze(e.map(Ke))}function Ze(t){const e={tiff:t};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function Ke(t){return new ts(t.width,t.height,t.data,{components:1,alpha:0,colorModel:mt,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:Ze(t)})}function Je(t,e){return e=e||{},new Promise(function(r,n){let i=new tt;i.onload=function(){let t=i.width,n=i.height,a=et(t,n),o=a.getContext("2d");o.drawImage(i,0,0,t,n);let s=o.getImageData(0,0,t,n).data;r(new ts(t,n,s,e))},i.onerror=function(){n(new Error(`Could not load ${t}`))},i.src=t})}const Qe={getValueXY(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY(t,e,r,n){return this.data[(e*this.width+t)*this.channels+r]=n,this.computed=null,this},getValue(t,e){return this.data[t*this.channels+e]},setValue(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY(t,e){return this.getPixel(e*this.width+t)},setPixelXY(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel(t){const e=new Array(this.channels),r=t*this.channels;for(let n=0;n<this.channels;n++)e[n]=this.data[r+n];return e},setPixel(t,e){const r=t*this.channels;for(let n=0;n<e.length;n++)this.data[r+n]=e[n];return this.computed=null,this}};function tr(t){for(const e in Qe)t.prototype[e]=Qe[e]}function er(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function rr(t,e,r,n={}){const{out:i}=e;if(void 0===i)return n.copy?t.clone():ts.createFrom(t,r);{if(!ts.isImage(i))throw new TypeError("out must be an Image object");const e=Object.assign(er(t),r);for(const t in e)if(i[t]!==e[t])throw new RangeError(`cannot use out. Its ${t} must be "${e[t]}" (found "${i[t]}")`);return i}}function nr(t,e,r){if(void 0!==e.inPlace&&"boolean"!==typeof e.inPlace)throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(void 0!==e.out)throw new TypeError("out option must not be set if inPlace option is true");return t}return rr(t,e,null,r)}function ir(t={}){this.checkProcessable("abs",{bitDepth:[32]});const e=nr(this,t);return ar(this,e),e}function ar(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}function or(t,e){if(1===t.alpha&&1===e.alpha)for(let r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}function sr(t={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=nr(this,t);return 1===this.bitDepth?hr(this,e):(lr(this,e),this!==e&&or(this,e)),e}function hr(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}function lr(t,e){for(let r=0;r<t.data.length;r+=t.channels)for(let n=0;n<t.components;n++)e.data[r+n]=t.maxValue-t.data[r+n]}function ur(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let t=0;t<this.height;t++){let e=t*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,n=(this.width-t-1)*this.channels+e;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}}return this}function fr(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let t=0;t<Math.floor(this.height/2);t++)for(let e=0;e<this.width;e++){let r=e*this.channels+t*this.width*this.channels,n=e*this.channels+(this.height-1-t)*this.channels*this.width;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}return this}function cr(t={}){const{radius:e=1}=t;if(e<1)throw new Error("radius must be greater than 1");const r=2*e+1,n=new Array(r);for(let i=0;i<r;i++){n[i]=new Array(r);for(let t=0;t<r;t++)n[i][t]=1/(r*r)}return this.convolution(n)}var dr=r("cfdd");function pr(t,e={}){let{channels:r,allowAlpha:n,defaultAlpha:i}=e;return"boolean"!==typeof n&&(n=!0),"undefined"===typeof r?mr(t,i):gr(t,r,n)}function mr(t,e){let r=e?t.channels:t.components,n=new Array(r);for(let i=0;i<r;i++)n[i]=i;return n}function gr(t,e,r){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++)e[n]=wr(t,e[n],r);return e}function wr(t,e,r=!0){if(void 0===e)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if("string"===typeof e){switch(t.colorModel){case mt:break;case gt:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case wt:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case vt:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case bt:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error(`Unexpected color model: ${t.colorModel}`)}if("a"===e){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if("string"===typeof e)throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=t.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function vr(t={}){let{radius:e=1,border:r="copy",channels:n}=t;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");n=pr(this,n,!0);let i=e,a=e,o=ts.createFrom(this),s=(2*i+1)*(2*a+1),h=Math.floor(s/2),l=new Array(s);for(let u=0;u<n.length;u++){let t=n[u];for(let e=a;e<this.height-a;e++)for(let r=i;r<this.width-i;r++){let n=0;for(let o=-a;o<=a;o++)for(let a=-i;a<=i;a++){let i=((e+o)*this.width+r+a)*this.channels+t;l[n++]=this.data[i]}let s=(e*this.width+r)*this.channels+t,u=l.sort(dr["asc"])[h];o.data[s]=u}}if(this.alpha&&!n.includes(this.channels))for(let u=this.components;u<this.data.length;u+=this.channels)o.data[u]=this.data[u];return o.setBorder({size:[i,a],algorithm:r}),o}function br(t={}){let{radius:e=1,sigma:r,channels:n,border:i="copy"}=t;this.checkProcessable("gaussian",{bitDepth:[8,16]});const a=yr(e,r);return this.convolution([a,a],{border:i,channels:n,algorithm:"separable"})}function yr(t,e){const r=2*t+1,n=new Array(r),i=e||.3*(.5*(r-1)-1)+.8,a=-.5/(i*i);let o=0;for(let s=0;s<r;s++){const e=s-t,r=Math.exp(a*e*e);n[s]=r,o+=r}for(let s=0;s<r;s++)n[s]/=o;return n}const _r=[[-1,0,1],[-2,0,2],[-1,0,1]],xr=[[-1,-2,-1],[0,0,0],[1,2,1]],kr=[[3,0,-3],[10,0,-10],[3,0,-3]],Mr=[[3,10,3],[0,0,0],[-3,-10,-3]];var Ar=r("6f21"),Er=r("b4ec"),Sr=r.n(Er);function Cr(t){let e,r;if(!Array.isArray(t))throw new Error(`validateKernel: Invalid Kernel: ${t}`);if(Array.isArray(t[0])){if(0===(1&t.length)||0===(1&t[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{let n=Math.sqrt(t.length);if(!Sr()(n))throw new RangeError("validateKernel: Kernel array should be a square");r=e=Math.floor(Math.sqrt(t.length)/2);let i=new Array(n);for(let e=0;e<n;e++){i[e]=new Array(n);for(let r=0;r<n;r++)i[e][r]=t[e*n+r]}t=i}return{kernel:t,kWidth:r,kHeight:e}}function Dr(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function Ir(t,e,r){if(void 0===r){const n=t.length+e.length-1;r=new Array(n)}Pr(r);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r[n+i]+=t[n]*e[i];return r}function Pr(t){for(var e=0;e<t.length;e++)t[e]=0}r("ba72"),r("00a1");function Tr(t,e,r,n){const i=new Array(t.length);let a,o,s,h;h=e[1],s=(h.length-1)/2,o=new Array(r+h.length-1),a=new Array(r);for(let l=0;l<n;l++){for(let e=0;e<r;e++)a[e]=t[l*r+e];Ir(a,h,o);for(let t=0;t<r;t++)i[l*r+t]=o[s+t]}h=e[0],s=(h.length-1)/2,o=new Array(n+h.length-1),a=new Array(n);for(let l=0;l<r;l++){for(let t=0;t<n;t++)a[t]=i[t*r+l];Ir(a,h,o);for(let t=0;t<n;t++)i[t*r+l]=o[s+t]}return i}var Br=r("b4ae");function Rr(t){const e=new Br["SVD"](t,{autoTranspose:!0});if(1!==e.rank)return null;const r=Math.sqrt(e.s[0]),n=e.U.map(t=>t[0]*r),i=e.V.map(t=>t[0]*r);return[n,i]}function Or(t,e={}){let r,n,{channels:i,bitDepth:a,normalize:o=!1,divisor:s=1,border:h="copy",algorithm:l="auto"}=e,u=ts.createFrom(this,{bitDepth:a});if(i=pr(this,i,!0),"separable"!==l)({kernel:t}=Cr(t));else if(!Array.isArray(t)||2!==t.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===l){let e=Rr(t);null!==e?(l="separable",t=e):l=(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===l?(r=Math.floor(t[0].length/2),n=Math.floor(t[1].length/2)):(r=Math.floor(t.length/2),n=Math.floor(t[0].length/2));let f,c,d,p,m,g,w=u.isClamped,v=new Array(this.height*this.width);for(p=0;p<i.length;p++){for(m=i[p],d=0;d<this.height;d++)for(c=0;c<this.width;c++)f=d*this.width+c,v[f]=this.data[f*this.channels+m];if("direct"===l)g=Object(Ar["direct"])(v,t,{rows:this.height,cols:this.width,normalize:o,divisor:s});else if("separable"===l){if(g=Tr(v,t,this.width,this.height),o){s=0;for(let e=0;e<t[0].length;e++)for(let r=0;r<t[1].length;r++)s+=t[0][e]*t[1][r]}if(1!==s)for(let t=0;t<g.length;t++)g[t]/=s}else g=Object(Ar["fft"])(v,t,{rows:this.height,cols:this.width,normalize:o,divisor:s});for(d=0;d<this.height;d++)for(c=0;c<this.width;c++)f=d*this.width+c,u.data[f*this.channels+m]=w?Dr(g[f],u):g[f]}if(this.alpha&&!i.includes(this.channels))for(c=this.components;c<this.data.length;c+=this.channels)u.data[c]=this.data[c];return"periodic"!==h&&u.setBorder({size:[n,r],algorithm:h}),u}function Ur(t={}){let{direction:e="xy",border:r="copy",kernelX:n,kernelY:i,channels:a,bitDepth:o=this.bitDepth}=t;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!n)throw new Error("kernelX option is missing");return Or.call(this,n,{channels:a,border:r,bitDepth:o});case"y":if(!i)throw new Error("kernelY option is missing");return Or.call(this,i,{channels:a,border:r,bitDepth:o});case"xy":{if(!n)throw new Error("kernelX option is missing");if(!i)throw new Error("kernelY option is missing");const t=Or.call(this,n,{channels:a,border:r,bitDepth:32}),e=Or.call(this,i,{channels:a,border:r,bitDepth:32});return t.hypotenuse(e,{bitDepth:o,channels:a})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function Lr(t){return Ur.call(this,Object.assign({},t,{kernelX:_r,kernelY:xr}))}function Fr(t){return Ur.call(this,Object.assign({},t,{kernelX:kr,kernelY:Mr}))}var jr=r("41c8"),$r=r.n(jr);function zr(t={}){let{algorithm:e="range",channels:r,min:n=this.min,max:i=this.max}=t;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),r=pr(this,{channels:r}),r.length!==this.channel&&(Array.isArray(n)&&n.length===this.channels&&(n=n.filter((t,e)=>r.includes(e))),Array.isArray(i)&&i.length===this.channels&&(i=i.filter((t,e)=>r.includes(e)))),e){case"range":n<0&&(n=0),i>this.maxValue&&(i=this.maxValue),Array.isArray(n)||(n=$r()(r.length,n)),Array.isArray(i)||(i=$r()(r.length,i)),Vr(this,n,i,r);break;default:throw new Error(`level: algorithm not implement: ${e}`)}return this}function Vr(t,e,r,n){let i=1e-5,a=new Array(n.length);for(let o=0;o<n.length;o++)0===e[o]&&r[o]===t.maxValue?a[o]=0:r[o]===e[o]?a[o]=0:a[o]=(t.maxValue+1-i)/(r[o]-e[o]),e[o]+=(.5-i/2)/a[o];for(let o=0;o<n.length;o++){let r=n[o];if(0!==a[o])for(let n=0;n<t.data.length;n+=t.channels)t.data[n+r]=Math.min(Math.max(0,(t.data[n+r]-e[o])*a[o]+.5|0),t.maxValue)}}var Yr=r("e88e"),Nr=r.n(Yr);function Xr(t){if(isNaN(t)){if(t instanceof ts)return t.data;if(!Nr()(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}function Gr(t,e={}){let{channels:r}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),r=pr(this,{channels:r}),t=Xr(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]+t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]+t>>0)}return this}function qr(t,e={}){let{channels:r}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),r=pr(this,{channels:r}),t=Xr(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]-t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.max(0,this.data[r+e]-t>>0)}return this}function Hr(t,e={}){let{bitDepth:r=this.bitDepth,channels:n,absolute:i=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");let a=ts.createFrom(this,{bitDepth:r});n=pr(this,{channels:n});for(let o=0;o<n.length;o++){let e=n[o];for(let r=e;r<this.data.length;r+=this.channels){let e=this.data[r]-t.data[r];a.data[r]=i?Math.abs(e):Math.max(e,0)}}return a}function Wr(t,e={}){let{bitDepth:r=this.bitDepth,channels:n}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");let i=ts.createFrom(this,{bitDepth:r});n=pr(this,{channels:n});let a=i.isClamped;for(let o=0;o<n.length;o++){let e=n[o];for(let r=e;r<this.data.length;r+=this.channels){let e=Math.hypot(this.data[r],t.data[r]);i.data[r]=a?Math.min(Math.max(Math.round(e),0),i.maxValue):e}}return i}function Zr(t,e={}){let{channels:r}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(r=pr(this,{channels:r}),t=Xr(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]*t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]*t>>0)}return this}function Kr(t,e={}){let{channels:r}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),r=pr(this,{channels:r}),t=Xr(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]/t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]/t>>0)}return this}class Jr{constructor(){if(new.target===Jr)throw new Error("BaseRegression must be subclassed")}predict(t){if("number"===typeof t)return this._predict(t);if(Array.isArray(t)){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=this._predict(t[r]);return e}throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)throw new Error("x and y must be arrays of the same length");const r=t.length,n=new Array(r);for(let c=0;c<r;c++)n[c]=this._predict(t[c]);let i=0,a=0,o=0,s=0,h=0,l=0,u=0;for(let c=0;c<r;c++)i+=n[c],a+=e[c],h+=n[c]*n[c],l+=e[c]*e[c],u+=n[c]*e[c],0!==e[c]&&(o+=(e[c]-n[c])*(e[c]-n[c])/e[c]),s+=(e[c]-n[c])*(e[c]-n[c]);const f=(r*u-i*a)/Math.sqrt((r*h-i*i)*(r*l-a*a));return{r:f,r2:f*f,chi2:o,rmsd:Math.sqrt(s/r)}}}var Qr=r("53e7"),tn=r.n(Qr);const en={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class rn extends Jr{constructor(t,e,r){if(super(),!0===t)this.alpha=e.alpha,this.inputs=e.inputs,this.kernelType=e.kernelType,this.kernelOptions=e.kernelOptions,this.kernel=new tn.a(e.kernelType,e.kernelOptions);else{r=Object.assign({},en,r);const n=new tn.a(r.kernelType,r.kernelOptions),i=n.compute(t),a=t.length;i.add(Br["Matrix"].eye(a,a).mul(r.lambda)),this.alpha=Object(Br["solve"])(i,e),this.inputs=t,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=n}}_predict(t){return this.kernel.compute([t],this.inputs).mmul(this.alpha)[0]}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(t){if("kernelRidgeRegression"!==t.name)throw new TypeError("not a KRR model");return new rn(!0,t)}}var nn=r("8a58");nn["array"].median;function an(t,e,r){const n=new rn(t,e,r),i=new Array(this.size);for(let s=0;s<this.width;s++)for(let t=0;t<this.height;t++)i[t*this.width+s]=[s,t];const a=n.predict(i),o=ts.createFrom(this);for(let s=0;s<this.size;s++)o.data[s]=Math.min(this.maxValue,Math.max(0,a[s][0]));return o}function on(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const a of e)for(const t of a)if(1!==t){n=!1;break t}let i=this;for(let a=0;a<r;a++)if(1===this.bitDepth)if(n){const t=i.clone();i=un(i,t,e.length,e[0].length)}else{const t=ts.createFrom(i);i=ln(i,t,e)}else if(n){const t=ts.createFrom(i);i=hn(i,t,e.length,e[0].length)}else{const t=ts.createFrom(i);i=sn(i,t,e)}return i}function sn(t,e,r){const n=r.length,i=r[0].length;let a=(n-1)/2,o=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=0;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-a+h,u=e-o+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const f=t.getValueXY(n,u,0);f>l&&(l=f)}e.setValueXY(h,s,0,l)}return e}function hn(t,e,r,n){const i=(r-1)/2,a=(n-1)/2,o=[];for(let s=0;s<t.width;s++)o.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=0;for(let n=Math.max(0,s-a);n<Math.min(t.height,s+a+1);n++){const i=t.getValueXY(e,n,0);i>r&&(r=i)}o[e]=r}for(let r=0;r<t.width;r++){let n=0;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)o[e]>n&&(n=o[e]);e.setValueXY(r,s,0,n)}}return e}function ln(t,e,r){const n=r.length,i=r[0].length;let a=(n-1)/2,o=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=0;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-a+h,u=e-o+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;const f=t.getBitXY(n,u);if(1===f){l=1;break t}}1===l&&e.setBitXY(h,s)}return e}function un(t,e,r,n){const i=(r-1)/2,a=(n-1)/2,o=[];for(let s=0;s<t.width;s++)o.push(1);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){o[e]=0;for(let r=Math.max(0,s-a);r<Math.min(t.height,s+a+1);r++)if(1===t.getBitXY(e,r)){o[e]=1;break}}for(let r=0;r<t.width;r++)if(1!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(1===o[n]){e.setBitXY(r,s);break}}return e}function fn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const a of e)for(const t of a)if(1!==t){n=!1;break t}let i=this;for(let a=0;a<r;a++)if(1===this.bitDepth)if(n){const t=i.clone();i=mn(i,t,e.length,e[0].length)}else{const t=ts.createFrom(i);i=pn(i,t,e)}else if(n){const t=ts.createFrom(i);i=dn(i,t,e.length,e[0].length)}else{const t=ts.createFrom(i);i=cn(i,t,e)}return i}function cn(t,e,r){const n=r.length,i=r[0].length;let a=(n-1)/2,o=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=t.maxValue;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-a+h,u=e-o+s;if(n<0||u<0||n>=t.width||u>=t.height)continue;const f=t.getValueXY(n,u,0);f<l&&(l=f)}e.setValueXY(h,s,0,l)}return e}function dn(t,e,r,n){const i=(r-1)/2,a=(n-1)/2,o=[];for(let s=0;s<t.width;s++)o.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){let r=t.maxValue;for(let n=Math.max(0,s-a);n<Math.min(t.height,s+a+1);n++){const i=t.getValueXY(e,n,0);i<r&&(r=i)}o[e]=r}for(let r=0;r<t.width;r++){let n=t.maxValue;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)o[e]<n&&(n=o[e]);e.setValueXY(r,s,0,n)}}return e}function pn(t,e,r){const n=r.length,i=r[0].length;let a=(n-1)/2,o=(i-1)/2;for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let l=1;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-a+h,u=e-o+s;if(u<0||n<0||n>=t.width||u>=t.height)continue;const f=t.getBitXY(n,u);if(0===f){l=0;break t}}1===l&&e.setBitXY(h,s)}return e}function mn(t,e,r,n){const i=(r-1)/2,a=(n-1)/2,o=[];for(let s=0;s<t.width;s++)o.push(0);for(let s=0;s<t.height;s++){for(let e=0;e<t.width;e++){o[e]=1;for(let r=Math.max(0,s-a);r<Math.min(t.height,s+a+1);r++)if(0===t.getBitXY(e,r)){o[e]=0;break}}for(let r=0;r<t.width;r++)if(0!==e.getBitXY(r,s))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(0===o[n]){e.clearBitXY(r,s);break}}return e}function gn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.erode({kernel:e}),n=n.dilate({kernel:e});return n}function wn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.dilate({kernel:e}).erode({kernel:e});return n}function vn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.open({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function bn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){const t=n.close({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function yn(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.dilate({kernel:e}),r=n.erode({kernel:e});n=t.subtractImage(r,{absolute:!0})}return n}function _n(t){let e=0,r=0,n=0,i=0,a=t[0][0],o=0;for(let l=1;l<t.length;l++)t[l][0]<a&&(a=t[l][0],o=l);let s=t[(o+1)%t.length][0],h=(o+1)%t.length;for(let l=1;l<t.length;l++)t[l][0]<s&&l!==o&&(s=t[l][0],h=l);return t[h][1]<t[o][1]?(e=t[h],i=t[o],o!==(h+1)%4?(r=t[(h+1)%4],n=t[(h+2)%4]):(r=t[(h+2)%4],n=t[(h+3)%4])):(i=t[h],e=t[o],h!==(o+1)%4?(r=t[(o+1)%4],n=t[(o+2)%4]):(r=t[(o+2)%4],n=t[(o+3)%4])),[e,r,n,i]}function xn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function kn(t,e){let r=[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]];return r}function Mn(t,e){let r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return r}function An(t,e,r,n,i,a){let o=Math.max(xn(t,e),xn(n,r)),s=Math.max(xn(t,n),xn(e,r)),h=0,l=0,u=Math.ceil(i/2),f=Math.ceil(a/2),c=o/s,d=[t[0],t[1],1],p=[e[0],e[1],1],m=[n[0],n[1],1],g=[r[0],r[1],1],w=Mn(kn(d,g),m)/Mn(kn(p,g),m),v=Mn(kn(d,g),p)/Mn(kn(m,g),p),b=[w*p[0]-d[0],w*p[1]-d[1],w*p[2]-d[2]],y=[v*m[0]-d[0],v*m[1]-d[1],v*m[2]-d[2]],_=b[0],x=b[1],k=b[2],M=y[0],A=y[1],E=y[2],S=1/(k*E)*(_*M-(_*E+k*M)*u+k*E*u*u+(x*A-(x*E+k*A)*f+k*E*f*f));S=S>=0?Math.sqrt(S):Math.sqrt(-S);let C=new Br["Matrix"]([[S,0,u],[0,S,f],[0,0,1]]),D=C.transpose(),I=Object(Br["inverse"])(D),P=Object(Br["inverse"])(C),T=Br["Matrix"].rowVector(b),B=Br["Matrix"].rowVector(y),R=Math.sqrt(Mn(T.mmul(I).mmul(P).to1DArray(),b)/Mn(B.mmul(I).mmul(P).to1DArray(),y));return 0===R||0===c?(h=Math.ceil(o),l=Math.ceil(s)):R<c?(h=Math.ceil(o),l=Math.ceil(h/R)):(l=Math.ceil(s),h=Math.ceil(R*l)),[h,l]}function En(t,e,r,n,i,a,o,s,h,l,u,f){let[c,d]=[(r*t+n*e+i)/(h*t+l*e+1),(a*t+o*e+s)/(h*t+l*e+1)];return u.getValueXY(Math.floor(c),Math.floor(d),f)}function Sn(t,e={}){let{calculateRatio:r=!0}=e;if(4!==t.length)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${t.length} elements`);let n,i,[a,o,s,h]=t,l=[a,o,s,h],[u,f,c,d]=_n(l);r?[n,i]=An(u,f,c,d,this.width,this.height):(n=Math.ceil(Math.max(xn(u,f),xn(d,c))),i=Math.ceil(Math.max(xn(u,d),xn(f,c))));let p=ts.createFrom(this,{width:n,height:i}),[m,g]=u,[w,v]=f,[b,y]=c,[_,x]=d,[k,M]=[0,0],[A,E]=[0,n-1],[S,C]=[i-1,n-1],[D,I]=[i-1,0],P=new Br["Matrix"]([[k,M,1,0,0,0,-k*m,-M*m],[A,E,1,0,0,0,-A*w,-E*w],[S,C,1,0,0,0,-S*b,-M*b],[D,I,1,0,0,0,-D*_,-I*_],[0,0,0,k,M,1,-k*g,-M*g],[0,0,0,A,E,1,-A*v,-E*v],[0,0,0,S,C,1,-S*y,-C*y],[0,0,0,D,I,1,-D*x,-I*x]]),T=Br["Matrix"].columnVector([m,w,b,_,g,v,y,x]),B=new Br["SingularValueDecomposition"](P),R=B.solve(T),[O,U,L,F,j,$,z,V]=R.to1DArray(),Y=new Br["Matrix"](i,n);for(let N=0;N<this.channels;N++){for(let t=0;t<i;t++)for(let e=0;e<n;e++)Y.set(t,e,En(t,e,O,U,L,F,j,$,z,V,this,N));p.setMatrix(Y,{channel:N})}return p}function Cn(t={}){let{x:e=0,y:r=0,width:n=this.width-e,height:i=this.height-r}=t;if(this.checkProcessable("max",{bitDepth:[8,16]}),e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),e>this.width-1||r>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${r}) out of range (${this.width-1}; ${this.height-1})`);if(n<=0||i<=0)throw new RangeError(`crop: width and height (width:${n}; height:${i}) must be positive numbers`);if(e<0||r<0)throw new RangeError(`crop: x and y (x:${e}, y:${r}) must be positive numbers`);if(n>this.width-e||i>this.height-r)throw new RangeError(`crop: (x: ${e}, y:${r}, width:${n}, height:${i}) size is out of range`);let a=ts.createFrom(this,{width:n,height:i,position:[e,r]}),o=n*this.channels,s=r+i,h=0,l=e*this.channels;for(let u=r;u<s;u++){let t=u*this.width*this.channels+l,e=t+o;for(;t<e;t++)a.data[h++]=this.data[t]}return a}function Dn(t={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=t;let r=In(this,e,this.components);if(-1===r)throw new Error("Could not find new dimensions. Threshold may be too high.");let n=Pn(this,e,this.components,r),i=Tn(this,e,this.components,r),a=Bn(this,e,this.components,r,n,i);return this.crop({x:r,y:n,width:a-r+1,height:i-n+1})}function In(t,e,r){for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++)if(t.getValueXY(n,i,r)>=e)return n;return-1}function Pn(t,e,r,n){for(let i=0;i<t.height;i++)for(let a=n;a<t.width;a++)if(t.getValueXY(a,i,r)>=e)return i;return-1}function Tn(t,e,r,n){for(let i=t.height-1;i>=0;i--)for(let a=n;a<t.width;a++)if(t.getValueXY(a,i,r)>=e)return i;return-1}function Bn(t,e,r,n,i,a){for(let o=t.width-1;o>=n;o--)for(let n=i;n<=a;n++)if(t.getValueXY(o,n,r)>=e)return o;return-1}function Rn(t){if("string"===typeof t){const e=t[t.length-1];t=parseFloat(t),"%"===e&&(t/=100)}return t}function On(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof t){let r=t[t.length-1];if("%"!==r)throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}if("number"===typeof t)return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}function Un(t,e,r){t=Rn(t);let n=Math.round(t*e),i=Math.round(t*r);return n<=0&&(n=1),i<=0&&(i=1),{width:n,height:i}}function Ln(t,e){if(e<0||e>=t.height)throw new RangeError(`row must be included between 0 and ${t.height-1}. Current value: ${e}`)}function Fn(t,e){if(e<0||e>=t.width)throw new RangeError(`column must be included between 0 and ${t.width-1}. Current value: ${e}`)}function jn(t,e){if(e<0||e>=t.channels)throw new RangeError(`channel must be included between 0 and ${t.channels-1}. Current value: ${e}`)}const $n={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function zn(t){if("string"!==typeof t)throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!$n[t])throw new RangeError(`invalid interpolation algorithm: ${t}`);return $n[t]}function Vn(t,e,r){const n=this.width/e,i=this.height/r;if(this.bitDepth>1)for(let a=0;a<e;a++){const e=Math.floor((a+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);for(let i=0;i<this.channels;i++)t.setValueXY(a,n,i,this.getValueXY(e,r,i))}}else for(let a=0;a<e;a++){const e=Math.floor((a+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);this.getBitXY(e,r)&&t.setBitXY(a,n)}}}function Yn(t={}){const{factor:e=1,interpolation:r=$n.nearestneighbor,preserveAspectRatio:n=!0}=t,i=zn(r);let a=t.width,o=t.height;if(a||(a=o&&n?Math.round(o*(this.width/this.height)):this.width),o||(o=n?Math.round(a*(this.height/this.width)):this.height),({width:a,height:o}=Un(e,a,o)),a===this.width&&o===this.height){const t=this.clone();return t.position=[0,0],t}let s=Math.round((this.width-a)/2),h=Math.round((this.height-o)/2);const l=ts.createFrom(this,{width:a,height:o,position:[s,h]});switch(i){case $n.nearestneighbor:Vn.call(this,l,a,o);break;default:throw new Error(`unsupported resize interpolation: ${i}`)}return l}function Nn(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[gt]});let t=ts.createFrom(this,{colorModel:vt}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],a=r[n+1],o=r[n+2],s=Math.min(i,a,o),h=Math.max(i,a,o),l=h-s,u=0,f=0===h?0:l/h,c=h;if(h!==s){switch(h){case i:u=(a-o)/l+(a<o?6:0);break;case a:u=(o-i)/l+2;break;case o:u=(i-a)/l+4;break;default:throw new Error("unreachable")}u/=6}t.data[e++]=u*this.maxValue,t.data[e++]=f*this.maxValue,t.data[e++]=c,this.alpha&&(t.data[e++]=r[n+3])}return t}function Xn(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[gt]});let t=ts.createFrom(this,{colorModel:wt}),e=Math.floor(this.maxValue/2),r=0,n=this.data;for(let i=0;i<n.length;i+=this.channels){let a=n[i],o=n[i+1],s=n[i+2],h=Math.max(a,o,s),l=Math.min(a,o,s),u=0,f=0,c=(h+l)/2;if(h!==l){let t=h-l;switch(f=c>e?t/(2-h-l):t/(h+l),h){case a:u=(o-s)/t+(o<s?6:0);break;case o:u=(s-a)/t+2;break;case s:u=(a-o)/t+4;break;default:throw new Error("unreachable")}u/=6}t.data[r++]=u*this.maxValue,t.data[r++]=f*this.maxValue,t.data[r++]=c,this.alpha&&(t.data[r++]=n[i+3])}return t}function Gn(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[gt]});let t=ts.createFrom(this,{components:4,colorModel:bt}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],a=r[n+1],o=r[n+2],s=Math.min(this.maxValue-i,this.maxValue-a,this.maxValue-o),h=(this.maxValue-i-s)/(1-s/this.maxValue),l=(this.maxValue-a-s)/(1-s/this.maxValue),u=(this.maxValue-o-s)/(1-s/this.maxValue);t.data[e++]=Math.round(h),t.data[e++]=Math.round(l),t.data[e++]=Math.round(u),t.data[e++]=Math.round(s),this.alpha&&(t.data[e++]=r[n+3])}return t}function qn(){return new ts(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const Hn={luma709(t,e,r){return 6966*t+23436*e+2366*r>>15},luma601(t,e,r){return 9798*t+19235*e+3735*r>>15},maximum(t,e,r){return Math.max(t,e,r)},minimum(t,e,r){return Math.min(t,e,r)},average(t,e,r){return(t+e+r)/3>>0},minmax(t,e,r){return(Math.max(t,e,r)+Math.min(t,e,r))/2},red(t){return t},green(t,e){return e},blue(t,e,r){return r},cyan(t,e,r,n){let i=Hn.black(t,e,r,n);return(n.maxValue-t-i)/(1-i/n.maxValue)>>0},magenta(t,e,r,n){let i=Hn.black(t,e,r,n);return(n.maxValue-e-i)/(1-i/n.maxValue)>>0},yellow(t,e,r,n){let i=Hn.black(t,e,r,n);return(n.maxValue-r-i)/(1-i/n.maxValue)>>0},black(t,e,r,n){return Math.min(n.maxValue-t,n.maxValue-e,n.maxValue-r)},hue(t,e,r,n){let i=Hn.min(t,e,r),a=Hn.max(t,e,r);if(a===i)return 0;let o=0,s=a-i;switch(a){case t:o=(e-r)/s+(e<r?6:0);break;case e:o=(r-t)/s+2;break;case r:o=(t-e)/s+4;break;default:throw new Error("unreachable")}return o/6*n.maxValue>>0},saturation(t,e,r,n){let i=Hn.min(t,e,r),a=Hn.max(t,e,r),o=a-i;return 0===a?0:o/a*n.maxValue},lightness(t,e,r){let n=Hn.min(t,e,r),i=Hn.max(t,e,r);return(i+n)/2}};Object.defineProperty(Hn,"luminosity",{enumerable:!1,value:Hn.lightness}),Object.defineProperty(Hn,"luminance",{enumerable:!1,value:Hn.lightness}),Object.defineProperty(Hn,"min",{enumerable:!1,value:Hn.minimum}),Object.defineProperty(Hn,"max",{enumerable:!1,value:Hn.maximum}),Object.defineProperty(Hn,"brightness",{enumerable:!1,value:Hn.maximum});const Wn={};function Zn(t={}){let{algorithm:e="luma709",keepAlpha:r=!1,mergeAlpha:n=!0}=t;if("string"!==typeof e&&"function"!==typeof e)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(e="red"),r&=this.alpha,n&=this.alpha,r&&(n=!1);let i,a=rr(this,t,{components:1,alpha:r,colorModel:mt});if("function"===typeof e)i=e;else if(i=Hn[e.toLowerCase()],!i)throw new Error(`unsupported grey algorithm: ${e}`);let o=0;for(let s=0;s<this.data.length;s+=this.channels)n?a.data[o++]=Dr(i(this.data[s],this.data[s+1],this.data[s+2],this)*this.data[s+this.components]/this.maxValue,this):(a.data[o++]=Dr(i(this.data[s],this.data[s+1],this.data[s+2],this),this),a.alpha&&(a.data[o++]=this.data[s+this.components]));return a}function Kn(t){let e=0;for(let u=0;u<t.length;u++)if(0!==t[u]){e=u;break}let r=t.length-1;for(let u=t.length-1;u>=e;u--)if(0!==t[u]){r=u;break}let n=1/(r-e),i=new Array(t.length),a=0,o=0;for(let u=e;u<t.length;u++)a+=u*t[u],o+=t[u],i[u]=a/o;let s=new Array(t.length);a=o=0;for(let u=r;u>0;u--)a+=u*t[u],o+=t[u],s[u-1]=a/o;let h=-1,l=Number.MAX_VALUE;for(let u=0;u<t.length;u++){let e,r=0;for(let a=0;a<=u;a++)e=1/(1+n*Math.abs(a-i[u])),e<1e-6||e>.999999||(r+=t[a]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));for(let i=u+1;i<t.length;i++)e=1/(1+n*Math.abs(i-s[u])),e<1e-6||e>.999999||(r+=t[i]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));r<l&&(l=r,h=u)}return h}function Jn(t){let e=t.slice(),r=0;while(!Qn(e)){let n=0,i=0,a=e[0];for(let r=0;r<t.length-1;r++)n=i,i=a,a=e[r+1],e[r]=(n+i+a)/3;if(e[t.length-1]=(i+a)/3,r++,r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let n=0;for(let i=1;i<t.length-1;i++)e[i-1]<e[i]&&e[i+1]<e[i]&&(n+=i);return Math.floor(n/2)}function Qn(t){let e=!1,r=0;for(let n=1;n<t.length-1;n++)if(t[n-1]<t[n]&&t[n+1]<t[n]&&(r++,r>2))return!1;return 2===r&&(e=!0),e}function ti(t){let e,r,n,i,a=0;for(let o=1;o<t.length;o++)if(t[o]>0){a=o+1;break}while(1){e=0,n=0;for(let r=0;r<a;r++)n+=t[r],e+=t[r]*r;i=0,r=0;for(let e=a+1;e<t.length;e++)r+=t[e],i+=t[e]*e;if(n>0&&r>0&&(e/=n,i/=r,a===Math.round((e+i)/2)))break;if(a++,a>t.length-2)throw new Error("Threshold not found")}return a}function ei(t,e){let r,n,i,a,o,s,h,l,u,f,c,d;c=.5,f=0;for(let p=0;p<t.length;p++)f+=p*t[p];f/=e,h=f;do{s=h,r=s+.5|0,n=0,a=0;for(let e=0;e<=r;e++)n+=e*t[e],a+=t[e];l=0===a?0:n/a,i=0,o=0;for(let e=r+1;e<t.length;e++)i+=e*t[e],o+=t[e];u=0===o?0:i/o,d=(l-u)/(Math.log(l)-Math.log(u)),h=d<-Number.EPSILON?d-.5|0:d+.5|0}while(Math.abs(h-s)>c);return r}function ri(t,e){let r=new Array(t.length);for(let c=0;c<t.length;c++)r[c]=t[c]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let c=1;c<t.length;c++)n[c]=n[c-1]+r[c],i[c]=1-n[c];let a=0;for(let c=0;c<t.length;c++)if(Math.abs(n[c])>=Number.EPSILON){a=c;break}let o=t.length-1;for(let c=t.length-1;c>=a;c--)if(Math.abs(i[c])>=Number.EPSILON){o=c;break}let s,h,l,u=-1,f=Number.MIN_VALUE;for(let c=a;c<=o;c++){h=0;for(let e=0;e<=c;e++)0!==t[e]&&(h-=r[e]/n[c]*Math.log(r[e]/n[c]));l=0;for(let e=c+1;e<t.length;e++)0!==t[e]&&(l-=r[e]/i[c]*Math.log(r[e]/i[c]));s=h+l,f<s&&(f=s,u=c)}return u}function ni(t,e){let r=0;for(let n=0;n<t.length;n++)r+=n*t[n];return Math.floor(r/e)}function ii(t,e){let r,n,i,a,o,s,h,l,u,f,c,d,p=-2,m=0;for(let g=0;g<t.length;g++)m+=g*t[g];m/=e,r=m;while(r!==p){let e=ai(t,r),m=ai(t,t.length-1),g=oi(t,r),w=oi(t,t.length-1),v=si(t,r),b=si(t,t.length-1);if(n=g/e,i=(w-g)/(m-e),a=e/m,o=(m-e)/m,s=v/e-n*n,h=(b-v)/(m-e)-i*i,l=1/s-1/h,u=n/s-i/h,f=n*n/s-i*i/h+Math.log10(s*(o*o)/(h*(a*a))),c=u*u-l*f,c<0)return r;p=r,d=(u+Math.sqrt(c))/l,r=isNaN(d)?p:Math.floor(d)}return r}function ai(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function oi(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*t[n];return r}function si(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*n*t[n];return r}function hi(t){if(t.length<2)return 0;let e=0,r=-1,n=-1,i=new Array(t.length);for(let a=0;a<t.length;a++)i[a]=t[a],t[a]>0&&(n=a);while(!fi(i))if(i=li(i),e++,e>1e4)return r;return r=ui(i,n),r}function li(t){let e=new Array(t.length);for(let r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function ui(t,e){let r;for(let n=1;n<e;n++)if(t[n-1]>t[n]&&t[n+1]>=t[n]){r=n;break}return r}function fi(t){let e=t.length,r=!1,n=0;for(let i=1;i<e-1;i++)if(t[i-1]<t[i]&&t[i+1]<t[i]&&(n++,n>2))return!1;return 2===n&&(r=!0),r}function ci(t,e){let r,n,i,a,o,s,h=1,l=0,u=0,f=0,c=0,d=-1,p=t.length,m=new Array(p);for(let g=0;g<p;g++)m[g]=t[g]/e;for(let g=0;g<p;g++)l+=g*m[g],u+=g*g*m[g],f+=g*g*g*m[g];n=h*u-l*l,i=(-u*u+l*f)/n,a=(h*-f+u*l)/n,o=.5*(-a-Math.sqrt(a*a-4*i)),s=.5*(-a+Math.sqrt(a*a-4*i)),r=(s-l)/(s-o);for(let g=0;g<p;g++)if(c+=m[g],c>r){d=g;break}return d}function di(t,e){let r=0,n=0,i=0,a=0,o=0;for(let s=0;s<t.length;s++)o+=s*t[s];for(let s=0;s<t.length;s++){n+=t[s];const h=e-n;if(0===n||0===h)continue;r+=s*t[s];const l=(o-r)/h,u=n*h*(r/n-l)*(r/n-l);u>=i&&(a=s,i=u)}return a}function pi(t){let e=-1,r=.5,n=new Array(t.length),i=mi(t,t.length-1),a=1;for(let o=0;o<t.length;o++)n[o]=Math.abs(mi(t,o)/i-r),n[o]<a&&(a=n[o],e=o);return e}function mi(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function gi(t,e){let r,n,i,a=new Array(t.length),o=new Array(t.length),s=new Array(t.length),h=0,l=0,u=0,f=0,c=0,d=0,p=.5,m=1/(1-p),g=2,w=1/(1-g);for(let _=0;_<t.length;_++)a[_]=t[_]/e;o[0]=a[0],s[0]=1-o[0];for(let _=1;_<t.length;_++)o[_]=o[_-1]+a[_],s[_]=1-o[_];n=0;for(let _=0;_<t.length;_++)if(Math.abs(o[_])>=Number.EPSILON){n=_;break}i=t.length-1;for(let _=t.length-1;_>=n;_--)if(Math.abs(s[_])>=Number.EPSILON){i=_;break}for(let _=n;_<=i;_++){let e=0,r=0,n=0;for(let s=0;s<=_;s++)0!==t[s]&&(e-=a[s]/o[_]*Math.log(a[s]/o[_])),r+=Math.sqrt(a[s]/o[_]),n+=a[s]*a[s]/(o[_]*o[_]);let i=0,p=0,g=0;for(let o=_+1;o<t.length;o++)0!==t[o]&&(i-=a[o]/s[_]*Math.log(a[o]/s[_])),p+=Math.sqrt(a[o]/s[_]),g+=a[o]*a[o]/(s[_]*s[_]);let v=e+i,b=m*(r*p>0?Math.log(r*p):0),y=w*(n*g>0?Math.log(n*g):0);v>f&&(f=v,h=_),b>c&&(c=b,l=_),y>d&&(d=y,u=_)}let v,b=[h,l,u];b.sort(dr["asc"]),v=Math.abs(b[0]-b[1])<=5?Math.abs(b[1]-b[2])<=5?[1,2,1]:[0,1,3]:Math.abs(b[1]-b[2])<=5?[3,1,0]:[1,2,1];let y=o[b[2]]-o[b[0]];return r=Math.round(b[0]*(o[b[0]]+.25*y*v[0])+.25*b[1]*y*v[1]+b[2]*(s[b[2]]+.25*y*v[2])),r}function wi(t,e){let r=new Array(t.length);for(let d=0;d<t.length;d++)r[d]=t[d]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let d=1;d<t.length;d++)n[d]=n[d-1]+r[d],i[d]=1-n[d];let a=0;for(let d=0;d<t.length;d++)if(Math.abs(n[d])>=Number.EPSILON){a=d;break}let o=t.length-1;for(let d=t.length-1;d>=a;d--)if(Math.abs(i[d])>=Number.EPSILON){o=d;break}let s,h,l,u,f=-1,c=Number.MAX_VALUE;for(let d=a;d<=o;d++){l=0,s=.5/n[d];for(let t=1;t<=d;t++)l-=r[t]*Math.log(1-s*n[t-1]);l*=s,u=0,s=.5/i[d];for(let e=d+1;e<t.length;e++)u-=r[e]*Math.log(1-s*i[e]);u*=s,h=Math.abs(l-u),h<c&&(c=h,f=d)}return f}function vi(t){let e=0,r=0,n=0,i=0;for(let f=0;f<t.length;f++)if(t[f]>0){e=f;break}e>0&&e--;for(let f=t.length-1;f>0;f--)if(t[f]>0){i=f;break}i<t.length-1&&i++;for(let f=0;f<t.length;f++)t[f]>r&&(n=f,r=t[f]);let a,o,s,h=!1;if(n-e<i-n){h=!0;let r=0,a=t.length-1;while(r<a){let e=t[r];t[r]=t[a],t[a]=e,r++,a--}e=t.length-1-i,n=t.length-1-n}if(e===n)return e;a=t[n],o=e-n,s=Math.sqrt(a*a+o*o),a/=s,o/=s,s=a*e+o*t[e];let l=e,u=0;for(let f=e+1;f<=n;f++){let e=a*f+o*t[f]-s;e>u&&(l=f,u=e)}if(l--,h){let e=0,r=t.length-1;while(e<r){let n=t[e];t[e]=t[r],t[r]=n,e++,r--}return t.length-1-l}return l}function bi(t,e){let r=new Array(t.length);for(let l=0;l<t.length;l++)r[l]=t[l]/e;let n=new Array(t.length);n[0]=r[0];for(let l=1;l<t.length;l++)n[l]=n[l-1]+r[l];let i=new Array(t.length);i[0]=r[0]*r[0];for(let l=1;l<t.length;l++)i[l]=i[l-1]+r[l]*r[l];let a=new Array(t.length);a[t.length-1]=0;for(let l=t.length-2;l>=0;l--)a[l]=a[l+1]+r[l+1]*r[l+1];let o,s=-1,h=Number.MIN_VALUE;for(let l=0;l<t.length;l++)o=-1*(i[l]*a[l]>0?Math.log(i[l]*a[l]):0)+2*(n[l]*(1-n[l])>0?Math.log(n[l]*(1-n[l])):0),o>h&&(h=o,s=l);return s}Object.keys(Hn).forEach(t=>{Wn[t]=t});const yi={huang:Kn,intermodes:Jn,isodata:ti,li:ei,maxentropy:ri,mean:ni,minerror:ii,minimum:hi,moments:ci,otsu:di,percentile:pi,renyientropy:gi,shanbhag:wi,triangle:vi,yen:bi},_i={};function xi(t={}){let{algorithm:e=_i.otsu}=t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let r=yi[e.toLowerCase()];if(r){let t=this.getHistogram();return r(t,this.size)}throw new Error(`unknown thresholding algorithm: ${e}`)}Object.keys(yi).forEach(t=>{_i[t]=t});const ki="threshold";function Mi(t={}){let{algorithm:e=ki,threshold:r=.5,useAlpha:n=!0,invert:i=!1}=t;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),r=e===ki?On(r,this.maxValue):xi.call(this,t);let a=new ts(this.width,this.height,{kind:"BINARY",parent:this}),o=0;if(this.alpha&&n)for(let s=0;s<this.data.length;s+=this.channels){let t=this.data[s]+(this.maxValue-this.data[s])*(this.maxValue-this.data[s+1])/this.maxValue;(i&&t<=r||!i&&t>=r)&&a.setBit(o),o++}else for(let s=0;s<this.data.length;s+=this.channels)(i&&this.data[s]<=r||!i&&this.data[s]>=r)&&a.setBit(o),o++;return a}function Ai(t,e,r,n){let i=t.width,a=t.height,o=e.width,s=t.channels;for(let h=0;h<i;h++)for(let l=0;l<a;l++)for(let a=0;a<s;a++){let u=(l*i+h)*s+a,f=((n+l)*o+r+h)*s+a;e.data[f]=t.data[u]}}function Ei(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===r){if(n.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=$r()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=this.width+2*e[0],a=this.height+2*e[1],o=this.channels,s=ts.createFrom(this,{width:i,height:a});Ai(this,s,e[0],e[1]);for(let h=e[0];h<i-e[0];h++)for(let t=0;t<o;t++){let r=n[t]||s.data[(e[1]*i+h)*o+t];for(let n=0;n<e[1];n++)s.data[(n*i+h)*o+t]=r;r=n[t]||s.data[((a-e[1]-1)*i+h)*o+t];for(let n=a-e[1];n<a;n++)s.data[(n*i+h)*o+t]=r}for(let h=0;h<a;h++)for(let t=0;t<o;t++){let r=n[t]||s.data[(h*i+e[0])*o+t];for(let n=0;n<e[0];n++)s.data[(h*i+n)*o+t]=r;r=n[t]||s.data[(h*i+i-e[0]-1)*o+t];for(let n=i-e[0];n<i;n++)s.data[(h*i+n)*o+t]=r}return s}function Si(t=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();let e=ts.createFrom(this,{bitDepth:t});switch(t){case 8:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function Ci(t,e={}){const{interpolation:r=$n.nearestneighbor,width:n=this.width,height:i=this.height}=e;if("number"!==typeof t)throw new TypeError("degrees must be a number");const a=zn(r),o=t*Math.PI/180,s=Math.floor(Math.abs(n*Math.cos(o))+Math.abs(i*Math.sin(o))),h=Math.floor(Math.abs(i*Math.cos(o))+Math.abs(n*Math.sin(o))),l=ts.createFrom(this,{width:s,height:h}),u=Math.cos(-o),f=Math.sin(-o);let c=s/2,d=h/2;s%2===0?(c-=.5,h%2===0?d-=.5:d=Math.floor(d)):(c=Math.floor(c),h%2===0?d-=.5:d=Math.floor(d));const p=Math.floor(n/2-c),m=Math.floor(i/2-d);switch(a){case $n.nearestneighbor:return Di(this,l,p,m,c,d,u,f);case $n.bilinear:return Ii(this,l,p,m,c,d,u,f);default:throw new Error(`unsupported rotate interpolation: ${a}`)}}function Di(t,e,r,n,i,a,o,s){for(let h=0;h<e.width;h+=1)for(let l=0;l<e.height;l+=1)for(let u=0;u<t.channels;u++){let f=Math.round((h-i)*o-(l-a)*s+i)+r,c=Math.round((l-a)*o+(h-i)*s+a)+n;f<0||f>=t.width||c<0||c>=t.height?1===t.alpha&&u===t.channels-1?e.setValueXY(h,l,u,0):e.setValueXY(h,l,u,t.maxValue):e.setValueXY(h,l,u,t.getValueXY(f,c,u))}return e}function Ii(t,e,r,n,i,a,o,s){let h=t.width*t.channels;for(let l=0;l<e.height;l++)for(let u=0;u<e.width;u++){let f=(u-i)*o-(l-a)*s+i+r,c=(l-a)*o+(u-i)*s+a+n,d=0|f,p=0|c,m=f-d,g=c-p;for(let r=0;r<t.channels;r++)if(f<0||f>=t.width||c<0||c>=t.height)1===t.alpha&&r===t.channels-1?e.setValueXY(u,l,r,0):e.setValueXY(u,l,r,t.maxValue);else{let n=(p*t.width+d)*t.channels+r,i=t.data[n],a=t.data[n+t.channels],o=t.data[n+h],s=t.data[n+h+t.channels],f=i+m*(a-i)+g*(o-i)+m*g*(i-a-o+s)|0;e.setValueXY(u,l,r,f)}}return e}function Pi(t,e){if("number"!==typeof t)throw new TypeError("angle must be a number");switch(t<0&&(t=360*Math.ceil(-t/360)+t),t%360){case 0:return this.clone();case 90:return Bi.call(this);case 180:return Ri.call(this);case 270:return Ti.call(this);default:return Ci.call(this,t,e)}}function Ti(){const t=ts.createFrom(this,{width:this.height,height:this.width}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(r,e-n,i,this.getValueXY(n,r,i));return t}function Bi(){const t=ts.createFrom(this,{width:this.height,height:this.width}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(e-r,n,i,this.getValueXY(n,r,i));return t}function Ri(){const t=ts.createFrom(this),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)for(let a=0;a<this.channels;a++)t.setValueXY(e-i,r-n,a,this.getValueXY(i,n,a));return t}function Oi(t,e={}){const r=er(t);this.checkProcessable("insert",r);let{x:n=0,y:i=0}=e;const a=nr(this,e,{copy:!0}),o=Math.min(a.height,i+t.height),s=Math.min(a.width,n+t.width);if(1===a.bitDepth)for(let h=i;h<o;h++)for(let e=n;e<s;e++){const r=t.getBitXY(e-n,h-i);r?a.setBitXY(e,h):a.clearBitXY(e,h)}else for(let h=i;h<o;h++)for(let e=n;e<s;e++)a.setPixelXY(e,h,t.getPixelXY(e-n,h-i));return a}function Ui(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===r){if(n.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=$r()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=e[0],a=e[1],o=this.channels;for(let s=i;s<this.width-i;s++)for(let t=0;t<o;t++){let e=n[t]||this.data[(s+this.width*a)*o+t];for(let r=0;r<a;r++)this.data[(r*this.width+s)*o+t]=e;e=n[t]||this.data[(s+this.width*(this.height-a-1))*o+t];for(let r=this.height-a;r<this.height;r++)this.data[(r*this.width+s)*o+t]=e}for(let s=0;s<this.height;s++)for(let t=0;t<o;t++){let e=n[t]||this.data[(s*this.width+i)*o+t];for(let r=0;r<i;r++)this.data[(s*this.width+r)*o+t]=e;e=n[t]||this.data[(s*this.width+this.width-i-1)*o+t];for(let r=this.width-i;r<this.width;r++)this.data[(s*this.width+r)*o+t]=e}return this}function Li(t={}){let{preserveAlpha:e=!0}=t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new ze([this.clone()]);let r=new ze,n=this.data;if(this.alpha&&e)for(let i=0;i<this.components;i++){let t=ts.createFrom(this,{components:1,alpha:!0,colorModel:mt}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i],t.data[e++]=n[r+this.components];r.push(t)}else for(let i=0;i<this.channels;i++){let t=ts.createFrom(this,{components:1,alpha:!1,colorModel:mt}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i];r.push(t)}return r}function Fi(t,e={}){let{keepAlpha:r=!1,mergeAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=wr(this,t);let i=ts.createFrom(this,{components:1,alpha:r,colorModel:mt}),a=0;for(let o=0;o<this.data.length;o+=this.channels)n?i.data[a++]=this.data[o+t]*this.data[o+this.components]/this.maxValue:(i.data[a++]=this.data[o+t],r&&(i.data[a++]=this.data[o+this.components]));return i}function ji(t=$i,e={}){let{mergeAlpha:r=!1,keepAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let i=ts.createFrom(this,{components:1,alpha:n,colorModel:mt}),a=0;for(let o=0;o<this.size;o++){let e=t(this.getPixel(o));r?i.data[a++]=e*this.data[o*this.channels+this.components]/this.maxValue:(i.data[a++]=e,n&&(i.data[a++]=this.data[o*this.channels+this.components]))}return i}function $i(t){return(t[0]+t[1]+t[2])/3}function zi(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");t=wr(this,t);let r=t;for(let n=0;n<e.data.length;n++)this.data[r]=e.data[n],r+=this.channels;return this}function Vi(t,e={}){let{shift:r=[0,0],average:n,channels:i,defaultAlpha:a,normalize:o,border:s=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(s)||(s=[s,s]),i=pr(this,{channels:i,defaultAlpha:a}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof n&&(n=!0);let h=Math.max(s[0],-r[0]),l=Math.min(this.width-s[0],this.width-r[0]),u=Math.max(s[1],-r[1]),f=Math.min(this.height-s[1],this.height-r[1]),c=$r()(i.length,0);for(let d=0;d<i.length;d++){let e=i[d],n=o?this.sum[e]:Math.max(this.sum[e],t.sum[e]),a=o?t.sum[e]:Math.max(this.sum[e],t.sum[e]);if(0!==n&&0!==a)for(let i=h;i<l;i++)for(let o=u;o<f;o++){let s=i*this.multiplierX+o*this.multiplierY+e,h=s+r[0]*this.multiplierX+r[1]*this.multiplierY;c[d]+=Math.min(this.data[s]/n,t.data[h]/a)}}return n?c.reduce((t,e)=>t+e)/c.length:c}function Yi(t={}){let{sampling:e=[10,10],painted:r=!1,mask:n}=t;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const i=e[0],a=e[1],o=[],s=[],h=this.width/i,l=this.height/a;let u=Math.floor(h/2);for(let c=0;c<i;c++){let t=Math.floor(l/2);for(let e=0;e<a;e++){let e=Math.round(u),r=Math.round(t);n&&!n.getBitXY(e,r)||(o.push([e,r]),s.push(this.getPixelXY(e,r))),t+=l}u+=h}const f={xyS:o,zS:s};return r&&(f.painted=this.rgba8().paintPoints(o)),f}function Ni(t,e,r){const n=new Array(t);for(let i=0;i<t;i++)n[i]=new Array(e);if(r)for(let i=0;i<t;i++)for(let t=0;t<e;t++)n[i][t]=r;return n.width=t,n.height=e,Object.setPrototypeOf(n,Ni.prototype),n}function Xi(t,e={}){let{border:r}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");let n=new Ni(t.width,t.height,-1/0),i=Math.floor(t.width/2),a=Math.floor(t.height/2),o=i,s=a,h=!1;while(!h){let e=n.localSearch(i,a,-1/0);for(let i=0;i<e.length;i++){let a=e[i],h=this.getSimilarity(t,{border:r,shift:[o-a[0],s-a[1]]});n[a[0]][a[1]]=h}let l=n.localMax(i,a);l.position[0]!==i||l.position[1]!==a?(i=l.position[0],a=l.position[1]):h=!0}return[i-o,a-s]}function Gi(t,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),Ln(this,t),jn(this,e);let r=new Array(this.width),n=0,i=t*this.width*this.channels+e,a=i+this.width*this.channels;for(let o=i;o<a;o+=this.channels)r[n++]=this.data[o];return r}function qi(t,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),Fn(this,t),jn(this,e);let r=new Array(this.height),n=0,i=this.width*this.channels;for(let a=e+t*this.channels;a<this.data.length;a+=i)r[n++]=this.data[a];return r}function Hi(t={}){let{channel:e}=t;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===e){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let r=new Br["default"](this.height,this.width);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)r.set(n,t,this.getValueXY(t,n,e));return r}function Wi(t,e={}){let{channel:r}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(!t.length||!t[0].length||this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let n=0;n<this.height;n++)for(let e=0;e<this.width;e++)this.setValueXY(e,n,r,t.get(n,e))}function Zi(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let t=new Array(this.size),e=0;for(let r=0;r<this.data.length;r+=this.channels){let n=new Array(this.components);for(let t=0;t<this.components;t++)n[t]=this.data[r+t];t[e++]=n}return t}function Ki(t){let e=this,r=e.getClosestCommonParent(t),n=e.getRelativePosition(r,{defaultFurther:!0}),i=Ji(e,n),a=t.getRelativePosition(r,{defaultFurther:!0}),o=Ji(t,a),s=Qi(i,o),h={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let l=0;l<s.length;l++){let r=s[l],i=[r[0]-n[0],r[1]-n[1]],o=[r[0]-a[0],r[1]-a[1]],u=e.getBitXY(i[0],i[1]),f=t.getBitXY(o[0],o[1]);1===u&&1===f&&h.commonWhitePixels.push(r)}for(let l=0;l<i.length;l++){let t,r;0!==l&&(t=Math.floor(l/(e.width-1)),r=l%(e.width-1)),1===e.getBitXY(t,r)&&h.whitePixelsMask1.push(i[l])}for(let l=0;l<o.length;l++){let e=0,r=0;0!==l&&(e=Math.floor(l/(t.width-1)),r=l%(t.width-1)),1===t.getBitXY(e,r)&&h.whitePixelsMask2.push(o[l])}return h}function Ji(t,e){let r=[];for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){let t=[n,i];r.push([t[0]+e[0],t[1]+e[1]])}return r}function Qi(t,e){let r=0,n=0,i=[];while(r<t.length&&n<e.length)t[r][0]===e[n][0]&&t[r][1]===e[n][1]?(i.push(t[r]),r++,n++):t[r][0]<e[n][0]||t[r][0]===e[n][0]&&t[r][1]<e[n][1]?r++:n++;return i}function ta(t){let e,r=ea(this),n=ea(t);if(e=r>=n?ra(this,r):ra(t,n),0===r||0===n)return e;let i=this,a=t;while(r!==n)if(r>n){if(i=i.parent,null===i)return e;r-=1}else{if(a=a.parent,null===a)return e;n-=1}while(i!==a&&null!==i&&null!==a)if(i=i.parent,a=a.parent,null===i||null===a)return e;return i!==a?e:i}function ea(t){let e=0,r=t;while(null!=r.parent)r=r.parent,e++;return e}function ra(t,e){let r=t;while(e>0)r=r.parent,e-=1;return r}Ni.prototype.localMin=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]<r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Ni.prototype.localMax=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]>r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},Ni.prototype.localSearch=function(t,e,r){let n=[];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]===r&&n.push([i,t]);return n};const na={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},ia=[[-1,0,1],[-2,0,2],[-1,0,1]],aa=[[-1,-2,-1],[0,0,0],[1,2,1]],oa={bitDepth:32,mode:"periodic"};function sa(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},na,e);const r=t.width,n=t.height,i=t.maxValue,a={sigma:e.gaussianBlur,radius:3},o=t.gaussianFilter(a),s=o.convolution(aa,oa),h=o.convolution(ia,oa),l=h.hypotenuse(s),u=t.constructor,f=new u(r,n,{kind:"GREY",bitDepth:32}),c=new u(r,n,{kind:"GREY",bitDepth:32}),d=new u(r,n,{kind:"GREY"});for(var p=1;p<r-1;p++)for(var m=1;m<n-1;m++){var g=(Math.round(Math.atan2(h.getValueXY(p,m,0),s.getValueXY(p,m,0))*(5/Math.PI))+5)%5;0===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p,m-1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p,m+1,0))||1===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m+1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m-1,0))||2===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m,0))||3===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m-1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m+1,0))||f.setValueXY(p,m,0,l.getValueXY(p,m,0))}for(p=0;p<r*n;++p){var w=f.data[p],v=0;w>e.highThreshold&&(v++,d.data[p]=i),w>e.lowThreshold&&v++,c.data[p]=v}var b=[];for(p=1;p<r-1;++p)for(m=1;m<n-1;++m)if(1===c.getValueXY(p,m,0))t:for(var y=p-1;y<p+2;++y)for(var _=m-1;_<m+2;++_)if(2===c.getValueXY(y,_,0)){b.push([p,m]),d.setValueXY(p,m,0,i);break t}while(b.length>0){var x=[];for(p=0;p<b.length;++p)for(m=-1;m<2;++m)for(y=-1;y<2;++y)if(0!==m||0!==y){var k=b[p][0]+m,M=b[p][1]+y;1===c.getValueXY(k,M,0)&&0===d.getValueXY(k,M,0)&&(x.push([k,M]),d.setValueXY(k,M,0,i))}b=x}return d}function ha(t){return sa(this,t)}function la(t,e={}){let{position:r}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!r&&(r=t.getRelativePosition(this),!r))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let e=ts.createFrom(this,{width:t.width,height:t.height,alpha:1,position:r,parent:this});for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++){for(let t=0;t<this.channels;t++){let a=this.getValueXY(n+r[0],i+r[1],t);e.setValueXY(n,i,t,a)}t.getBitXY(n,i)||e.setValueXY(n,i,this.components,0)}return e}{let e=ts.createFrom(this,{width:t.width,height:t.height,position:r,parent:this});for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)t.getBitXY(i,n)&&this.getBitXY(i+r[0],n+r[1])&&e.setBitXY(i,n);return e}}var ua=r("abc2"),fa=r.n(ua);function ca(t={}){const{x:e=0,y:r=0,inPlace:n=!0}=t,i=n?this:ts.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),1===this.bitDepth){const t=this.getBitXY(e,r);if(t)return i;const n=new fa.a;n.push(new da(e,r));while(n.length>0){const t=n.shift();i.setBitXY(t.x,t.y);for(let e=t.x+1;e<this.width;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&n.push(new da(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&n.push(new da(e,t.y-1))}for(let e=t.x-1;e>=0;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&n.push(new da(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&n.push(new da(e,t.y-1))}}}return i}function da(t,e){this.x=t,this.y=e}function pa(t,e,r){e/=100,r/=100;var n=[],i=r*e,a=t/60,o=i*(1-Math.abs(a%2-1)),s=r-i;switch(parseInt(a,10)){case 0:n=[i,o,0];break;case 1:n=[o,i,0];break;case 2:n=[0,i,o];break;case 3:n=[0,o,i];break;case 4:n=[o,0,i];break;case 5:n=[i,0,o];break}return{r:Math.round(255*(n[0]+s)),g:Math.round(255*(n[1]+s)),b:Math.round(255*(n[2]+s))}}function ma(t,e,r){return e*=(r<50?r:100-r)/100,{h:t,s:2*e/(r+e)*100,v:r+e}}function ga(t,e,r){var n=ma(t,e,r);return pa(n.h,n.s,n.v)}function wa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function va(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){wa(t,e,r[e])})}return t}var ba={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function ya(t){return _a(t)||Aa(t)||Ma(t)||xa(t)||ka(t)||Ea(t)||Sa(t)}function _a(t){var e=ba[t.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function xa(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}function ka(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100*r[3]}}}function Ma(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}function Aa(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}function Ea(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),a=parseInt(r[2],10),o=ga(n,i,a);return va({},o,{a:100})}}function Sa(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),a=parseInt(r[2],10),o=parseInt(100*parseFloat(r[3]),10),s=ga(n,i,a);return va({},s,{a:o})}}function Ca(t){let e=ya(t);return[e.r,e.g,e.b,Math.round(255*e.a/100)]}function Da(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ia(t,e,r){let n,i,a,o,s,h;return e/=100,r/=100,0===e?o=s=h=255*r:(i=r<=.5?r*(e+1):r+e-r*e,n=2*r-i,a=t/360,o=Da(n,i,a+1/3),s=Da(n,i,a),h=Da(n,i,a-1/3)),{r:o,g:s,b:h}}function Pa(t){let e=new Array(t),r=0;for(let n=0;n<360;n+=360/t){r++;let t=Ia(n,100,30+r%4*15);e[r-1]=[Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b)]}return e}function Ta(){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}function Ba(t){let{color:e,colors:r,randomColors:n,numberColors:i=50}=t;if(e&&!Array.isArray(e)&&(e=Ca(e)),e)return[e];if(r)return r=r.map(function(t){return Array.isArray(t)?t:Ca(t)}),r;if(n){r=new Array(i);for(let t=0;t<i;t++)r[t]=Ta()}return Pa(i)}function Ra(t,e,r={}){let{color:n="blue",colors:i,font:a="12px Helvetica",rotate:o=0}=r;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:gt}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(n&&!Array.isArray(n)&&(n=Ca(n)),i=i?i.map(function(t){return Array.isArray(t)?t:Ca(t)}):[n],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]);let s=this.getCanvas(),h=s.getContext("2d");for(let l=0;l<t.length;l++){h.save();let r=i[l%i.length];h.fillStyle=`rgba(${r[0]},${r[1]},${r[2]},${r[3]/this.maxValue})`,h.font=a[l%a.length];let n=e[l];h.translate(n[0],n[1]),h.rotate(o[l%o.length]/180*Math.PI),h.fillText(t[l],0,0),h.restore()}return this.data=Uint8Array.from(h.getImageData(0,0,this.width,this.height).data),this}function Oa(t,e={}){let{alpha:r=255,labels:n=[],labelsPosition:i=[],labelColor:a="blue",labelFont:o="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:gt});let s=Ba(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(let h=0;h<t.length;h++){let e=t[h],n=s[h%s.length];for(let t=0;t<e.width;t++)for(let i=0;i<e.height;i++)if(e.getBitXY(t,i))for(let a=0;a<Math.min(this.components,n.length);a++)if(255===r)this.setValueXY(t+e.position[0],i+e.position[1],a,n[a]);else{let o=this.getValueXY(t+e.position[0],i+e.position[1],a);o=Math.round((o*(255-r)+n[a]*r)/255),this.setValueXY(t+e.position[0],i+e.position[1],a,o)}}if(Array.isArray(n)&&n.length>0){let e=this.getCanvas(),r=e.getContext("2d");r.fillStyle=a,r.font=o;for(let a=0;a<Math.min(t.length,n.length);a++){let e=i[a]?i[a]:t[a].position;r.fillText(n[a],e[0],e[1])}this.data=Uint8Array.from(r.getImageData(0,0,this.width,this.height).data)}return this}const Ua=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],La=[[0,1,0],[1,1,1],[0,1,0]];class Fa{constructor(t={}){let{kind:e="cross",shape:r,size:n,width:i,height:a,filled:o=!0}=t;if(n&&(i=n,a=n),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=ja(i,a,{filled:o});break;case"circle":case"ellipse":this.matrix=$a(i,a,{filled:o});break;case"triangle":this.matrix=za(i,a,{filled:o});break;default:throw new Error(`Shape: unexpected shape: ${r}`)}else{if(!e)throw new Error("Shape: expected a kind or a shape option");switch(e.toLowerCase()){case"cross":this.matrix=Ua;break;case"smallcross":this.matrix=La;break;default:throw new Error(`Shape: unexpected kind: ${e}`)}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let t=this.matrix,e=[];for(let r=0;r<t.length;r++)for(let n=0;n<t[0].length;n++)t[r][n]&&e.push([n-this.halfWidth,r-this.halfHeight]);return e}getMask(){let t=new ts(this.width,this.height,{kind:Ct});for(let e=0;e<this.matrix.length;e++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[e][r]&&t.setBitXY(r,e);return t}}function ja(t,e,r){const n=Br["default"].zeros(e,t);if(r.filled)for(let i=0;i<e;i++)for(let e=0;e<t;e++)n.set(i,e,1);else{for(let r of[0,e-1])for(let e=0;e<t;e++)n.set(r,e,1);for(let r=0;r<e;r++)for(let e of[0,t-1])n.set(r,e,1)}return n}function $a(t,e,r){const n=Br["default"].zeros(e,t,r);let i=1-e%2,a=1-t%2,o=Math.floor((t-1)/2),s=Math.floor((e-1)/2),h=o*o,l=s*s;if(r.filled)for(let u=0;u<=s;u++){let e=Math.floor(Math.sqrt(h-h*u*u/l));for(let r=o-e;r<=o;r++)n.set(s-u,r,1),n.set(s+u+i,r,1),n.set(s-u,t-r-1,1),n.set(s+u+i,t-r-1,1)}else{for(let e=0;e<=s;e++){let r=Math.floor(Math.sqrt(h-h*e*e/l)),a=o-r;n.set(s-e,a,1),n.set(s+e+i,a,1),n.set(s-e,t-a-1,1),n.set(s+e+i,t-a-1,1)}for(let t=0;t<=o;t++){let r=Math.floor(Math.sqrt(l-l*t*t/h)),i=s-r;n.set(i,o-t,1),n.set(i,o+t+a,1),n.set(e-i-1,o-t,1),n.set(e-i-1,o+t+a,1)}}return n}function za(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");const n=Br["default"].zeros(e,t,r);for(let i=0;i<e;i++){let r=Math.floor((1-i/e)*t/2);for(let e=r;e<t-r;e++)n.set(i,e,1)}return n}function Va(t,e={}){let{shape:r}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let n=Ba(Object.assign({},e,{numberColors:t.length})),i=new Fa(r).getPoints(),a=Math.min(this.channels,n[0].length);for(let o=0;o<t.length;o++){let e=n[o%n.length],r=t[o][0],s=t[o][1];for(let t=0;t<i.length;t++){let n=i[t][0],o=i[t][1];if(r+n>=0&&s+o>=0&&r+n<this.width&&s+o<this.height){let t=(r+n+(s+o)*this.width)*this.channels;for(let r=0;r<a;r++)this.data[t+r]=e[r]}}}return this}function Ya(t,e={}){let{color:r=[this.maxValue,0,0],closed:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let i=Math.min(this.channels,r.length);for(let a=0;a<t.length-1+n;a++){let e=t[a],n=t[(a+1)%t.length],o=n[0]-e[0],s=n[1]-e[1],h=Math.max(Math.abs(o),Math.abs(s)),l=o/h,u=s/h,f=e[0],c=e[1];for(let t=0;t<=h;t++){let t=Math.round(f),e=Math.round(c);if(t>=0&&e>=0&&t<this.width&&e<this.height){let n=(t+e*this.width)*this.channels;for(let t=0;t<i;t++)this.data[n+t]=r[t]}f+=l,c+=u}}return this}function Na(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let n=Ba(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolyline(t[i],r);return this}function Xa(t){let e=[];for(let r=0;r<t.length;r++)t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1]||t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1]||t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1]||e.push(t[r]);return e}function Ga(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};{const r=(e[1]-t[1])/(e[0]-t[0]),n=t[1]-r*t[0];return{a:r,b:n,vertical:!1}}}function qa(t,e,r,n){if(!0===r.vertical)return r.b<=t;if(0===r.a)return!1;{const i=(e-r.b)/r.a;return i<t&&i>=0&&i<=n}}function Ha(t,e={}){let{color:r=[this.maxValue,0,0],filled:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]}),e.closed=!0;let i=Xa(t);if(!1===n)return this.paintPolyline(t,e);{let n=Array(this.height);for(let t=0;t<this.height;t++){n[t]=[];for(let e=0;e<this.width;e++)n[t].push(0)}for(let t=0;t<i.length;t++){const e=Ga(i[t],i[(t+1)%i.length]);for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)qa(r,t,e,this.height)&&(n[t][r]=0===n[t][r]?1:0)}for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)if(1===n[t][e]){let n=Math.min(this.channels,r.length),i=(e+t*this.width)*this.channels;for(let t=0;t<n;t++)this.data[i+t]=r[t]}return this.paintPolyline(t,e)}}function Wa(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let n=Ba(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolygon(t[i],r);return this}function Za(t={}){let{maxSlots:e=256,channel:r,useAlpha:n=!0}=t;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return Ja.call(this,r,{useAlpha:n,maxSlots:e})}function Ka(t={}){const{maxSlots:e=256,useAlpha:r=!0}=t;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let n=new Array(r?this.components:this.channels);for(let i=0;i<n.length;i++)n[i]=Ja.call(this,i,{useAlpha:r,maxSlots:e});return n}function Ja(t,e){let{useAlpha:r,maxSlots:n}=e;if(1===this.bitDepth){let t=[0,0];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=this.getBitXY(e,r);0===n?t[0]+=1:1===n&&(t[1]+=1)}return t}let i=Math.log2(n);if(!Sr()(i))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let a=0;this.bitDepth>i&&(a=this.bitDepth-i);let o=this.data,s=$r()(Math.pow(2,Math.min(this.bitDepth,i)),0);if(r&&this.alpha){let e=this.channels-t-1;for(let r=t;r<o.length;r+=this.channels)s[o[r]>>a]+=o[r+e]/this.maxValue}else for(let h=t;h<o.length;h+=this.channels)s[o[h]>>a]++;return s}function Qa(t={}){let{useAlpha:e=!0,nbSlots:r=512}=t;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let n=Math.log(r)/Math.log(8);if(n!==Math.floor(n))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let i=this.bitDepth-n,a=this.data,o=$r()(Math.pow(8,n),0),s=Math.pow(2,2*n),h=Math.pow(2,n);for(let l=0;l<a.length;l+=this.channels){let t=(a[l]>>i)*s+(a[l+1]>>i)*h+(a[l+2]>>i);e&&this.alpha?o[t]+=a[l+this.channels-1]/this.maxValue:o[t]++}return o}function to(){this.checkProcessable("min",{bitDepth:[8,16,32]});let t=$r()(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function eo(){this.checkProcessable("max",{bitDepth:[8,16,32]});let t=$r()(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function ro(){this.checkProcessable("sum",{bitDepth:[8,16]});let t=$r()(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function no(t=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let r=0;for(let n=0;n<this.width;n++)for(let i=0;i<this.height;i++)1===this.getBitXY(n,i)&&(r+=n**t*i**e);return r}function io(t={}){let{mask:e,region:r=3,removeClosePoints:n=0,invert:i=!1,maxEquals:a=2}=t,o=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),r*=4;let s=i?0:1,h=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],l=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],u=r<=8?1:2,f=[];for(let c=u;c<o.height-u;c++)for(let t=u;t<o.width-u;t++){if(e&&e.getBitXY(t,c)!==s)continue;let n=0,u=0,d=o.data[t+c*o.width];for(let e=0;e<r;e++)i?o.data[t+h[e]+(c+l[e])*o.width]>d&&n++:o.data[t+h[e]+(c+l[e])*o.width]<d&&n++,o.data[t+h[e]+(c+l[e])*o.width]===d&&u++;n+u===r&&u<=a&&f.push([t,c])}if(n>0)for(let c=0;c<f.length;c++)for(let t=c+1;t<f.length;t++)Math.sqrt(Math.pow(f[c][0]-f[t][0],2)+Math.pow(f[c][1]-f[t][1],2))<n&&(f[c][0]=f[c][0]+f[t][0]>>1,f[c][1]=f[c][1]+f[t][1]>>1,f.splice(t,1),t--);return f}function ao(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Re(n)}return e}function oo(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Be(n)}return e}function so(){this.checkProcessable("points",{bitDepth:[1]});const t=[];for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)1===this.getBitXY(e,r)&&t.push([e,r]);return t}function ho(t,e={}){if(this===t)return[0,0];let r=[0,0],n=this;while(n){if(n===t)return r;n.position&&(r[0]+=n.position[0],r[1]+=n.position[1]),n=n.parent}return!!e.defaultFurther&&r}function lo(t={}){let{alpha:e=1}=t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let r=0;if(void 0!==e){for(let t=this.components;t<this.data.length;t+=this.channels)this.data[t]===e&&r++;return r}return this.size}function uo(t,e={}){e.sorted||t.sort(co);const r=t.length,n=new Array(2*r);for(var i=0,a=0;a<r;a++){const e=t[a];while(i>=2&&fo(n[i-2],n[i-1],e)<=0)i--;n[i++]=e}const o=i+1;for(a=r-2;a>=0;a--){const e=t[a];while(i>=o&&fo(n[i-2],n[i-1],e)<=0)i--;n[i++]=e}return n.slice(0,i-1)}function fo(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function co(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function po(){const t=this;t.checkProcessable("monotoneChainConvexHull",{bitDepth:1});const e=t.getPoints();return uo(e,{sorted:!0})}function mo(t,e){return[t[0]-e[0],t[1]-e[1]]}function go(t){let e=Math.sqrt(t[0]**2+t[1]**2);return[t[0]/e,t[1]/e]}function wo(t,e,r){void 0===r&&(r=new Array(e.length));let n=Math.cos(t),i=Math.sin(t);for(let a=0;a<r.length;++a)r[a]=[n*e[a][0]-i*e[a][1],i*e[a][0]+n*e[a][1]];return r}function vo(t={}){const{originalPoints:e=po.call(this)}=t;if(0===e.length)return[];if(1===e.length)return[e[0],e[0],e[0],e[0]];const r=new Array(e.length);let n,i=1/0,a=0;for(let o=0;o<r.length;o++){let t=bo(e[o],e[(o+1)%r.length]);wo(-t,e,r);let s=r[o][0],h=r[o][1],l=r[(o+1)%r.length][0],u=r[(o+1)%r.length][1],f=!0,c=0,d=0,p=0;for(let e=0;e<r.length;e++){let t=r[e][0],n=r[e][1],i=(t-s)/(l-s);!0===f?(f=!1,c=i,d=i):(i<c&&(c=i),i>d&&(d=i));let a=(-(l-s)*n+l*h-u*s)/(l-s);Math.abs(a)>Math.abs(p)&&(p=a)}let m=[s+c*(l-s),h],g=[s+d*(l-s),h],w=Math.abs(p*(c-d)*(l-s));w<i&&(a=t,i=w,n=[m,g,[g[0],g[1]-p],[m[0],m[1]-p]])}return wo(a,n,n),n}function bo(t,e){let r=mo(e,t),n=go(r),i=Math.acos(n[0]);return n[1]<0?-i:i}function yo(t){let e={inPlace:!0};t.extendMethod("invert",sr),t.extendMethod("abs",ir),t.extendMethod("level",zr,e),t.extendMethod("add",Gr,e),t.extendMethod("subtract",qr,e),t.extendMethod("subtractImage",Hr),t.extendMethod("multiply",Zr,e),t.extendMethod("divide",Kr,e),t.extendMethod("hypotenuse",Wr),t.extendMethod("background",an),t.extendMethod("flipX",ur),t.extendMethod("flipY",fr),t.extendMethod("blurFilter",cr),t.extendMethod("medianFilter",vr),t.extendMethod("gaussianFilter",br),t.extendMethod("sobelFilter",Lr),t.extendMethod("gradientFilter",Ur),t.extendMethod("scharrFilter",Fr),t.extendMethod("dilate",on),t.extendMethod("erode",fn),t.extendMethod("open",gn),t.extendMethod("close",wn),t.extendMethod("topHat",vn),t.extendMethod("blackHat",bn),t.extendMethod("morphologicalGradient",yn),t.extendMethod("warpingFourPoints",Sn),t.extendMethod("crop",Cn),t.extendMethod("cropAlpha",Dn),t.extendMethod("resize",Yn).extendMethod("scale",Yn),t.extendMethod("hsv",Nn),t.extendMethod("hsl",Xn),t.extendMethod("cmyk",Gn),t.extendMethod("rgba8",qn),t.extendMethod("grey",Zn).extendMethod("gray",Zn),t.extendMethod("mask",Mi),t.extendMethod("pad",Ei),t.extendMethod("colorDepth",Si),t.extendMethod("setBorder",Ui,e),t.extendMethod("rotate",Pi),t.extendMethod("rotateLeft",Ti),t.extendMethod("rotateRight",Bi),t.extendMethod("insert",Oi),t.extendMethod("getRow",Gi),t.extendMethod("getColumn",qi),t.extendMethod("getMatrix",Hi),t.extendMethod("setMatrix",Wi),t.extendMethod("getPixelsArray",Zi),t.extendMethod("getIntersection",Ki),t.extendMethod("getClosestCommonParent",ta),t.extendMethod("getThreshold",xi),t.extendMethod("split",Li),t.extendMethod("getChannel",Fi),t.extendMethod("combineChannels",ji),t.extendMethod("setChannel",zi),t.extendMethod("getSimilarity",Vi),t.extendMethod("getPixelsGrid",Yi),t.extendMethod("getBestMatch",Xi),t.extendMethod("cannyEdge",ha),t.extendMethod("convolution",Or),t.extendMethod("extract",la),t.extendMethod("floodFill",ca),t.extendMethod("paintLabels",Ra,e),t.extendMethod("paintMasks",Oa,e),t.extendMethod("paintPoints",Va,e),t.extendMethod("paintPolyline",Ya,e),t.extendMethod("paintPolylines",Na,e),t.extendMethod("paintPolygon",Ha,e),t.extendMethod("paintPolygons",Wa,e),t.extendMethod("countAlphaPixels",lo),t.extendMethod("monotoneChainConvexHull",po),t.extendMethod("minimalBoundingRectangle",vo),t.extendMethod("getHistogram",Za).extendProperty("histogram",Za),t.extendMethod("getHistograms",Ka).extendProperty("histograms",Ka),t.extendMethod("getColorHistogram",Qa).extendProperty("colorHistogram",Qa),t.extendMethod("getMin",to).extendProperty("min",to),t.extendMethod("getMax",eo).extendProperty("max",eo),t.extendMethod("getSum",ro).extendProperty("sum",ro),t.extendMethod("getMoment",no).extendProperty("moment",no),t.extendMethod("getLocalMaxima",io),t.extendMethod("getMedian",oo).extendProperty("median",oo),t.extendMethod("getMean",ao).extendProperty("mean",ao),t.extendMethod("getPoints",so).extendProperty("points",so),t.extendMethod("getRelativePosition",ho)}function _o(t){let e=t.data,r=[1,0,-1,0],n=[0,1,0,-1],i=t.minMax,a=-i.min,o=i.max+a,s=[];for(let l=0;l<=o;l++)s.push(Object.create(null));for(let l=0;l<t.width;l++)for(let i=0;i<t.height;i++){let o=l+i*t.width,h=e[o];if(0!==h){let o=Object.create(null),u=!1;for(let f=0;f<4;f++){let c=l+r[f],d=i+n[f];if(c>=0&&d>=0&&c<t.width&&d<t.height){let r=e[c+d*t.width];h!==r&&(u=!0,0!==r&&void 0===o[r]&&(o[r]=!0,s[r+a][h]?s[r+a][h]++:s[r+a][h]=1))}else u=!0}u&&(s[h+a][h]?s[h+a][h]++:s[h+a][h]=1)}}let h={};for(let l=0;l<s.length;l++)Object.keys(s[l]).length>0&&(h[l-a]=s[l]);return h}function xo(t={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:r=5,maxCommonBorderLength:n=100,minCommonBorderRatio:i=.3,maxCommonBorderRatio:a=1}=t;let o=function(t,e,i){return t[i]>=r&&t[i]<=n};"function"===typeof e&&(o=e),"commonborderratio"===e.toLowerCase()&&(o=function(t,e,r){let n=Math.min(t[r]/t[e],1);return n>=i&&n<=a});const s=this,h=s.commonBorderLength;let l={},u={};for(let g of Object.keys(h)){let t=h[g],e=Object.keys(t);for(let r of e)if(r!==g&&o(t,g,r)){let t=r;u[r]&&(t=u[r]);let e=g;if(u[g]&&(e=u[g]),Number(t)!==e){let r=Math.min(t,e),n=Math.max(t,e);if(l[r]||(l[r]={}),l[r][n]=!0,u[n]=r,l[n]){for(let t of Object.keys(l[n]))l[r][t]=!0,u[t]=r;delete l[n]}}}}let f=s.minMax,c=-f.min,d=f.max+c,p=new Array(d+1).fill(0);for(let g of Object.keys(u))p[Number(g)+c]=u[g];let m=s.data;for(let g=0;g<m.length;g++){let t=m[g];if(0!==t){let e=p[t+c];0!==e&&(m[g]=e)}}return s.computed={},s}class ko{constructor(t,e){this.parent=t,this.width=t.width,this.height=t.height,this.data=e,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<t&&(t=this.data[r]),this.data[r]>e&&(e=this.data[r]);return{min:t,max:e}}get commonBorderLength(){return _o(this)}mergeRoi(t={}){return xo.call(this,t)}mergeRois(t){const e=t[0],r=t.slice(1);for(let n=0;n<this.data.length;n++)r.includes(this.data[n])&&(this.data[n]=e)}rowsInfo(){let t=new Array(this.height),e=0;for(let r=0;r<this.data.length;r+=this.width){let n={row:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},a={},o=[],s=this.data[r],h=0;for(let t=r;t<r+this.width;t++){let e=this.data[t];s!==e&&(s=e,o.push(h),h=0),h++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,a[e]||(a[e]=!0)):n.zeroPixel++}o.push(h),n.medianChange=o.sort((t,e)=>t-e)[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(a),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}colsInfo(){let t=new Array(this.width),e=0;for(let r=0;r<this.width;r++){let n={col:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},a={},o=[],s=this.data[r],h=0;for(let t=r;t<r+this.data.length;t+=this.width){let e=this.data[t];s!==e&&(s=e,o.push(h),h=0),h++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,a[e]||(a[e]=!0)):n.zeroPixel++}o.push(h),n.medianChange=o.sort((t,e)=>t-e)[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(a),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}}function Mo(t,e={}){const{allowCorners:r=!1}=e,n=65535;let i=new Int16Array(t.size),a=0,o=0,s=new Uint16Array(n+1),h=new Uint16Array(n+1);for(let u=0;u<t.width;u++)for(let e=0;e<t.height;e++)0===i[e*t.width+u]&&l(u,e);function l(e,l){let u=0,f=0,c=t.getBitXY(e,l),d=c?++a:--o;if(a>32767||o<-32768)throw new Error("Too many regions of interest");s[0]=e,h[0]=l;while(u<=f){let e=s[u&n],a=h[u&n];if(i[a*t.width+e]=d,e>0&&0===i[a*t.width+e-1]&&t.getBitXY(e-1,a)===c&&(f++,s[f&n]=e-1,h[f&n]=a,i[a*t.width+e-1]=-32768),a>0&&0===i[(a-1)*t.width+e]&&t.getBitXY(e,a-1)===c&&(f++,s[f&n]=e,h[f&n]=a-1,i[(a-1)*t.width+e]=-32768),e<t.width-1&&0===i[a*t.width+e+1]&&t.getBitXY(e+1,a)===c&&(f++,s[f&n]=e+1,h[f&n]=a,i[a*t.width+e+1]=-32768),a<t.height-1&&0===i[(a+1)*t.width+e]&&t.getBitXY(e,a+1)===c&&(f++,s[f&n]=e,h[f&n]=a+1,i[(a+1)*t.width+e]=-32768),r&&(e>0&&a>0&&0===i[(a-1)*t.width+e-1]&&t.getBitXY(e-1,a-1)===c&&(f++,s[f&n]=e-1,h[f&n]=a-1,i[(a-1)*t.width+e-1]=-32768),e<t.width-1&&a>0&&0===i[(a-1)*t.width+e+1]&&t.getBitXY(e+1,a-1)===c&&(f++,s[f&n]=e+1,h[f&n]=a-1,i[(a-1)*t.width+e+1]=-32768),e>0&&a<t.height-1&&0===i[(a+1)*t.width+e-1]&&t.getBitXY(e-1,a+1)===c&&(f++,s[f&n]=e-1,h[f&n]=a+1,i[(a+1)*t.width+e-1]=-32768),e<t.width-1&&a<t.height-1&&0===i[(a+1)*t.width+e+1]&&t.getBitXY(e+1,a+1)===c&&(f++,s[f&n]=e+1,h[f&n]=a+1,i[(a+1)*t.width+e+1]=-32768)),u++,f-u>n)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new ko(t,i)}var Ao=r("c2d9"),Eo=r.n(Ao);const So=[-1,0],Co=[0,-1],Do=[null,null],Io=[-1,-1,0,1],Po=[0,-1,-1,-1],To=[null,null,null,null];function Bo(t,e={}){const{allowCorners:r=!1}=e;let n,i,a,o=4;if(r&&(o=8),8===o)n=Io,i=Po,a=To;else{if(4!==o)throw new RangeError(`unsupported neighbours count: ${o}`);n=So,i=Co,a=Do}const s=t.size,h=t.width,l=t.height,u=new Array(s),f=new Uint32Array(s),c=new Eo.a;let d=1;for(let p=0;p<l;p++)for(let e=0;e<h;e++){const r=e+p*h;if(t.getBit(r)){let t=null;for(let r=0;r<a.length;r++){const o=e+n[r],s=p+i[r];if(o>=0&&s>=0&&o<h&&s<l){const e=o+s*h;let n=u[e];n?(a[r]=n,(!t||a[r].value<t.value)&&(t=a[r])):a[r]=null}}if(t){u[r]=t;for(let e=0;e<a.length;e++)a[e]&&a[e]!==t&&c.union(t,a[e])}else u[r]=c.add(d++)}}for(let p=0;p<l;p++)for(let e=0;e<h;e++){const r=e+p*h;t.getBit(r)&&(f[r]=c.find(u[r]).value)}return new ko(t,f)}function Ro(t={}){let{allowCorner:e=!0,onlyTop:r=!1,invert:n=!1}=t,i=this;i.checkProcessable("fromMaxima",{components:[1]});const a=1,o=2;let s=0,h=0,l=new Int16Array(i.size),u=new Int8Array(i.size),f=new Float32Array(i.size),c=1048575,d=new Uint16Array(c+1),p=new Uint16Array(c+1),m=0,g=0,w=new Uint16Array(c+1),v=new Uint16Array(c+1),b=0,y=0;_(i,{maxima:!n});while(m<g){let t=d[m&c],e=p[m&c];k(t,e,o),m++}return new ko(i,l);function _({maxima:t=!0}){for(let r=1;r<i.height-1;r++)for(let n=1;n<i.width-1;n++){let o=n+r*i.width;if(0===u[o]){let u=t?i.data[o]:-i.data[n+r*i.width];if(i.data[r*i.width+n-1]>u)continue;if(i.data[r*i.width+n+1]>u)continue;if(i.data[(r-1)*i.width+n]>u)continue;if(i.data[(r+1)*i.width+n]>u)continue;if(e){if(i.data[(r-1)*i.width+n-1]>u)continue;if(i.data[(r-1)*i.width+n+1]>u)continue;if(i.data[(r+1)*i.width+n-1]>u)continue;if(i.data[(r+1)*i.width+n+1]>u)continue}l[o]=t?++s:--h;let f=x(n,r,a);f||(t?--s:++h)}}}function x(t,e){let r=g;b=0,y=1,w[0]=t,v[0]=e;let n=!0;while(b<y){let t=w[b&c],e=v[b&c];n&=k(t,e,a),b++}if(!n){for(let t=0;t<y;t++){let e=w[t&c],r=v[t&c],n=r*i.width+e;l[n]=0}g=r}return n}function k(t,e,n){let s=l[e*i.width+t],h=i.data[e*i.width+t];for(let m=e-1;m<=e+1;m++)for(let e=t-1;e<=t+1;e++){let t=m*i.width+e;if(0===u[t])switch(u[t]=1,f[t]=i.data[t]-h,n){case a:if(0===f[t]){if(0===e||0===m||e===i.width-1||m===i.height-1)return!1;l[t]=s,w[y&c]=e,v[y&c]=m,y++}else{if(f[t]>0)return!1;r||(l[t]=s,d[g&c]=e,p[g&c]=m,g++)}break;case o:f[t]<=0&&(l[t]=s,d[g&c]=e,p[g&c]=m,g++);break;default:throw new Error("unreachable")}}return!0}}var Oo=r("6b83"),Uo=r.n(Oo);const Lo=[1,0,-1,0,1,1,-1,-1],Fo=[0,1,0,-1,1,-1,1,-1];function jo(t={}){let{points:e,mask:r,image:n,fillMaxValue:i=this.maxValue,invert:a=!1}=t,o=n||this;o.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),a=!a,e||(e=o.getLocalMaxima({invert:a,mask:r}));let s=a?0:1,h=new Int16Array(o.size),l=o.width,u=o.height,f=new Uo.a({comparator:(t,e)=>t[2]-e[2],strategy:Uo.a.BinaryHeapStrategy});for(let c=0;c<e.length;c++){let t=e[c][0]+e[c][1]*l;h[t]=c+1;let r=o.data[t];(a&&r<=i||!a&&r>=i)&&f.queue([e[c][0],e[c][1],r])}while(f.length>0){let t=f.dequeue(),e=t[0]+t[1]*l;for(let n=0;n<4;n++){let c=t[0]+Lo[n],d=t[1]+Fo[n];if(c>=0&&d>=0&&c<l&&d<u){let u=c+d*l;if(!r||r.getBit(u)===s){let r=o.data[u];(a&&r<=i||!a&&r>=i)&&0===h[u]&&(h[u]=h[e],f.queue([t[0]+Lo[n],t[1]+Fo[n],r]))}}}}return new ko(o,h)}function $o(t,e={}){let r=new Fa(e),n=new Int16Array(this.size),i=0,a=r.getPoints();for(let o=0;o<t.length;o++){i++;let e=t[o][0],r=t[o][1];for(let t=0;t<a.length;t++){let o=a[t][0],s=a[t][1];e+o>=0&&r+s>=0&&e+o<this.width&&r+s<this.height&&(n[e+o+(r+s)*this.width]=i)}}return new ko(this,n)}var zo=r("705b"),Vo=r.n(zo);class Yo{constructor(t,e){this.map=t,this.id=e,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(t={}){const{scale:e=1,kind:r=""}=t;let n;switch(r){case"contour":n=this.contourMask;break;case"box":n=this.boxMask;break;case"filled":n=this.filledMask;break;case"center":n=this.centerMask;break;case"hull":n=this.hullMask;break;case"mbr":n=this.mbrMask;break;default:n=this.mask}return e<1&&(n=n.resize({factor:e}),n.parent=this.mask.parent,n.position[0]+=this.minX,n.position[1]+=this.minY),n}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let t=this.borderIDs,e=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let n=0;n<t.length;n++)r.includes(t[n])||(this.computed.externalIDs.push(t[n]),this.computed.externalLengths.push(e[n]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let t=No(this);this.computed.borderIDs=t.ids,this.computed.borderLengths=t.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=Xo(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=Wo(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=Go(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=Ho(this)),this.computed.external}get border(){return this.computed.border||(this.computed.border=qo(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||t.setBitXY(e,r));this.computed.contourMask=t}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)t.setBitXY(e,0),t.setBitXY(e,this.height-1);for(let e=0;e<this.height;e++)t.setBitXY(0,e),t.setBitXY(this.width-1,e);this.computed.boxMask=t}return this.computed.boxMask}get mask(){if(!this.computed.mask){let t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&t.setBitXY(e,r);this.computed.mask=t}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=e+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[n])&&t.setBitXY(e,r)}this.computed.filledMask=t}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let t=new Fa({kind:"smallCross"}).getMask();t.parent=this.map.parent,t.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=t}return this.computed.centerMask}get hullMask(){if(!this.computed.hullMask){const t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent}),e=this.contourMask.monotoneChainConvexHull();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==Vo()(e,[r,n])&&t.setBitXY(r,n);this.computed.hullMask=t}return this.computed.hullMask}get mbrMask(){if(!this.computed.mbrMask){const t=new ts(this.width,this.height,{kind:Ct,position:[this.minX,this.minY],parent:this.map.parent}),e=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==Vo()(e,[r,n])&&t.setBitXY(r,n);this.computed.mbrMask=t}return this.computed.mbrMask}get points(){if(!this.computed.points){let t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e+this.minY)*this.map.width+r+this.minX;this.map.data[n]===this.id&&t.push([r,e])}this.computed.points=t}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let t,e=0;const r=this.points;for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let a=Math.pow(r[n][0]-r[i][0],2)+Math.pow(r[n][1]-r[i][1],2);a>=e&&(e=a,t=[r[n],r[i]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let t=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=t}return this.computed.maxLength}get angle(){if(!this.computed.angle){let t=this.maxLengthPoints,e=180*-Math.atan2(t[0][1]-t[1][1],t[0][0]-t[1][0])/Math.PI;this.computed.angle=e}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface}}}function No(t){let e=t.map,r=e.data,n=new Set,i=new Map,a=new Set,o=[1,0,-1,0],s=[0,1,0,-1];for(let u=t.minX;u<=t.maxX;u++)for(let h=t.minY;h<=t.maxY;h++){let l=u+h*e.width;if(r[l]===t.id)for(let f=0;f<4;f++){let l=u+o[f],c=h+s[f];if(l>=0&&c>=0&&l<e.width&&c<e.height){let o=l+c*e.width;if(r[o]!==t.id&&!a.has(o)){a.add(o),n.add(r[o]);let t=i.get(r[o]);t?i.set(r[o],++t):i.set(r[o],1)}}}}let h=Array.from(n),l=h.map(function(t){return i.get(t)});return{ids:h,lengths:l}}function Xo(t){let e=new Set,r=t.map,n=r.data;for(let i of[0,t.height-1])for(let a=0;a<t.width;a++){let o=(i+t.minY)*r.width+a+t.minX;if(a-t.minX>0&&n[o]===t.id&&n[o-1]!==t.id){let t=n[o-1];e.add(t)}if(r.width-a-t.minX>1&&n[o]===t.id&&n[o+1]!==t.id){let t=n[o+1];e.add(t)}}for(let i of[0,t.width-1])for(let a=0;a<t.height;a++){let o=(a+t.minY)*r.width+i+t.minX;if(a-t.minY>0&&n[o]===t.id&&n[o-r.width]!==t.id){let t=n[o-r.width];e.add(t)}if(r.height-a-t.minY>1&&n[o]===t.id&&n[o+r.width]!==t.id){let t=n[o+r.width];e.add(t)}}return Array.from(e)}function Go(t){let e=0,r=t.map,n=r.data,i=[0];t.height>1&&(i[1]=t.height-1);for(let o of i)for(let i=1;i<t.width-1;i++){let a=(o+t.minY)*r.width+i+t.minX;n[a]===t.id&&e++}let a=[0];t.width>1&&(a[1]=t.width-1);for(let o of a)for(let i=0;i<t.height;i++){let a=(i+t.minY)*r.width+o+t.minX;n[a]===t.id&&e++}return e}function qo(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let a=1;a<t.height-1;a++){let o=(a+t.minY)*r.width+i+t.minX;n[o]===t.id&&(n[o-1]===t.id&&n[o+1]===t.id&&n[o-r.width]===t.id&&n[o+r.width]===t.id||e++)}return e+t.box}function Ho(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let a=1;a<t.height-1;a++){let o=(a+t.minY)*r.width+i+t.minX;n[o]===t.id&&(t.externalIDs.includes(n[o-1])||t.externalIDs.includes(n[o+1])||t.externalIDs.includes(n[o-r.width])||t.externalIDs.includes(n[o+r.width]))&&e++}return e+t.box}function Wo(t){let e=[t.id],r=t.map,n=r.data;if(t.height>2)for(let a=0;a<t.width;a++){let i=t.minY*r.width+a+t.minX;if(e.includes(n[i])){let a=n[i+r.width];e.includes(a)||t.boxIDs.includes(a)||e.push(a)}}let i=new Array(4);for(let a=1;a<t.width-1;a++)for(let o=1;o<t.height-1;o++){let s=(o+t.minY)*r.width+a+t.minX;if(e.includes(n[s])){i[0]=n[s-1],i[1]=n[s+1],i[2]=n[s-r.width],i[3]=n[s+r.width];for(let r=0;r<4;r++){let n=i[r];e.includes(n)||t.boxIDs.includes(n)||e.push(n)}}}return e}class Zo{constructor(t,e){this.roiMap=t,this.options=e,this.roi=this.createRoi()}createRoi(){let t=this.roiMap.data,e={};this.roiMap.positive=0,this.roiMap.negative=0;for(let o=0;o<t.length;o++)t[o]&&!e[t[o]]&&(e[t[o]]=!0,t[o]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let o in e)r[o]=new Yo(this.roiMap,1*o);let n=this.roiMap.width,i=this.roiMap.height;for(let o=0;o<i;o++)for(let e=0;e<n;e++){let i=o*n+e;if(0!==t[i]){const n=t[i],a=r[n];e<a.minX&&(a.minX=e),e>a.maxX&&(a.maxX=e),o<a.minY&&(a.minY=o),o>a.maxY&&(a.maxY=o),a.meanX+=e,a.meanY+=o,a.surface++}}let a=[];for(let o in e)r[o].meanX/=r[o].surface,r[o].meanY/=r[o].surface,a.push(r[o]);return a}}class Ko{constructor(t,e={}){this._image=t,this._options=e,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(t={}){let e=Object.assign({},this._options,t),r=Ro.call(this._image,t);this._layers[e.label]=new Zo(r,e)}fromPoints(t,e={}){let r=Object.assign({},this._options,e),n=$o.call(this._image,t,e);return this._layers[r.label]=new Zo(n,r),this}putMap(t,e={}){let r=new ko(this._image,t),n=Object.assign({},this._options,e);return this._layers[n.label]=new Zo(r,n),this}fromWaterShed(t={}){let e=Object.assign({},this._options,t),r=jo.call(this._image,t);this._layers[e.label]=new Zo(r,e)}fromMask(t,e={}){let r=Object.assign({},this._options,e),n=Mo.call(this._image,t,e);return this._layers[r.label]=new Zo(n,r),this}fromMaskConnectedComponentLabelingAlgorithm(t,e={}){let r=Object.assign({},this._options,e),n=Bo.call(this._image,t,e);return this._layers[r.label]=new Zo(n,r),this}getMap(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap}rowsInfo(t={}){return this.getMap(t).rowsInfo()}colsInfo(t={}){return this.getMap(t).rowsInfo()}getRoiIds(t={}){let e=this.getRois(t);if(e){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].id;return t}throw new Error("ROIs not found")}getRois(t={}){let{label:e=this._options.label,positive:r=!0,negative:n=!0,minSurface:i=0,maxSurface:a=Number.POSITIVE_INFINITY,minWidth:o=0,maxWidth:s=Number.POSITIVE_INFINITY,minHeight:h=0,maxHeight:l=Number.POSITIVE_INFINITY,minRatio:u=0,maxRatio:f=Number.POSITIVE_INFINITY}=t;if(!this._layers[e])throw new Error(`this Roi layer (${e}) does not exist`);const c=this._layers[e].roi,d=[];for(const p of c)(p.id<0&&n||p.id>0&&r)&&p.surface>=i&&p.surface<=a&&p.width>=o&&p.width<=s&&p.height>=h&&p.height<=l&&p.ratio>=u&&p.ratio<=f&&d.push(p);return d}getRoi(t,e={}){const{label:r=this._options.label}=e;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const n=this._layers[r].roi.find(e=>e.id===t);if(!n)throw new Error(`found no Roi with id ${t}`);return n}getMasks(t={}){let e=this.getRois(t),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n].getMask(t);return r}getData(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap.data}paint(t={}){let{labelProperty:e}=t;this._painted||(this._painted=this._image.rgba8());let r=this.getMasks(t);if(e){let r=this.getRois(t);t.labels=r.map(t=>t[e]),t.labelsPosition=r.map(t=>[t.meanX,t.meanY])}return this._painted.paintMasks(r,t),this._painted}getMask(t={}){let e=new ts(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(t);for(let n=0;n<r.length;n++){let t=r[n];for(let r=0;r<t.width;r++)for(let n=0;n<t.height;n++)t.getBitXY(r,n)&&e.setBitXY(r+t.position[0],n+t.position[1])}return e}resetPainted(t={}){const{image:e}=t;this._painted=e?this.image.rgba8():this._image.rgba8()}mergeRoi(t={}){const e=this.getMap(t);return e.mergeRoi(t),this.putMap(e.data,t),this}mergeRois(t,e={}){if(!Array.isArray(t)||t.some(t=>!Number.isInteger(t)))throw new Error("Roi ids must be an array of integers");if(t.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(t).size!==t.length)throw new Error("Roi ids must be all different");t.forEach(t=>this.getRoi(t));const r=this.getMap(e);return r.mergeRois(t),this.putMap(r.data,e),this}findCorrespondingRoi(t,e={}){let r=this.getRois(e),n=[];for(let i=0;i<r.length;i++){let e=r[i],a=e.minX,o=e.minY,s=e.points,h=Math.sign(e.id),l=Jo(a,o,s,t,h);n.push(l)}return n}_assertLayerWithLabel(t){if(!this._layers[t])throw new Error(`no layer with label ${t}`)}}function Jo(t,e,r,n,i){let a={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let o=0;o<r.length;o++){let i=r[o],s=i[0],h=i[1],l=s+t+(h+e)*n.width,u=n.data[l];(u>0||u<0)&&(a.id.includes(u)?a.surface[a.id.indexOf(u)]+=1:(a.id.push(u),a.surface.push(1)))}for(let o=0;o<a.id.length;o++){let t=Math.sign(a.id[o]);t===i?a.same+=a.surface[o]:a.opposite+=a.surface[o],a.roiSurfaceCovered[o]=a.surface[o]/r.length}return a.total=a.opposite+a.same,a}const Qo=Object.prototype.toString;class ts{constructor(t,e,r,n){if(1===arguments.length?(n=t,({width:t,height:e,data:r}=n)):r&&!r.length&&(n=r,({data:r}=n)),void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n={}),"object"!==typeof n||null===n)throw new TypeError("options must be an object");if(!Number.isInteger(t)||t<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(e)||e<=0)throw new RangeError("height must be a positive integer");const{kind:i=Tt}=n;if("string"!==typeof i)throw new TypeError("kind must be a string");const a=Ut(i),o=Object.assign({},n);for(const p in a)void 0===o[p]&&(o[p]=a[p]);Ft(o);const{components:s,bitDepth:h,colorModel:l}=o,u=o.alpha+0,f=t*e,c=s+u,d=32===h?Number.MAX_VALUE:2**h-1;if(void 0===r)r=$t(f,s,u,c,h,d);else{const t=jt(f,c,h);if(r.length!==t)throw new RangeError(`incorrect data size: ${r.length}. Should be ${t}`)}this.width=t,this.height=e,this.data=r,this.size=f,this.components=s,this.alpha=u,this.bitDepth=h,this.maxValue=d,this.colorModel=l,this.channels=c,this.meta=n.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:n.parent||null}),this.position=n.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(t){return"[object IJSImage]"===Qo.call(t)}static fromCanvas(t){const e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height);return new ts(r.width,r.height,r.data)}static createFrom(t,e){const r=er(t);return Object.assign(r,{parent:t,position:[0,0]},e),new ts(r)}getRoiManager(t){return new Ko(this,t)}clone(){const t=this.data.slice();return new ts(this.width,this.height,t,this)}apply(t){for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e*this.width+r)*this.channels;t.call(this,n)}}}tr(ts),u(ts),lt(ts),ts.prototype.checkProcessable=f,ts.prototype.getRGBAData=yt,ts.load=Ye,ts.extendMethod=dt,ts.extendProperty=pt,yo(ts);var es=r("77b0"),rs=r.n(es);const ns={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function is(t,e,r){e=Object.assign({},ns,e);const n=this.manager;return Array.isArray(t)?Promise.all(t.map(function(t){const i=as(n,t,e);return"function"===typeof r&&i.then(r),i})):as(n,t,e)}function as(t,e,r){return t.post("data",[e,r]).then(function(t){for(let e in t)t[e]=new ts(t[e]);return t})}function os(){worker.on("data",function(t,e,r){e=new IJS(e);const n={},i=[],a=e.grey(),o=a.sobelFilter();d("sobel",o);const s=o.level().mask({threshold:r.threshold});d("mask",s);const h=o.getRoiManager();h.fromMask(s);const l=h.getMask(r.roi);d("realMask",l);const u=a.getPixelsGrid({sampling:r.sampling,mask:l}),f=e.getBackground(u.xyS,u.zS,r.regression);d("background",f);const c=e.subtract(f);function d(t,e){r.include.includes(t)&&(n[t]=e,i.push(e.data.buffer))}n.result=c,i.push(c.data.buffer),t(n,i)})}const ss={run:is,work:os};var hs=ss;function ls(t){t.extendMethod("background",hs)}class us{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(t){if("string"!==typeof t)throw new TypeError("worker URL must be a string");this._url=t,this._deps[0]=t}static extendMethod(t,e){let r,n,i={};function a(...t){return r||(this.checkUrl(),n=this.url,r=new rs.a(e.work,{deps:n}),i.manager=r),e.run.call(i,...t)}a.reset=function(){r&&(r.terminate(),r=new rs.a(e.work,{deps:n}),i.manager=r)},us.prototype[t]=a}}ls(us);new us;r.d(e,"a",function(){return ts})},9152:function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,h=(1<<s)-1,l=h>>1,u=-7,f=r?i-1:0,c=r?-1:1,d=t[e+f];for(f+=c,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+t[e+f],f+=c,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+t[e+f],f+=c,u-=8);if(0===a)a=1-l;else{if(a===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,h,l=8*a-i-1,u=(1<<l)-1,f=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),e+=o+f>=1?c/h:c*Math.pow(2,1-f),e*h>=2&&(o++,h/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(e*h-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*m}},9177:function(t,e,r){"use strict";(function(e){const n=r("f1dd"),i=8192,a=[];class o{constructor(t,e){e=e||{};var r=!1;void 0===t&&(t=i),"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this._lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0;let a=t.byteLength-n,o=n;t.buffer&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),this._lastWrittenByte=r?a:0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t){return void 0===t&&(t=1),this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t){return void 0===t&&(t=1),this.offset+=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t){if(void 0===t&&(t=1),!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t){void 0===t&&(t=1),a.length=t;for(var e=0;e<t;e++)a[e]=this.readChar();return a.join("")}readUtf8(t){void 0===t&&(t=1);const e=this.readChars(t);return n.decode(e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){const e=n.encode(t);return this.writeChars(e)}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)}getBuffer(){return"undefined"!==typeof e?e.from(this.toArray()):this.toArray()}_updateLastWrittenByte(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}t.exports=o}).call(this,r("b639").Buffer)},"92ba":function(t,e,r){"use strict";var n=r("c01c"),i=r("a026"),a=r("0dd1"),o=r("e100"),s=5,h=11102230246251565e-32,l=(3+16*h)*h,u=(7+56*h)*h;function f(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var i=r[n-1]=new Array(t.length-1),a=0,o=0;a<t.length;++a)a!==e&&(i[o++]=t[n][a]);return r}function c(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}function d(t){return 1&t?"-":""}function p(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",p(t.slice(0,e)),",",p(t.slice(e)),")"].join("")}function m(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",p(m(f(t,r))),",",d(r),t[0][r],")"].join(""));return e}function g(t){for(var e=[],r=[],s=c(t),h=[],l=0;l<t;++l)0===(1&l)?e.push.apply(e,m(f(s,l))):r.push.apply(r,m(f(s,l))),h.push("m"+l);var u=p(e),d=p(r),g="orientation"+t+"Exact",w=["function ",g,"(",h.join(),"){var p=",u,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join(""),v=new Function("sum","prod","scale","sub",w);return v(i,n,a,o)}var w=g(3),v=g(4),b=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),a=(t[0]-r[0])*(e[1]-r[1]),o=i-a;if(i>0){if(a<=0)return o;n=i+a}else{if(!(i<0))return o;if(a>=0)return o;n=-(i+a)}var s=l*n;return o>=s||o<=-s?o:w(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],a=e[0]-n[0],o=r[0]-n[0],s=t[1]-n[1],h=e[1]-n[1],l=r[1]-n[1],f=t[2]-n[2],c=e[2]-n[2],d=r[2]-n[2],p=a*l,m=o*h,g=o*s,w=i*l,b=i*h,y=a*s,_=f*(p-m)+c*(g-w)+d*(b-y),x=(Math.abs(p)+Math.abs(m))*Math.abs(f)+(Math.abs(g)+Math.abs(w))*Math.abs(c)+(Math.abs(b)+Math.abs(y))*Math.abs(d),k=u*x;return _>k||-_>k?_:v(t,e,r,n)}];function y(t){var e=b[t.length];return e||(e=b[t.length]=g(t.length)),e.apply(void 0,t)}function _(){while(b.length<=s)b.push(g(b.length));for(var e=[],r=["slow"],n=0;n<=s;++n)e.push("a"+n),r.push("o"+n);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=s;++n)i.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(i.join(""));var a=Function.apply(void 0,r);t.exports=a.apply(void 0,[y].concat(b));for(n=0;n<=s;++n)t.exports[n]=b[n]}_()},"9b43":function(t,e,r){var n=r("d8e8");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,r){var n=r("2b4c")("unscopables"),i=Array.prototype;void 0==i[n]&&r("32e9")(i,n,{}),t.exports=function(t){i[n][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9d60":function(t,e,r){"use strict";const n={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},"9def":function(t,e,r){var n=r("4588"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},"9e1e":function(t,e,r){t.exports=!r("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e6e":function(t,e,r){"use strict";var n=r("be7f"),i=r("c834"),a=r("eeda"),o=r("7eb1"),s=r("6853"),h=0,l=1,u=2,f=4,c=5,d=6,p=0,m=1,g=2,w=-2,v=-3,b=-4,y=-5,_=8,x=1,k=2,M=3,A=4,E=5,S=6,C=7,D=8,I=9,P=10,T=11,B=12,R=13,O=14,U=15,L=16,F=17,j=18,$=19,z=20,V=21,Y=22,N=23,X=24,G=25,q=26,H=27,W=28,Z=29,K=30,J=31,Q=32,tt=852,et=592,rt=15,nt=rt;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function at(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,p):w}function st(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,ot(t)):w}function ht(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?w:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,st(t))):w}function lt(t,e){var r,n;return t?(n=new at,t.state=n,n.window=null,r=ht(t,e),r!==p&&(t.state=null),r):w}function ut(t){return lt(t,nt)}var ft,ct,dt=!0;function pt(t){if(dt){var e;ft=new n.Buf32(512),ct=new n.Buf32(32),e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;s(l,t.lens,0,288,ft,0,t.work,{bits:9}),e=0;while(e<32)t.lens[e++]=5;s(u,t.lens,0,32,ct,0,t.work,{bits:5}),dt=!1}t.lencode=ft,t.lenbits=9,t.distcode=ct,t.distbits=5}function mt(t,e,r,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),n.arraySet(o.window,e,r-i,a,o.wnext),i-=a,i?(n.arraySet(o.window,e,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function gt(t,e){var r,tt,et,rt,nt,at,ot,st,ht,lt,ut,ft,ct,dt,gt,wt,vt,bt,yt,_t,xt,kt,Mt,At,Et=0,St=new n.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;r=t.state,r.mode===B&&(r.mode=R),nt=t.next_out,et=t.output,ot=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,st=r.hold,ht=r.bits,lt=at,ut=ot,kt=p;t:for(;;)switch(r.mode){case x:if(0===r.wrap){r.mode=R;break}while(ht<16){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(2&r.wrap&&35615===st){r.check=0,St[0]=255&st,St[1]=st>>>8&255,r.check=a(r.check,St,2,0),st=0,ht=0,r.mode=k;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",r.mode=K;break}if((15&st)!==_){t.msg="unknown compression method",r.mode=K;break}if(st>>>=4,ht-=4,xt=8+(15&st),0===r.wbits)r.wbits=xt;else if(xt>r.wbits){t.msg="invalid window size",r.mode=K;break}r.dmax=1<<xt,t.adler=r.check=1,r.mode=512&st?P:B,st=0,ht=0;break;case k:while(ht<16){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(r.flags=st,(255&r.flags)!==_){t.msg="unknown compression method",r.mode=K;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=K;break}r.head&&(r.head.text=st>>8&1),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=a(r.check,St,2,0)),st=0,ht=0,r.mode=M;case M:while(ht<32){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.head&&(r.head.time=st),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,St[2]=st>>>16&255,St[3]=st>>>24&255,r.check=a(r.check,St,4,0)),st=0,ht=0,r.mode=A;case A:while(ht<16){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.head&&(r.head.xflags=255&st,r.head.os=st>>8),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=a(r.check,St,2,0)),st=0,ht=0,r.mode=E;case E:if(1024&r.flags){while(ht<16){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.length=st,r.head&&(r.head.extra_len=st),512&r.flags&&(St[0]=255&st,St[1]=st>>>8&255,r.check=a(r.check,St,2,0)),st=0,ht=0}else r.head&&(r.head.extra=null);r.mode=S;case S:if(1024&r.flags&&(ft=r.length,ft>at&&(ft=at),ft&&(r.head&&(xt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,tt,rt,ft,xt)),512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,r.length-=ft),r.length))break t;r.length=0,r.mode=C;case C:if(2048&r.flags){if(0===at)break t;ft=0;do{xt=tt[rt+ft++],r.head&&xt&&r.length<65536&&(r.head.name+=String.fromCharCode(xt))}while(xt&&ft<at);if(512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,xt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=D;case D:if(4096&r.flags){if(0===at)break t;ft=0;do{xt=tt[rt+ft++],r.head&&xt&&r.length<65536&&(r.head.comment+=String.fromCharCode(xt))}while(xt&&ft<at);if(512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,xt)break t}else r.head&&(r.head.comment=null);r.mode=I;case I:if(512&r.flags){while(ht<16){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(st!==(65535&r.check)){t.msg="header crc mismatch",r.mode=K;break}st=0,ht=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=B;break;case P:while(ht<32){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}t.adler=r.check=it(st),st=0,ht=0,r.mode=T;case T:if(0===r.havedict)return t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ht,g;t.adler=r.check=1,r.mode=B;case B:if(e===c||e===d)break t;case R:if(r.last){st>>>=7&ht,ht-=7&ht,r.mode=H;break}while(ht<3){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}switch(r.last=1&st,st>>>=1,ht-=1,3&st){case 0:r.mode=O;break;case 1:if(pt(r),r.mode=z,e===d){st>>>=2,ht-=2;break t}break;case 2:r.mode=F;break;case 3:t.msg="invalid block type",r.mode=K}st>>>=2,ht-=2;break;case O:st>>>=7&ht,ht-=7&ht;while(ht<32){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if((65535&st)!==(st>>>16^65535)){t.msg="invalid stored block lengths",r.mode=K;break}if(r.length=65535&st,st=0,ht=0,r.mode=U,e===d)break t;case U:r.mode=L;case L:if(ft=r.length,ft){if(ft>at&&(ft=at),ft>ot&&(ft=ot),0===ft)break t;n.arraySet(et,tt,rt,ft,nt),at-=ft,rt+=ft,ot-=ft,nt+=ft,r.length-=ft;break}r.mode=B;break;case F:while(ht<14){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(r.nlen=257+(31&st),st>>>=5,ht-=5,r.ndist=1+(31&st),st>>>=5,ht-=5,r.ncode=4+(15&st),st>>>=4,ht-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=K;break}r.have=0,r.mode=j;case j:while(r.have<r.ncode){while(ht<3){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.lens[Ct[r.have++]]=7&st,st>>>=3,ht-=3}while(r.have<19)r.lens[Ct[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Mt={bits:r.lenbits},kt=s(h,r.lens,0,19,r.lencode,0,r.work,Mt),r.lenbits=Mt.bits,kt){t.msg="invalid code lengths set",r.mode=K;break}r.have=0,r.mode=$;case $:while(r.have<r.nlen+r.ndist){for(;;){if(Et=r.lencode[st&(1<<r.lenbits)-1],gt=Et>>>24,wt=Et>>>16&255,vt=65535&Et,gt<=ht)break;if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(vt<16)st>>>=gt,ht-=gt,r.lens[r.have++]=vt;else{if(16===vt){At=gt+2;while(ht<At){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(st>>>=gt,ht-=gt,0===r.have){t.msg="invalid bit length repeat",r.mode=K;break}xt=r.lens[r.have-1],ft=3+(3&st),st>>>=2,ht-=2}else if(17===vt){At=gt+3;while(ht<At){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}st>>>=gt,ht-=gt,xt=0,ft=3+(7&st),st>>>=3,ht-=3}else{At=gt+7;while(ht<At){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}st>>>=gt,ht-=gt,xt=0,ft=11+(127&st),st>>>=7,ht-=7}if(r.have+ft>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=K;break}while(ft--)r.lens[r.have++]=xt}}if(r.mode===K)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=K;break}if(r.lenbits=9,Mt={bits:r.lenbits},kt=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,Mt),r.lenbits=Mt.bits,kt){t.msg="invalid literal/lengths set",r.mode=K;break}if(r.distbits=6,r.distcode=r.distdyn,Mt={bits:r.distbits},kt=s(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Mt),r.distbits=Mt.bits,kt){t.msg="invalid distances set",r.mode=K;break}if(r.mode=z,e===d)break t;case z:r.mode=V;case V:if(at>=6&&ot>=258){t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ht,o(t,ut),nt=t.next_out,et=t.output,ot=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,st=r.hold,ht=r.bits,r.mode===B&&(r.back=-1);break}for(r.back=0;;){if(Et=r.lencode[st&(1<<r.lenbits)-1],gt=Et>>>24,wt=Et>>>16&255,vt=65535&Et,gt<=ht)break;if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(wt&&0===(240&wt)){for(bt=gt,yt=wt,_t=vt;;){if(Et=r.lencode[_t+((st&(1<<bt+yt)-1)>>bt)],gt=Et>>>24,wt=Et>>>16&255,vt=65535&Et,bt+gt<=ht)break;if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}st>>>=bt,ht-=bt,r.back+=bt}if(st>>>=gt,ht-=gt,r.back+=gt,r.length=vt,0===wt){r.mode=q;break}if(32&wt){r.back=-1,r.mode=B;break}if(64&wt){t.msg="invalid literal/length code",r.mode=K;break}r.extra=15&wt,r.mode=Y;case Y:if(r.extra){At=r.extra;while(ht<At){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.length+=st&(1<<r.extra)-1,st>>>=r.extra,ht-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=N;case N:for(;;){if(Et=r.distcode[st&(1<<r.distbits)-1],gt=Et>>>24,wt=Et>>>16&255,vt=65535&Et,gt<=ht)break;if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(0===(240&wt)){for(bt=gt,yt=wt,_t=vt;;){if(Et=r.distcode[_t+((st&(1<<bt+yt)-1)>>bt)],gt=Et>>>24,wt=Et>>>16&255,vt=65535&Et,bt+gt<=ht)break;if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}st>>>=bt,ht-=bt,r.back+=bt}if(st>>>=gt,ht-=gt,r.back+=gt,64&wt){t.msg="invalid distance code",r.mode=K;break}r.offset=vt,r.extra=15&wt,r.mode=X;case X:if(r.extra){At=r.extra;while(ht<At){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}r.offset+=st&(1<<r.extra)-1,st>>>=r.extra,ht-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=K;break}r.mode=G;case G:if(0===ot)break t;if(ft=ut-ot,r.offset>ft){if(ft=r.offset-ft,ft>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=K;break}ft>r.wnext?(ft-=r.wnext,ct=r.wsize-ft):ct=r.wnext-ft,ft>r.length&&(ft=r.length),dt=r.window}else dt=et,ct=nt-r.offset,ft=r.length;ft>ot&&(ft=ot),ot-=ft,r.length-=ft;do{et[nt++]=dt[ct++]}while(--ft);0===r.length&&(r.mode=V);break;case q:if(0===ot)break t;et[nt++]=r.length,ot--,r.mode=V;break;case H:if(r.wrap){while(ht<32){if(0===at)break t;at--,st|=tt[rt++]<<ht,ht+=8}if(ut-=ot,t.total_out+=ut,r.total+=ut,ut&&(t.adler=r.check=r.flags?a(r.check,et,ut,nt-ut):i(r.check,et,ut,nt-ut)),ut=ot,(r.flags?st:it(st))!==r.check){t.msg="incorrect data check",r.mode=K;break}st=0,ht=0}r.mode=W;case W:if(r.wrap&&r.flags){while(ht<32){if(0===at)break t;at--,st+=tt[rt++]<<ht,ht+=8}if(st!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=K;break}st=0,ht=0}r.mode=Z;case Z:kt=m;break t;case K:kt=v;break t;case J:return b;case Q:default:return w}return t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ht,(r.wsize||ut!==t.avail_out&&r.mode<K&&(r.mode<H||e!==f))&&mt(t,t.output,t.next_out,ut-t.avail_out)?(r.mode=J,b):(lt-=t.avail_in,ut-=t.avail_out,t.total_in+=lt,t.total_out+=ut,r.total+=ut,r.wrap&&ut&&(t.adler=r.check=r.flags?a(r.check,et,ut,t.next_out-ut):i(r.check,et,ut,t.next_out-ut)),t.data_type=r.bits+(r.last?64:0)+(r.mode===B?128:0)+(r.mode===z||r.mode===U?256:0),(0===lt&&0===ut||e===f)&&kt===p&&(kt=y),kt)}function wt(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,p}function vt(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?w:(r.head=e,e.done=!1,p)):w}function bt(t,e){var r,n,a,o=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==T?w:r.mode===T&&(n=1,n=i(n,e,o,0),n!==r.check)?v:(a=mt(t,e,o,o),a?(r.mode=J,b):(r.havedict=1,p))):w}e.inflateReset=st,e.inflateReset2=ht,e.inflateResetKeep=ot,e.inflateInit=ut,e.inflateInit2=lt,e.inflate=gt,e.inflateEnd=wt,e.inflateGetHeader=vt,e.inflateSetDictionary=bt,e.inflateInfo="pako inflate (from Nodeca project)"},a026:function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,i=r-n,a=e-n,o=t-i,s=o+a;return s?[s,r]:[r]}function i(t,e){var r=0|t.length,i=0|e.length;if(1===r&&1===i)return n(t[0],e[0]);var a,o,s=r+i,h=new Array(s),l=0,u=0,f=0,c=Math.abs,d=t[u],p=c(d),m=e[f],g=c(m);p<g?(o=d,u+=1,u<r&&(d=t[u],p=c(d))):(o=m,f+=1,f<i&&(m=e[f],g=c(m))),u<r&&p<g||f>=i?(a=d,u+=1,u<r&&(d=t[u],p=c(d))):(a=m,f+=1,f<i&&(m=e[f],g=c(m)));var w,v,b,y,_,x=a+o,k=x-a,M=o-k,A=M,E=x;while(u<r&&f<i)p<g?(a=d,u+=1,u<r&&(d=t[u],p=c(d))):(a=m,f+=1,f<i&&(m=e[f],g=c(m))),o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w;while(u<r)a=d,o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w,u+=1,u<r&&(d=t[u]);while(f<i)a=m,o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w,f+=1,f<i&&(m=e[f]);return A&&(h[l++]=A),E&&(h[l++]=E),l||(h[l++]=0),h.length=l,h}t.exports=i},a177:function(t,e,r){"use strict";var n,i=r("be7f"),a=r("07f4"),o=r("c834"),s=r("eeda"),h=r("4dc6"),l=0,u=1,f=3,c=4,d=5,p=0,m=1,g=-2,w=-3,v=-5,b=-1,y=1,_=2,x=3,k=4,M=0,A=2,E=8,S=9,C=15,D=8,I=29,P=256,T=P+1+I,B=30,R=19,O=2*T+1,U=15,L=3,F=258,j=F+L+1,$=32,z=42,V=69,Y=73,N=91,X=103,G=113,q=666,H=1,W=2,Z=3,K=4,J=3;function Q(t,e){return t.msg=h[e],e}function tt(t){return(t<<1)-(t>4?9:0)}function et(t){var e=t.length;while(--e>=0)t[e]=0}function rt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function nt(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,rt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function at(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function ot(t,e,r,n){var a=t.avail_in;return a>n&&(a=n),0===a?0:(t.avail_in-=a,i.arraySet(e,t.input,t.next_in,a,r),1===t.state.wrap?t.adler=o(t.adler,e,a,r):2===t.state.wrap&&(t.adler=s(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)}function st(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,h=t.strstart>t.w_size-j?t.strstart-(t.w_size-j):0,l=t.window,u=t.w_mask,f=t.prev,c=t.strstart+F,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,l[r+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<c);if(n=F-(c-a),a=c-F,n>o){if(t.match_start=e,o=n,n>=s)break;d=l[a+o-1],p=l[a+o]}}}while((e=f[e&u])>h&&0!==--i);return o<=t.lookahead?o:t.lookahead}function ht(t){var e,r,n,a,o,s=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-j)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--r);r=s,e=r;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--r);a+=s}if(0===t.strm.avail_in)break;if(r=ot(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=r,t.lookahead+t.insert>=L){o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;while(t.insert)if(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+L-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,t.lookahead+t.insert<L)break}}while(t.lookahead<j&&0!==t.strm.avail_in)}function lt(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ht(t),0===t.lookahead&&e===l)return H;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,nt(t,!1),0===t.strm.avail_out))return H;if(t.strstart-t.block_start>=t.w_size-j&&(nt(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===c?(nt(t,!0),0===t.strm.avail_out?Z:K):(t.strstart>t.block_start&&(nt(t,!1),t.strm.avail_out),H)}function ut(t,e){for(var r,n;;){if(t.lookahead<j){if(ht(t),t.lookahead<j&&e===l)return H;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-j&&(t.match_length=st(t,r)),t.match_length>=L)if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(nt(t,!1),0===t.strm.avail_out))return H}return t.insert=t.strstart<L-1?t.strstart:L-1,e===c?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?H:W}function ft(t,e){for(var r,n,i;;){if(t.lookahead<j){if(ht(t),t.lookahead<j&&e===l)return H;if(0===t.lookahead)break}if(r=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-j&&(t.match_length=st(t,r),t.match_length<=5&&(t.strategy===y||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-L,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,n&&(nt(t,!1),0===t.strm.avail_out))return H}else if(t.match_available){if(n=a._tr_tally(t,0,t.window[t.strstart-1]),n&&nt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return H}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,e===c?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?H:W}function ct(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=F){if(ht(t),t.lookahead<=F&&e===l)return H;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+F;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=F-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(r=a._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(nt(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===c?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?H:W}function dt(t,e){for(var r;;){if(0===t.lookahead&&(ht(t),0===t.lookahead)){if(e===l)return H;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(nt(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===c?(nt(t,!0),0===t.strm.avail_out?Z:K):t.last_lit&&(nt(t,!1),0===t.strm.avail_out)?H:W}function pt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function mt(t){t.window_size=2*t.w_size,et(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=L-1,t.match_available=0,t.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*O),this.dyn_dtree=new i.Buf16(2*(2*B+1)),this.bl_tree=new i.Buf16(2*(2*R+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(U+1),this.heap=new i.Buf16(2*T+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*T+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?z:G,t.adler=2===e.wrap?0:1,e.last_flush=l,a._tr_init(e),p):Q(t,g)}function vt(t){var e=wt(t);return e===p&&mt(t.state),e}function bt(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g}function yt(t,e,r,n,a,o){if(!t)return g;var s=1;if(e===b&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>S||r!==E||n<8||n>15||e<0||e>9||o<0||o>k)return Q(t,g);8===n&&(n=9);var h=new gt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+L-1)/L),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=o,h.method=r,vt(t)}function _t(t,e){return yt(t,e,E,C,D,M)}function xt(t,e){var r,i,o,h;if(!t||!t.state||e>d||e<0)return t?Q(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===q&&e!==c)return Q(t,0===t.avail_out?v:g);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===z)if(2===i.wrap)t.adler=0,it(i,31),it(i,139),it(i,8),i.gzhead?(it(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),it(i,255&i.gzhead.time),it(i,i.gzhead.time>>8&255),it(i,i.gzhead.time>>16&255),it(i,i.gzhead.time>>24&255),it(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),it(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(it(i,255&i.gzhead.extra.length),it(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=V):(it(i,0),it(i,0),it(i,0),it(i,0),it(i,0),it(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),it(i,J),i.status=G);else{var w=E+(i.w_bits-8<<4)<<8,b=-1;b=i.strategy>=_||i.level<2?0:i.level<6?1:6===i.level?2:3,w|=b<<6,0!==i.strstart&&(w|=$),w+=31-w%31,i.status=G,at(i,w),0!==i.strstart&&(at(i,t.adler>>>16),at(i,65535&t.adler)),t.adler=1}if(i.status===V)if(i.gzhead.extra){o=i.pending;while(i.gzindex<(65535&i.gzhead.extra.length)){if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),rt(t),o=i.pending,i.pending===i.pending_buf_size))break;it(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++}i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Y)}else i.status=Y;if(i.status===Y)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),rt(t),o=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,it(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===h&&(i.gzindex=0,i.status=N)}else i.status=N;if(i.status===N)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),rt(t),o=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,it(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===h&&(i.status=X)}else i.status=X;if(i.status===X&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&rt(t),i.pending+2<=i.pending_buf_size&&(it(i,255&t.adler),it(i,t.adler>>8&255),t.adler=0,i.status=G)):i.status=G),0!==i.pending){if(rt(t),0===t.avail_out)return i.last_flush=-1,p}else if(0===t.avail_in&&tt(e)<=tt(r)&&e!==c)return Q(t,v);if(i.status===q&&0!==t.avail_in)return Q(t,v);if(0!==t.avail_in||0!==i.lookahead||e!==l&&i.status!==q){var y=i.strategy===_?dt(i,e):i.strategy===x?ct(i,e):n[i.level].func(i,e);if(y!==Z&&y!==K||(i.status=q),y===H||y===Z)return 0===t.avail_out&&(i.last_flush=-1),p;if(y===W&&(e===u?a._tr_align(i):e!==d&&(a._tr_stored_block(i,0,0,!1),e===f&&(et(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),rt(t),0===t.avail_out))return i.last_flush=-1,p}return e!==c?p:i.wrap<=0?m:(2===i.wrap?(it(i,255&t.adler),it(i,t.adler>>8&255),it(i,t.adler>>16&255),it(i,t.adler>>24&255),it(i,255&t.total_in),it(i,t.total_in>>8&255),it(i,t.total_in>>16&255),it(i,t.total_in>>24&255)):(at(i,t.adler>>>16),at(i,65535&t.adler)),rt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)}function kt(t){var e;return t&&t.state?(e=t.state.status,e!==z&&e!==V&&e!==Y&&e!==N&&e!==X&&e!==G&&e!==q?Q(t,g):(t.state=null,e===G?Q(t,w):p)):g}function Mt(t,e){var r,n,a,s,h,l,u,f,c=e.length;if(!t||!t.state)return g;if(r=t.state,s=r.wrap,2===s||1===s&&r.status!==z||r.lookahead)return g;1===s&&(t.adler=o(t.adler,e,c,0)),r.wrap=0,c>=r.w_size&&(0===s&&(et(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,e,c-r.w_size,r.w_size,0),e=f,c=r.w_size),h=t.avail_in,l=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,ht(r);while(r.lookahead>=L){n=r.strstart,a=r.lookahead-(L-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+L-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=L-1,ht(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=L-1,r.match_available=0,t.next_in=l,t.input=u,t.avail_in=h,r.wrap=s,p}n=[new pt(0,0,0,0,lt),new pt(4,4,8,4,ut),new pt(4,5,16,8,ut),new pt(4,6,32,32,ut),new pt(4,4,16,16,ft),new pt(8,16,32,32,ft),new pt(8,16,128,128,ft),new pt(8,32,128,256,ft),new pt(32,128,258,1024,ft),new pt(32,258,258,4096,ft)],e.deflateInit=_t,e.deflateInit2=yt,e.deflateReset=vt,e.deflateResetKeep=wt,e.deflateSetHeader=bt,e.deflate=xt,e.deflateEnd=kt,e.deflateSetDictionary=Mt,e.deflateInfo="pako deflate (from Nodeca project)"},a1d9:function(t,e,r){"use strict";var n=r("bf31");t.exports=Number.isFinite||function(t){return!("number"!==typeof t||n(t)||t===1/0||t===-1/0)}},a25f:function(t,e,r){var n=r("7726"),i=n.navigator;t.exports=i&&i.userAgent||""},a292:function(t,e,r){"use strict";const n=r("af59"),i=r("c7a8"),a=r("a596"),o=r("7de9"),s={ignoreImageData:!1,onlyFirst:!1};class h extends n{constructor(t,e){super(t,e),this._nextIFD=0}decode(t){t=Object.assign({},s,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}decodeHeader(){let t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(t=this.readUint16(),42!==t)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t){var e;this.seek(this._nextIFD),e=t.kind?new i(t.kind):new a;const r=this.readUint16();for(var n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const a=o.getByteLength(n,i);a>4&&this.seek(this.readUint32());const s=o.readData(this,n,i);if(t.fields.set(r,s),34665===r||34853===r){let e,n=this.offset;34665===r?e="exif":34853===r&&(e="gps"),this._nextIFD=s,t[e]=this.decodeIFD({kind:e,ignoreImageData:!0}),this.offset=n}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;switch(e&&1!==e&&d("orientation",e),t.type){case 1:case 2:this.readStripData(t);break;default:d("image type",t.type);break}}readStripData(t){const e=t.width,r=t.height,n=p(t.bitsPerSample),i=t.sampleFormat;let a=e*r;const o=l(a,1,n,i),s=t.compression,h=t.rowsPerStrip,m=h*e,g=t.stripOffsets,w=t.stripByteCounts;for(var v=0,b=0;b<g.length;b++){var y=this.getStripData(s,g[b],w[b]),_=a>m?m:a;a-=_,8===n?v=u(o,y,v,_):16===n?v=f(o,y,v,_,this.isLittleEndian()):32===n&&3===i?v=c(o,y,v,_,this.isLittleEndian()):d("bitDepth",n)}t.data=o}getStripData(t,e,r){switch(t){case 1:return new DataView(this.buffer,e,r);case 2:case 32773:return d("Compression",t);default:throw new Error("invalid compression: "+t)}}}function l(t,e,r,n){return 8===r?new Uint8Array(t*e):16===r?new Uint16Array(t*e):32===r&&3===n?new Float32Array(t*e):d("bit depth / sample format",r+" / "+n)}function u(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function f(t,e,r,n,i){for(var a=0;a<2*n;a+=2)t[r++]=e.getUint16(a,i);return r}function c(t,e,r,n,i){for(var a=0;a<4*n;a+=4)t[r++]=e.getFloat32(a,i);return r}function d(t,e){throw new Error("Unsupported "+t+": "+e)}function p(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)r[e]!==t&&d("bit depth",r)}return t}t.exports=h},a596:function(t,e,r){"use strict";const n=r("c7a8"),i=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class a extends n{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var t=new Date,e=i.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return o(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return o(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}}function o(t){return"number"===typeof t?[t]:t}t.exports=a},a5b8:function(t,e,r){"use strict";var n=r("d8e8");function i(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new i(t)}},aae2:function(t,e,r){"use strict";const n=r("374c").squared,i={constant:1};class a{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){return Math.sqrt(n(t,e)+this.constant*this.constant)}}t.exports=a},abc2:function(t,e,r){(function(){function e(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(t){this._tail=new e(t,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var t=this._tail;return this._tail=t.prev,t.prev&&(t.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),t.data}},unshift:function(t){this._head=new e(t,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var t=this._head;return this._head=t.next,t.next&&(t.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),t.data}},item:function(t){t<0&&(t=this.length+t);var e=this._head;while(t-- >0&&e)e=e.next;return e?e.data:void 0},slice:function(t,e){if(t||(t=0),e||(e=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e===t)return[];if(e<t)throw new Error("invalid offset: "+t+","+e+" (length="+this.length+")");var r=e-t,n=new Array(r),i=0,a=this._head;while(t-- >0&&a)a=a.next;while(i<r&&a)n[i++]=a.data,a=a.next;return n},drop:function(){r.call(this)},forEach:function(t,e){var r=this._head,n=0,i=this.length;while(n<i&&r)t.call(e||this,r.data,n,this),r=r.next,n++},map:function(t,e){var n=new r;return this.forEach(function(r,i,a){n.push(t.call(e||a,r,i,a))}),n},filter:function(t,e){var n=new r;return this.forEach(function(r,i,a){t.call(e||a,r,i,a)&&n.push(r)}),n},reduce:function(t,e,r){var n=0,i=this._head,a=this.length;e||(n=1,e=i&&i.data,i=i&&i.next);while(n<a&&i)e=t.call(r||this,e,i.data,this),n++,i=i.next;return e}},t.exports=r})()},af59:function(t,e,r){"use strict";const n=8192,i=[];class a{constructor(t,e){e=e||{},void 0===t&&(t=n),"number"===typeof t&&(t=new ArrayBuffer(t));let r=t.byteLength;const i=e.offset?e.offset>>>0:0;t.buffer&&(r=t.byteLength-i,t=t.byteLength!==t.buffer.byteLength?t.buffer.slice(t.byteOffset+i,t.byteOffset+t.byteLength):i?t.buffer.slice(i):t.buffer),this.buffer=t,this.length=r,this.byteLength=r,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=r||n,this._mark=0}available(t){return void 0===t&&(t=1),this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(t){void 0===t&&(t=1),this.offset+=t}seek(t){this.offset=t}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(t){if(void 0===t&&(t=1),!this.available(t)){const t=this._increment+this._increment;this._increment=t;const e=this.length+t,r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=e,this._data=new DataView(this.buffer)}}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t){void 0===t&&(t=1),i.length=t;for(var e=0;e<t;e++)i[e]=this.readChar();return i.join("")}writeBoolean(t){this.writeUint8(t?255:0)}writeInt8(t){this.ensureAvailable(1),this._data.setInt8(this.offset++,t)}writeUint8(t){this.ensureAvailable(1),this._data.setUint8(this.offset++,t)}writeByte(t){this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e])}writeInt16(t){this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2}writeUint16(t){this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2}writeInt32(t){this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4}writeUint32(t){this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat32(t){this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat64(t){this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8}writeChar(t){this.writeUint8(t.charCodeAt(0))}writeChars(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}}t.exports=a},b19b:function(t,e,r){"use strict";const n={sigma:1,degree:1};class i{constructor(t){t=Object.assign({},n,t),this.sigma=t.sigma,this.degree=t.degree}compute(t,e){for(var r=0,n=Math.min(t.length,e.length),i=1;i<=n;++i)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[i-1],i)-Math.pow(e[i-1],i),2)),this.degree);return r}}t.exports=i},b245:function(t,e,r){"use strict";const n={degree:1,constant:1,scale:1};class i{constructor(t){t=Object.assign({},n,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.pow(this.scale*r+this.constant,this.degree)}}t.exports=i},b2d2:function(t,e,r){(function(e){function r(t){Math.round;var r,n,i,a,o,s=Math.floor,h=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),c=new Array(65535),d=new Array(65535),p=new Array(64),m=new Array(64),g=[],w=0,v=7,b=new Array(64),y=new Array(64),_=new Array(64),x=new Array(256),k=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),h[M[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var o=s((i[a]*t+50)/100);o<1?o=1:o>255&&(o=255),l[M[a]]=o}for(var c=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[d]=1/(h[M[d]]*c[p]*c[m]*8),f[d]=1/(l[M[d]]*c[p]*c[m]*8),d++}function R(t,e){for(var r=0,n=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=t[a];o++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=a,n++,r++;r*=2}return i}function O(){r=R(A,E),n=R(D,I),i=R(S,C),a=R(P,T)}function U(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)d[32767+n]=r,c[32767+n]=[],c[32767+n][1]=r,c[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)d[32767+i]=r,c[32767+i]=[],c[32767+i][1]=r,c[32767+i][0]=e-1+i;t<<=1,e<<=1}}function L(){for(var t=0;t<256;t++)k[t]=19595*t,k[t+256>>0]=38470*t,k[t+512>>0]=7471*t+32768,k[t+768>>0]=-11059*t,k[t+1024>>0]=-21709*t,k[t+1280>>0]=32768*t+8421375,k[t+1536>>0]=-27439*t,k[t+1792>>0]=-5329*t}function F(t){var e=t[0],r=t[1]-1;while(r>=0)e&1<<r&&(w|=1<<v),r--,v--,v<0&&(255==w?(j(255),j(0)):j(w),v=7,w=0)}function j(t){g.push(t)}function $(t){j(t>>8&255),j(255&t)}function z(t,e){var r,n,i,a,o,s,h,l,u,f,c=0,d=8,m=64;for(u=0;u<d;++u){r=t[c],n=t[c+1],i=t[c+2],a=t[c+3],o=t[c+4],s=t[c+5],h=t[c+6],l=t[c+7];var g=r+l,w=r-l,v=n+h,b=n-h,y=i+s,_=i-s,x=a+o,k=a-o,M=g+x,A=g-x,E=v+y,S=v-y;t[c]=M+E,t[c+4]=M-E;var C=.707106781*(S+A);t[c+2]=A+C,t[c+6]=A-C,M=k+_,E=_+b,S=b+w;var D=.382683433*(M-S),I=.5411961*M+D,P=1.306562965*S+D,T=.707106781*E,B=w+T,R=w-T;t[c+5]=R+I,t[c+3]=R-I,t[c+1]=B+P,t[c+7]=B-P,c+=8}for(c=0,u=0;u<d;++u){r=t[c],n=t[c+8],i=t[c+16],a=t[c+24],o=t[c+32],s=t[c+40],h=t[c+48],l=t[c+56];var O=r+l,U=r-l,L=n+h,F=n-h,j=i+s,$=i-s,z=a+o,V=a-o,Y=O+z,N=O-z,X=L+j,G=L-j;t[c]=Y+X,t[c+32]=Y-X;var q=.707106781*(G+N);t[c+16]=N+q,t[c+48]=N-q,Y=V+$,X=$+F,G=F+U;var H=.382683433*(Y-G),W=.5411961*Y+H,Z=1.306562965*G+H,K=.707106781*X,J=U+K,Q=U-K;t[c+40]=Q+W,t[c+24]=Q-W,t[c+8]=J+Z,t[c+56]=J-Z,c++}for(u=0;u<m;++u)f=t[u]*e[u],p[u]=f>0?f+.5|0:f-.5|0;return p}function V(){$(65504),$(16),j(74),j(70),j(73),j(70),j(0),j(1),j(1),j(0),$(1),$(1),j(0),j(0)}function Y(t,e){$(65472),$(17),j(8),$(e),$(t),j(3),j(1),j(17),j(0),j(2),j(17),j(1),j(3),j(17),j(1)}function N(){$(65499),$(132),j(0);for(var t=0;t<64;t++)j(h[t]);j(1);for(var e=0;e<64;e++)j(l[e])}function X(){$(65476),$(418),j(0);for(var t=0;t<16;t++)j(A[t+1]);for(var e=0;e<=11;e++)j(E[e]);j(16);for(var r=0;r<16;r++)j(S[r+1]);for(var n=0;n<=161;n++)j(C[n]);j(1);for(var i=0;i<16;i++)j(D[i+1]);for(var a=0;a<=11;a++)j(I[a]);j(17);for(var o=0;o<16;o++)j(P[o+1]);for(var s=0;s<=161;s++)j(T[s])}function G(){$(65498),$(12),j(3),j(1),j(0),j(2),j(17),j(3),j(17),j(0),j(63),j(0)}function q(t,e,r,n,i){for(var a,o=i[0],s=i[240],h=16,l=63,u=64,f=z(t,e),p=0;p<u;++p)m[M[p]]=f[p];var g=m[0]-r;r=m[0],0==g?F(n[0]):(a=32767+g,F(n[d[a]]),F(c[a]));for(var w=63;w>0&&0==m[w];w--);if(0==w)return F(o),r;var v,b=1;while(b<=w){for(var y=b;0==m[b]&&b<=w;++b);var _=b-y;if(_>=h){v=_>>4;for(var x=1;x<=v;++x)F(s);_&=15}a=32767+m[b],F(i[(_<<4)+d[a]]),F(c[a]),b++}return w!=l&&F(o),r}function H(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}function W(t){if(t<=0&&(t=1),t>100&&(t=100),o!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),B(e),o=t}}function Z(){var e=(new Date).getTime();t||(t=50),H(),O(),U(),L(),W(t);(new Date).getTime()}this.encode=function(t,o){(new Date).getTime();o&&W(o),g=new Array,w=0,v=7,$(65496),V(),N(),Y(t.width,t.height),X(),G();var s=0,h=0,l=0;w=0,v=7,this.encode.displayName="_encode_";var c,d,p,m,x,M,A,E,S,C=t.data,D=t.width,I=t.height,P=4*D,T=0;while(T<I){c=0;while(c<P){for(x=P*T+c,M=x,A=-1,E=0,S=0;S<64;S++)E=S>>3,A=4*(7&S),M=x+E*P+A,T+E>=I&&(M-=P*(T+1+E-I)),c+A>=P&&(M-=c+A-P+4),d=C[M++],p=C[M++],m=C[M++],b[S]=(k[d]+k[p+256>>0]+k[m+512>>0]>>16)-128,y[S]=(k[d+768>>0]+k[p+1024>>0]+k[m+1280>>0]>>16)-128,_[S]=(k[d+1280>>0]+k[p+1536>>0]+k[m+1792>>0]>>16)-128;s=q(b,u,s,r,i),h=q(y,f,h,n,a),l=q(_,f,l,n,a),c+=32}T+=8}if(v>=0){var B=[];B[1]=v+1,B[0]=(1<<v+1)-1,F(B)}return $(65497),new e(g)},Z()}function n(t,e){"undefined"===typeof e&&(e=50);var n=new r(e),i=n.encode(t,e);return{data:i,width:t.width,height:t.height}}t.exports=n}).call(this,r("b639").Buffer)},b4ae:function(t,e,r){"use strict";r.r(e);var n=r("eb55"),i=r.n(n);function a(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}var o=a;function s(t){if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=t[0],r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}var h=s;function l(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i()(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!i()(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=h(t),a=o(t);if(n===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=r.min,l=void 0===s?r.autoMinMax?n:0:s,u=r.max,f=void 0===u?r.autoMinMax?a:1:u;if(l>=f)throw new RangeError("min option must be smaller than max option");for(var c=(f-l)/(a-n),d=0;d<t.length;d++)e[d]=(t[d]-n)*c+l;return e}var u=l;class f{constructor(t){t=$.checkMatrix(t);var e,r,n,i,a,o,s,h,l,u=t.clone(),f=u.rows,c=u.columns,d=new Array(f),p=1;for(e=0;e<f;e++)d[e]=e;for(h=new Array(f),r=0;r<c;r++){for(e=0;e<f;e++)h[e]=u.get(e,r);for(e=0;e<f;e++){for(l=Math.min(e,r),a=0,n=0;n<l;n++)a+=u.get(e,n)*h[n];h[e]-=a,u.set(e,r,h[e])}for(i=r,e=r+1;e<f;e++)Math.abs(h[e])>Math.abs(h[i])&&(i=e);if(i!==r){for(n=0;n<c;n++)o=u.get(i,n),u.set(i,n,u.get(r,n)),u.set(r,n,o);s=d[i],d[i]=d[r],d[r]=s,p=-p}if(r<f&&0!==u.get(r,r))for(e=r+1;e<f;e++)u.set(e,r,u.get(e,r)/u.get(r,r))}this.LU=u,this.pivotVector=d,this.pivotSign=p}isSingular(){for(var t=this.LU,e=t.columns,r=0;r<e;r++)if(0===t[r][r])return!0;return!1}solve(t){t=F.checkMatrix(t);var e=this.LU,r=e.rows;if(r!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,i,a,o=t.columns,s=t.subMatrixRow(this.pivotVector,0,o-1),h=e.columns;for(a=0;a<h;a++)for(n=a+1;n<h;n++)for(i=0;i<o;i++)s[n][i]-=s[a][i]*e[n][a];for(a=h-1;a>=0;a--){for(i=0;i<o;i++)s[a][i]/=e[a][a];for(n=0;n<a;n++)for(i=0;i<o;i++)s[n][i]-=s[a][i]*e[n][a]}return s}get determinant(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,r=t.columns,n=0;n<r;n++)e*=t[n][n];return e}get lowerTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new F(e,r),i=0;i<e;i++)for(var a=0;a<r;a++)n[i][a]=i>a?t[i][a]:i===a?1:0;return n}get upperTriangularMatrix(){for(var t=this.LU,e=t.rows,r=t.columns,n=new F(e,r),i=0;i<e;i++)for(var a=0;a<r;a++)n[i][a]=i<=a?t[i][a]:0;return n}get pivotPermutationVector(){return this.pivotVector.slice()}}function c(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}function d(t,e,r){for(var n=new Array(t),i=0;i<t;i++){n[i]=new Array(e);for(var a=0;a<e;a++)n[i][a]=r}return n}class p{constructor(t,e={}){t=$.checkMatrix(t);var r=t.rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:a=!0,autoTranspose:o=!1}=e;var s,h=Boolean(i),l=Boolean(a),u=!1;if(r<n)if(o){s=t.transpose(),r=s.rows,n=s.columns,u=!0;var f=h;h=l,l=f}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();var p=Math.min(r,n),m=Math.min(r+1,n),g=new Array(m),w=d(r,p,0),v=d(n,n,0),b=new Array(n),y=new Array(r),_=new Array(m);for(let c=0;c<m;c++)_[c]=c;var x=Math.min(r-1,n),k=Math.max(0,Math.min(n-2,r)),M=Math.max(x,k);for(let d=0;d<M;d++){if(d<x){g[d]=0;for(let t=d;t<r;t++)g[d]=c(g[d],s[t][d]);if(0!==g[d]){s[d][d]<0&&(g[d]=-g[d]);for(let t=d;t<r;t++)s[t][d]/=g[d];s[d][d]+=1}g[d]=-g[d]}for(let t=d+1;t<n;t++){if(d<x&&0!==g[d]){let e=0;for(let n=d;n<r;n++)e+=s[n][d]*s[n][t];e=-e/s[d][d];for(let n=d;n<r;n++)s[n][t]+=e*s[n][d]}b[t]=s[d][t]}if(h&&d<x)for(let t=d;t<r;t++)w[t][d]=s[t][d];if(d<k){b[d]=0;for(let t=d+1;t<n;t++)b[d]=c(b[d],b[t]);if(0!==b[d]){b[d+1]<0&&(b[d]=0-b[d]);for(let t=d+1;t<n;t++)b[t]/=b[d];b[d+1]+=1}if(b[d]=-b[d],d+1<r&&0!==b[d]){for(let t=d+1;t<r;t++)y[t]=0;for(let t=d+1;t<r;t++)for(let e=d+1;e<n;e++)y[t]+=b[e]*s[t][e];for(let t=d+1;t<n;t++){let e=-b[t]/b[d+1];for(let n=d+1;n<r;n++)s[n][t]+=e*y[n]}}if(l)for(let t=d+1;t<n;t++)v[t][d]=b[t]}}let A=Math.min(n,r+1);if(x<n&&(g[x]=s[x][x]),r<A&&(g[A-1]=0),k+1<A&&(b[k]=s[k][A-1]),b[A-1]=0,h){for(let t=x;t<p;t++){for(let e=0;e<r;e++)w[e][t]=0;w[t][t]=1}for(let t=x-1;t>=0;t--)if(0!==g[t]){for(let e=t+1;e<p;e++){let n=0;for(let i=t;i<r;i++)n+=w[i][t]*w[i][e];n=-n/w[t][t];for(let i=t;i<r;i++)w[i][e]+=n*w[i][t]}for(let e=t;e<r;e++)w[e][t]=-w[e][t];w[t][t]=1+w[t][t];for(let e=0;e<t-1;e++)w[e][t]=0}else{for(let e=0;e<r;e++)w[e][t]=0;w[t][t]=1}}if(l)for(let c=n-1;c>=0;c--){if(c<k&&0!==b[c])for(let t=c+1;t<n;t++){let e=0;for(let r=c+1;r<n;r++)e+=v[r][c]*v[r][t];e=-e/v[c+1][c];for(let r=c+1;r<n;r++)v[r][t]+=e*v[r][c]}for(let t=0;t<n;t++)v[t][c]=0;v[c][c]=1}var E=A-1,S=Number.EPSILON;while(A>0){let t,e;for(t=A-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+S*Math.abs(g[t]+Math.abs(g[t+1]));if(Math.abs(b[t])<=e||Number.isNaN(b[t])){b[t]=0;break}}if(t===A-2)e=4;else{let r;for(r=A-1;r>=t;r--){if(r===t)break;let e=(r!==A?Math.abs(b[r]):0)+(r!==t+1?Math.abs(b[r-1]):0);if(Math.abs(g[r])<=S*e){g[r]=0;break}}r===t?e=3:r===A-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=b[A-2];b[A-2]=0;for(let r=A-2;r>=t;r--){let i=c(g[r],e),a=g[r]/i,o=e/i;if(g[r]=i,r!==t&&(e=-o*b[r-1],b[r-1]=a*b[r-1]),l)for(let t=0;t<n;t++)i=a*v[t][r]+o*v[t][A-1],v[t][A-1]=-o*v[t][r]+a*v[t][A-1],v[t][r]=i}break}case 2:{let e=b[t-1];b[t-1]=0;for(let n=t;n<A;n++){let i=c(g[n],e),a=g[n]/i,o=e/i;if(g[n]=i,e=-o*b[n],b[n]=a*b[n],h)for(let e=0;e<r;e++)i=a*w[e][n]+o*w[e][t-1],w[e][t-1]=-o*w[e][n]+a*w[e][t-1],w[e][n]=i}break}case 3:{const e=Math.max(Math.abs(g[A-1]),Math.abs(g[A-2]),Math.abs(b[A-2]),Math.abs(g[t]),Math.abs(b[t])),i=g[A-1]/e,a=g[A-2]/e,o=b[A-2]/e,s=g[t]/e,u=b[t]/e,f=((a+i)*(a-i)+o*o)/2,d=i*o*(i*o);let p=0;0===f&&0===d||(p=f<0?0-Math.sqrt(f*f+d):Math.sqrt(f*f+d),p=d/(f+p));let m=(s+i)*(s-i)+p,y=s*u;for(let _=t;_<A-1;_++){let e=c(m,y);0===e&&(e=Number.MIN_VALUE);let i=m/e,a=y/e;if(_!==t&&(b[_-1]=e),m=i*g[_]+a*b[_],b[_]=i*b[_]-a*g[_],y=a*g[_+1],g[_+1]=i*g[_+1],l)for(let t=0;t<n;t++)e=i*v[t][_]+a*v[t][_+1],v[t][_+1]=-a*v[t][_]+i*v[t][_+1],v[t][_]=e;if(e=c(m,y),0===e&&(e=Number.MIN_VALUE),i=m/e,a=y/e,g[_]=e,m=i*b[_]+a*g[_+1],g[_+1]=-a*b[_]+i*g[_+1],y=a*b[_+1],b[_+1]=i*b[_+1],h&&_<r-1)for(let t=0;t<r;t++)e=i*w[t][_]+a*w[t][_+1],w[t][_+1]=-a*w[t][_]+i*w[t][_+1],w[t][_]=e}b[A-2]=m,1;break}case 4:if(g[t]<=0&&(g[t]=g[t]<0?-g[t]:0,l))for(let e=0;e<=E;e++)v[e][t]=-v[e][t];while(t<E){if(g[t]>=g[t+1])break;let e=g[t];if(g[t]=g[t+1],g[t+1]=e,l&&t<n-1)for(let r=0;r<n;r++)e=v[r][t+1],v[r][t+1]=v[r][t],v[r][t]=e;if(h&&t<r-1)for(let n=0;n<r;n++)e=w[n][t+1],w[n][t+1]=w[n][t],w[n][t]=e;t++}0,A--;break}}if(u){var C=v;v=w,w=C}this.m=r,this.n=n,this.s=g,this.U=w,this.V=v}solve(t){var e=t,r=this.threshold,n=this.s.length,i=F.zeros(n,n);for(let f=0;f<n;f++)Math.abs(this.s[f])<=r?i[f][f]=0:i[f][f]=1/this.s[f];var a=this.U,o=this.rightSingularVectors,s=o.mmul(i),h=o.rows,l=a.length,u=F.zeros(h,l);for(let f=0;f<h;f++)for(let t=0;t<l;t++){let e=0;for(let r=0;r<n;r++)e+=s[f][r]*a[t][r];u[f][t]=e}return u.mmul(e)}solveForDiagonal(t){return this.solve(F.diag(t))}inverse(){var t=this.V,e=this.threshold,r=t.length,n=t[0].length,i=new F(r,this.s.length);for(let l=0;l<r;l++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e?i[l][r]=t[l][r]/this.s[r]:i[l][r]=0;var a=this.U,o=a.length,s=a[0].length,h=new F(r,o);for(let l=0;l<r;l++)for(let t=0;t<o;t++){let e=0;for(let r=0;r<s;r++)e+=i[l][r]*a[t][r];h[l][t]=e}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return F.isMatrix(this.U)||(this.U=new F(this.U)),this.U}get rightSingularVectors(){return F.isMatrix(this.V)||(this.V=new F(this.V)),this.V}get diagonalMatrix(){return F.diag(this.s)}}function m(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function g(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function w(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function v(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function b(t,e,r){return{row:y(t,e),column:_(t,r)}}function y(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for row indices");var r=e.some(e=>{return e<0||e>=t.rows});if(r)throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function _(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for column indices");var r=e.some(e=>{return e<0||e>=t.columns});if(r)throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function x(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(E("startRow",e),E("endRow",r),E("startColumn",n),E("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function k(t){for(var e=F.zeros(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(r,0,e.get(r,0)+t.get(r,n));return e}function M(t){for(var e=F.zeros(1,t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e.set(0,n,e.get(0,n)+t.get(r,n));return e}function A(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}function E(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}class S extends(L()){constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}static get[Symbol.species](){return F}}class C extends S{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}class D extends S{constructor(t,e){super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class I extends S{constructor(t,e,r,n,i){x(t,e,r,n,i),super(t,r-e+1,i-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class P extends S{constructor(t,e,r){var n=b(t,e,r);super(t,n.row.length,n.column.length),this.rowIndices=n.row,this.columnIndices=n.column}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class T extends S{constructor(t,e){e=y(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class B extends S{constructor(t,e){e=_(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class R extends S{constructor(t,e){super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class O extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class U extends S{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}function L(t){void 0===t&&(t=Object);class e extends t{static get[Symbol.species](){return this}static from1DArray(t,e,r){var n=t*e;if(n!==r.length)throw new RangeError("Data length does not match given dimensions");for(var i=new this(t,e),a=0;a<t;a++)for(var o=0;o<e;o++)i.set(a,o,r[a*e+o]);return i}static rowVector(t){for(var e=new this(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){for(var e=new this(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static empty(t,e){return new this(t,e)}static zeros(t,e){return this.empty(t,e).fill(0)}static ones(t,e){return this.empty(t,e).fill(1)}static rand(t,e,r){void 0===r&&(r=Math.random);for(var n=this.empty(t,e),i=0;i<t;i++)for(var a=0;a<e;a++)n.set(i,a,r());return n}static randInt(t,e,r,n){void 0===r&&(r=1e3),void 0===n&&(n=Math.random);for(var i=this.empty(t,e),a=0;a<t;a++)for(var o=0;o<e;o++){var s=Math.floor(n()*r);i.set(a,o,s)}return i}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),i=this.zeros(t,e),a=0;a<n;a++)i.set(a,a,r);return i}static diag(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var i=Math.min(n,e,r),a=this.zeros(e,r),o=0;o<i;o++)a.set(o,o,t[o]);return a}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),a=0;a<r;a++)for(var o=0;o<n;o++)i.set(a,o,Math.min(t.get(a,o),e.get(a,o)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),a=0;a<r;a++)for(var o=0;o<n;o++)i.set(a,o,Math.max(t.get(a,o),e.get(a,o)));return i}static checkMatrix(t){return e.isMatrix(t)?t:new this(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(var e=this.rows,r=this.columns,n=0;n<e;n++)for(var i=0;i<r;i++)t.call(this,n,i);return this}to1DArray(){for(var t=new Array(this.size),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t[e*this.columns+r]=this.get(e,r);return t}to2DArray(){for(var t=new Array(this.rows),e=0;e<this.rows;e++){t[e]=new Array(this.columns);for(var r=0;r<this.columns;r++)t[e][r]=this.get(e,r)}return t}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}set(t,e,r){throw new Error("set method is unimplemented")}get(t,e){throw new Error("get method is unimplemented")}repeat(t,e){t=t||1,e=e||1;for(var r=new this.constructor[Symbol.species](this.rows*t,this.columns*e),n=0;n<t;n++)for(var i=0;i<e;i++)r.setSubMatrix(this,this.rows*n,this.columns*i);return r}fill(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){m(this,t);for(var e=new Array(this.columns),r=0;r<this.columns;r++)e[r]=this.get(t,r);return e}getRowVector(t){return this.constructor.rowVector(this.getRow(t))}setRow(t,e){m(this,t),e=w(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){m(this,t),m(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){g(this,t);for(var e=new Array(this.rows),r=0;r<this.rows;r++)e[r]=this.get(r,t);return e}getColumnVector(t){return this.constructor.columnVector(this.getColumn(t))}setColumn(t,e){g(this,t),e=v(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){g(this,t),g(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=w(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=v(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=v(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=v(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=v(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){m(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){g(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){m(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){m(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){m(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){m(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){g(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){g(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){g(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){g(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){for(var t=Math.min(this.rows,this.columns),e=new Array(t),r=0;r<t;r++)e[r]=this.get(r,r);return e}sum(t){switch(t){case"row":return k(this);case"column":return M(this);default:return A(this)}}mean(){return this.sum()/this.size}prod(){for(var t=1,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t*=this.get(e,r);return t}norm(t="frobenius"){var e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){e.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,i=0;i<r.length;i++)n+=r[i]*t[i];return n}mmul(t){t=this.constructor.checkMatrix(t),this.columns!==t.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var e=this.rows,r=this.columns,n=t.columns,i=new this.constructor[Symbol.species](e,n),a=new Array(r),o=0;o<n;o++){for(var s=0;s<r;s++)a[s]=t.get(s,o);for(var h=0;h<e;h++){var l=0;for(s=0;s<r;s++)l+=this.get(h,s)*a[s];i.set(h,o,l)}}return i}strassen2x2(t){var e=new this.constructor[Symbol.species](2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),a=t.get(0,1),o=this.get(1,0),s=t.get(1,0),h=this.get(1,1),l=t.get(1,1),u=(r+h)*(n+l),f=(o+h)*n,c=r*(a-l),d=h*(s-n),p=(r+i)*l,m=(o-r)*(n+a),g=(i-h)*(s+l),w=u+d-p+g,v=c+p,b=f+d,y=u-f+c+m;return e.set(0,0,w),e.set(0,1,v),e.set(1,0,b),e.set(1,1,y),e}strassen3x3(t){var e=new this.constructor[Symbol.species](3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),a=this.get(1,0),o=this.get(1,1),s=this.get(1,2),h=this.get(2,0),l=this.get(2,1),u=this.get(2,2),f=t.get(0,0),c=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),w=t.get(2,0),v=t.get(2,1),b=t.get(2,2),y=(r+n+i-a-o-l-u)*m,_=(r-a)*(-c+m),x=o*(-f+c+p-m-g-w+b),k=(-r+a+o)*(f-c+m),M=(a+o)*(-f+c),A=r*f,E=(-r+h+l)*(f-d+g),S=(-r+h)*(d-g),C=(h+l)*(-f+d),D=(r+n+i-o-s-h-l)*g,I=l*(-f+d+p-m-g-w+v),P=(-i+l+u)*(m+w-v),T=(i-u)*(m-v),B=i*w,R=(l+u)*(-w+v),O=(-i+o+s)*(g+w-b),U=(i-s)*(g-b),L=(o+s)*(-w+b),F=n*p,j=s*v,$=a*d,z=h*c,V=u*b,Y=A+B+F,N=y+k+M+A+P+B+R,X=A+E+C+D+B+O+L,G=_+x+k+A+B+O+U,q=_+k+M+A+j,H=B+O+U+L+$,W=A+E+S+I+P+T+B,Z=P+T+B+R+z,K=A+E+S+C+V;return e.set(0,0,Y),e.set(0,1,N),e.set(0,2,X),e.set(1,0,G),e.set(1,1,q),e.set(1,2,H),e.set(2,0,W),e.set(2,1,Z),e.set(2,2,K),e}mmulStrassen(t){var r=this.clone(),n=r.rows,i=r.columns,a=t.rows,o=t.columns;function s(t,r,n){var i=t.rows,a=t.columns;if(i===r&&a===n)return t;var o=e.zeros(r,n);return o=o.setSubMatrix(t,0,0),o}i!==a&&console.warn(`Multiplying ${n} x ${i} and ${a} x ${o} matrix: dimensions do not match.`);var h=Math.max(n,a),l=Math.max(i,o);function u(t,r,n,i){if(n<=512||i<=512)return t.mmul(r);n%2===1&&i%2===1?(t=s(t,n+1,i+1),r=s(r,n+1,i+1)):n%2===1?(t=s(t,n+1,i),r=s(r,n+1,i)):i%2===1&&(t=s(t,n,i+1),r=s(r,n,i+1));var a=parseInt(t.rows/2,10),o=parseInt(t.columns/2,10),h=t.subMatrix(0,a-1,0,o-1),l=r.subMatrix(0,a-1,0,o-1),f=t.subMatrix(0,a-1,o,t.columns-1),c=r.subMatrix(0,a-1,o,r.columns-1),d=t.subMatrix(a,t.rows-1,0,o-1),p=r.subMatrix(a,r.rows-1,0,o-1),m=t.subMatrix(a,t.rows-1,o,t.columns-1),g=r.subMatrix(a,r.rows-1,o,r.columns-1),w=u(e.add(h,m),e.add(l,g),a,o),v=u(e.add(d,m),l,a,o),b=u(h,e.sub(c,g),a,o),y=u(m,e.sub(p,l),a,o),_=u(e.add(h,f),g,a,o),x=u(e.sub(d,h),e.add(l,c),a,o),k=u(e.sub(f,m),e.add(p,g),a,o),M=e.add(w,y);M.sub(_),M.add(k);var A=e.add(b,_),E=e.add(v,y),S=e.sub(w,v);S.add(b),S.add(x);var C=e.zeros(2*M.rows,2*M.columns);return C=C.setSubMatrix(M,0,0),C=C.setSubMatrix(A,M.rows,0),C=C.setSubMatrix(E,0,M.columns),C=C.setSubMatrix(S,M.rows,M.columns),C.subMatrix(0,n-1,0,i-1)}return r=s(r,h,l),t=s(t,h,l),u(r,t,h,l)}scaleRows(t,e){if(t=void 0===t?0:t,e=void 0===e?1:e,t>=e)throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.rows;n++){var i=u(this.getRow(n),{min:t,max:e});r.setRow(n,i)}return r}scaleColumns(t,e){if(t=void 0===t?0:t,e=void 0===e?1:e,t>=e)throw new RangeError("min should be strictly smaller than max");for(var r=this.constructor.empty(this.rows,this.columns),n=0;n<this.columns;n++){var i=u(this.getColumn(n),{min:t,max:e});r.setColumn(n,i)}return r}kroneckerProduct(t){t=this.constructor.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,i=t.columns,a=new this.constructor[Symbol.species](e*n,r*i),o=0;o<e;o++)for(var s=0;s<r;s++)for(var h=0;h<n;h++)for(var l=0;l<i;l++)a[n*o+h][i*s+l]=this.get(o,s)*t.get(h,l);return a}transpose(){for(var t=new this.constructor[Symbol.species](this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t){void 0===t&&(t=r);for(var e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t){void 0===t&&(t=r);for(var e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){x(this,t,e,r,n);for(var i=new this.constructor[Symbol.species](e-t+1,n-r+1),a=t;a<=e;a++)for(var o=r;o<=n;o++)i[a-t][o-r]=this.get(a,o);return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](t.length,r-e+1),i=0;i<t.length;i++)for(var a=e;a<=r;a++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);n.set(i,a-e,this.get(t[i],a))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new this.constructor[Symbol.species](r-e+1,t.length),i=0;i<t.length;i++)for(var a=e;a<=r;a++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);n.set(a-e,i,this.get(a,t[i]))}return n}setSubMatrix(t,e,r){t=this.constructor.checkMatrix(t);var n=e+t.rows-1,i=r+t.columns-1;x(this,e,n,r,i);for(var a=0;a<t.rows;a++)for(var o=0;o<t.columns;o++)this[e+a][r+o]=t.get(a,o);return this}selection(t,e){for(var r=b(this,t,e),n=new this.constructor[Symbol.species](t.length,e.length),i=0;i<r.row.length;i++)for(var a=r.row[i],o=0;o<r.column.length;o++){var s=r.column[o];n[i][o]=this.get(a,s)}return n}trace(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}transposeView(){return new C(this)}rowView(t){return m(this,t),new D(this,t)}columnView(t){return g(this,t),new R(this,t)}flipRowView(){return new O(this)}flipColumnView(){return new U(this)}subMatrixView(t,e,r,n){return new I(this,t,e,r,n)}selectionView(t,e){return new P(this,t,e)}rowSelectionView(t){return new T(this,t)}columnSelectionView(t){return new B(this,t)}det(){var t,e,r,n,i,a,o;if(this.isSquare())return 2===this.columns?(t=this.get(0,0),e=this.get(0,1),r=this.get(1,0),n=this.get(1,1),t*n-e*r):3===this.columns?(i=this.selectionView([1,2],[1,2]),a=this.selectionView([1,2],[0,2]),o=this.selectionView([1,2],[0,1]),t=this.get(0,0),e=this.get(0,1),r=this.get(0,2),t*i.det()-e*a.det()+r*o.det()):new f(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(t){void 0===t&&(t=Number.EPSILON);for(var e=new p(this,{autoTranspose:!0}),r=e.leftSingularVectors,n=e.rightSingularVectors,i=e.diagonal,a=0;a<i.length;a++)Math.abs(i[a])>t?i[a]=1/i[a]:i[a]=0;return i=this.constructor[Symbol.species].diag(i),n.mmul(i.mmul(r.transposeView()))}clone(){for(var t=new this.constructor[Symbol.species](this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}}function r(t,e){return t-e}e.prototype.klass="Matrix",e.random=e.rand,e.diagonal=e.diag,e.prototype.diagonal=e.prototype.diag,e.identity=e.eye,e.prototype.negate=e.prototype.neg,e.prototype.tensorProduct=e.prototype.kroneckerProduct,e.prototype.determinant=e.prototype.det;var n,i="\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",a="\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",o="\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",s="\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",h="\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",l="\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",c="\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",d="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",y="\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",_="\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",E="\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",S=d,L=[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]],F=eval;for(var j of L){var $=F(it(i,{name:j[1],op:j[0]})),z=F(it(a,{name:`${j[1]}S`,op:j[0]})),V=F(it(o,{name:`${j[1]}M`,op:j[0]})),Y=F(it(s,{name:j[1]}));for(n=1;n<j.length;n++)e.prototype[j[n]]=$,e.prototype[`${j[n]}S`]=z,e.prototype[`${j[n]}M`]=V,e[j[n]]=Y}var N=[["~","not"]];for(var X of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach(function(t){N.push([`Math.${t}`,t])}),N)){var G=F(it(h,{name:X[1],method:X[0]})),q=F(it(l,{name:X[1]}));for(n=1;n<X.length;n++)e.prototype[X[n]]=G,e[X[n]]=q}var H=[["Math.pow",1,"pow"]];for(var W of H){var Z="arg0";for(n=1;n<W[1];n++)Z+=`, arg${n}`;if(1!==W[1]){var K=F(it(c,{name:W[2],method:W[0],args:Z})),J=F(it(d,{name:W[2],args:Z}));for(n=2;n<W.length;n++)e.prototype[W[n]]=K,e[W[n]]=J}else{var Q={name:W[2],args:Z,method:W[0]},tt=F(it(E,Q)),et=F(it(y,Q)),rt=F(it(_,Q)),nt=F(it(S,Q));for(n=2;n<W.length;n++)e.prototype[W[n]]=tt,e.prototype[`${W[n]}M`]=rt,e.prototype[`${W[n]}S`]=et,e[W[n]]=nt}}function it(t,e){for(var r in e)t=t.replace(new RegExp(`%${r}%`,"g"),e[r]);return t}return e}class F extends(L(Array)){constructor(t,e){var r;if(1===arguments.length&&"number"===typeof t)return new Array(t);if(F.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(super(t),!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(r=0;r<t;r++)this[r]=new Array(e)}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,e=n[0].length,"number"!==typeof e||0===e)throw new TypeError("Data must be a 2D array with at least one element");for(super(t),r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");this[r]=[].concat(n[r])}}}return this.rows=t,this.columns=e,this}set(t,e,r){return this[t][e]=r,this}get(t,e){return this[t][e]}removeRow(t){if(m(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),m(this,t,!0),e=w(this,e,!0),this.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(g(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var e=0;e<this.rows;e++)this[e].splice(t,1);return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),g(this,t,!0),e=v(this,e);for(var r=0;r<this.rows;r++)this[r].splice(t,0,e[r]);return this.columns+=1,this}}class j extends(L()){constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){var n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){var r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}static get[Symbol.species](){return F}}class $ extends(L()){constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}static get[Symbol.species](){return F}}function z(t,e){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new $(t):new j(t,e);throw new Error("the argument is not an array")}class V{constructor(t){t=$.checkMatrix(t);var e,r,n,i,a=t.clone(),o=t.rows,s=t.columns,h=new Array(s);for(n=0;n<s;n++){var l=0;for(e=n;e<o;e++)l=c(l,a.get(e,n));if(0!==l){for(a.get(n,n)<0&&(l=-l),e=n;e<o;e++)a.set(e,n,a.get(e,n)/l);for(a.set(n,n,a.get(n,n)+1),r=n+1;r<s;r++){for(i=0,e=n;e<o;e++)i+=a.get(e,n)*a.get(e,r);for(i=-i/a.get(n,n),e=n;e<o;e++)a.set(e,r,a.get(e,r)+i*a.get(e,n))}}h[n]=-l}this.QR=a,this.Rdiag=h}solve(t){t=F.checkMatrix(t);var e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n,i,a,o,s=t.columns,h=t.clone(),l=e.columns;for(a=0;a<l;a++)for(i=0;i<s;i++){for(o=0,n=a;n<r;n++)o+=e[n][a]*h[n][i];for(o=-o/e[a][a],n=a;n<r;n++)h[n][i]+=o*e[n][a]}for(a=l-1;a>=0;a--){for(i=0;i<s;i++)h[a][i]/=this.Rdiag[a];for(n=0;n<a;n++)for(i=0;i<s;i++)h[n][i]-=h[a][i]*e[n][a]}return h.subMatrix(0,l-1,0,s-1)}isFullRank(){for(var t=this.QR.columns,e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){var t,e,r=this.QR,n=r.columns,i=new F(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)i[t][e]=t<e?r[t][e]:t===e?this.Rdiag[t]:0;return i}get orthogonalMatrix(){var t,e,r,n,i=this.QR,a=i.rows,o=i.columns,s=new F(a,o);for(r=o-1;r>=0;r--){for(t=0;t<a;t++)s[t][r]=0;for(s[r][r]=1,e=r;e<o;e++)if(0!==i[r][r]){for(n=0,t=r;t<a;t++)n+=i[t][r]*s[t][e];for(n=-n/i[r][r],t=r;t<a;t++)s[t][e]+=n*i[t][r]}}return s}}function Y(t,e=!1){return t=$.checkMatrix(t),e?new p(t).inverse():N(t,F.eye(t.rows))}function N(t,e,r=!1){return t=$.checkMatrix(t),e=$.checkMatrix(e),r?new p(t).solve(e):t.isSquare()?new f(t).solve(e):new V(t).solve(e)}function X(t,e){for(var r=[],n=0;n<t;n++)n!==e&&r.push(n);return r}function G(t,e,r,n=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);for(var a=e.addRow(r,[0]),o=0;o<a.rows;o++)Math.abs(a.get(o,0))<n&&a.set(o,0,0);return a.to1DArray()}function q(t,e={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;for(var i=t.rows,a=new F(i,i),s=0;s<i;s++){var h=F.columnVector(t.getRow(s)),l=t.subMatrixRow(X(i,s)).transposeView(),u=new p(l),f=u.solve(h),c=o(F.sub(h,l.mmul(f)).abs().to1DArray());a.setRow(s,G(c,f,s,r,n))}return a}class H{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(t=$.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");var n,i,a=t.columns,o=d(a,a,0),s=new Array(a),h=new Array(a),l=t,u=!1;if(u=!!r||t.isSymmetric(),u){for(n=0;n<a;n++)for(i=0;i<a;i++)o[n][i]=l.get(n,i);W(a,h,s,o),Z(a,h,s,o)}else{var f=d(a,a,0),c=new Array(a);for(i=0;i<a;i++)for(n=0;n<a;n++)f[n][i]=l.get(n,i);K(a,f,c,o),J(a,h,s,o,f)}this.n=a,this.e=h,this.d=s,this.V=o}get realEigenvalues(){return this.d}get imaginaryEigenvalues(){return this.e}get eigenvectorMatrix(){return F.isMatrix(this.V)||(this.V=new F(this.V)),this.V}get diagonalMatrix(){var t,e,r=this.n,n=this.e,i=this.d,a=new F(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)a[t][e]=0;a[t][t]=i[t],n[t]>0?a[t][t+1]=n[t]:n[t]<0&&(a[t][t-1]=n[t])}return a}}function W(t,e,r,n){var i,a,o,s,h,l,u,f;for(h=0;h<t;h++)r[h]=n[t-1][h];for(s=t-1;s>0;s--){for(f=0,o=0,l=0;l<s;l++)f+=Math.abs(r[l]);if(0===f)for(e[s]=r[s-1],h=0;h<s;h++)r[h]=n[s-1][h],n[s][h]=0,n[h][s]=0;else{for(l=0;l<s;l++)r[l]/=f,o+=r[l]*r[l];for(i=r[s-1],a=Math.sqrt(o),i>0&&(a=-a),e[s]=f*a,o-=i*a,r[s-1]=i-a,h=0;h<s;h++)e[h]=0;for(h=0;h<s;h++){for(i=r[h],n[h][s]=i,a=e[h]+n[h][h]*i,l=h+1;l<=s-1;l++)a+=n[l][h]*r[l],e[l]+=n[l][h]*i;e[h]=a}for(i=0,h=0;h<s;h++)e[h]/=o,i+=e[h]*r[h];for(u=i/(o+o),h=0;h<s;h++)e[h]-=u*r[h];for(h=0;h<s;h++){for(i=r[h],a=e[h],l=h;l<=s-1;l++)n[l][h]-=i*e[l]+a*r[l];r[h]=n[s-1][h],n[s][h]=0}}r[s]=o}for(s=0;s<t-1;s++){if(n[t-1][s]=n[s][s],n[s][s]=1,o=r[s+1],0!==o){for(l=0;l<=s;l++)r[l]=n[l][s+1]/o;for(h=0;h<=s;h++){for(a=0,l=0;l<=s;l++)a+=n[l][s+1]*n[l][h];for(l=0;l<=s;l++)n[l][h]-=a*r[l]}}for(l=0;l<=s;l++)n[l][s+1]=0}for(h=0;h<t;h++)r[h]=n[t-1][h],n[t-1][h]=0;n[t-1][t-1]=1,e[0]=0}function Z(t,e,r,n){var i,a,o,s,h,l,u,f,d,p,m,g,w,v,b,y;for(o=1;o<t;o++)e[o-1]=e[o];e[t-1]=0;var _=0,x=0,k=Number.EPSILON;for(l=0;l<t;l++){x=Math.max(x,Math.abs(r[l])+Math.abs(e[l])),u=l;while(u<t){if(Math.abs(e[u])<=k*x)break;u++}if(u>l){0;do{for(1,i=r[l],f=(r[l+1]-i)/(2*e[l]),d=c(f,1),f<0&&(d=-d),r[l]=e[l]/(f+d),r[l+1]=e[l]*(f+d),p=r[l+1],a=i-r[l],o=l+2;o<t;o++)r[o]-=a;for(_+=a,f=r[u],m=1,g=m,w=m,v=e[l+1],b=0,y=0,o=u-1;o>=l;o--)for(w=g,g=m,y=b,i=m*e[o],a=m*f,d=c(f,e[o]),e[o+1]=b*d,b=e[o]/d,m=f/d,f=m*r[o]-b*i,r[o+1]=a+b*(m*i+b*r[o]),h=0;h<t;h++)a=n[h][o+1],n[h][o+1]=b*n[h][o]+m*a,n[h][o]=m*n[h][o]-b*a;f=-b*y*w*v*e[l]/p,e[l]=b*f,r[l]=m*f}while(Math.abs(e[l])>k*x)}r[l]=r[l]+_,e[l]=0}for(o=0;o<t-1;o++){for(h=o,f=r[o],s=o+1;s<t;s++)r[s]<f&&(h=s,f=r[s]);if(h!==o)for(r[h]=r[o],r[o]=f,s=0;s<t;s++)f=n[s][o],n[s][o]=n[s][h],n[s][h]=f}}function K(t,e,r,n){var i,a,o,s,h,l,u,f=0,c=t-1;for(l=f+1;l<=c-1;l++){for(u=0,s=l;s<=c;s++)u+=Math.abs(e[s][l-1]);if(0!==u){for(o=0,s=c;s>=l;s--)r[s]=e[s][l-1]/u,o+=r[s]*r[s];for(a=Math.sqrt(o),r[l]>0&&(a=-a),o-=r[l]*a,r[l]=r[l]-a,h=l;h<t;h++){for(i=0,s=c;s>=l;s--)i+=r[s]*e[s][h];for(i/=o,s=l;s<=c;s++)e[s][h]-=i*r[s]}for(s=0;s<=c;s++){for(i=0,h=c;h>=l;h--)i+=r[h]*e[s][h];for(i/=o,h=l;h<=c;h++)e[s][h]-=i*r[h]}r[l]=u*r[l],e[l][l-1]=u*a}}for(s=0;s<t;s++)for(h=0;h<t;h++)n[s][h]=s===h?1:0;for(l=c-1;l>=f+1;l--)if(0!==e[l][l-1]){for(s=l+1;s<=c;s++)r[s]=e[s][l-1];for(h=l;h<=c;h++){for(a=0,s=l;s<=c;s++)a+=r[s]*n[s][h];for(a=a/r[l]/e[l][l-1],s=l;s<=c;s++)n[s][h]+=a*r[s]}}}function J(t,e,r,n,i){var a,o,s,h,l,u,f,c,d,p,m,g,w,v,b,y=t-1,_=0,x=t-1,k=Number.EPSILON,M=0,A=0,E=0,S=0,C=0,D=0,I=0,P=0;for(a=0;a<t;a++)for((a<_||a>x)&&(r[a]=i[a][a],e[a]=0),o=Math.max(a-1,0);o<t;o++)A+=Math.abs(i[a][o]);while(y>=_){h=y;while(h>_){if(D=Math.abs(i[h-1][h-1])+Math.abs(i[h][h]),0===D&&(D=A),Math.abs(i[h][h-1])<k*D)break;h--}if(h===y)i[y][y]=i[y][y]+M,r[y]=i[y][y],e[y]=0,y--,P=0;else if(h===y-1){if(f=i[y][y-1]*i[y-1][y],E=(i[y-1][y-1]-i[y][y])/2,S=E*E+f,I=Math.sqrt(Math.abs(S)),i[y][y]=i[y][y]+M,i[y-1][y-1]=i[y-1][y-1]+M,c=i[y][y],S>=0){for(I=E>=0?E+I:E-I,r[y-1]=c+I,r[y]=r[y-1],0!==I&&(r[y]=c-f/I),e[y-1]=0,e[y]=0,c=i[y][y-1],D=Math.abs(c)+Math.abs(I),E=c/D,S=I/D,C=Math.sqrt(E*E+S*S),E/=C,S/=C,o=y-1;o<t;o++)I=i[y-1][o],i[y-1][o]=S*I+E*i[y][o],i[y][o]=S*i[y][o]-E*I;for(a=0;a<=y;a++)I=i[a][y-1],i[a][y-1]=S*I+E*i[a][y],i[a][y]=S*i[a][y]-E*I;for(a=_;a<=x;a++)I=n[a][y-1],n[a][y-1]=S*I+E*n[a][y],n[a][y]=S*n[a][y]-E*I}else r[y-1]=c+E,r[y]=c+E,e[y-1]=I,e[y]=-I;y-=2,P=0}else{if(c=i[y][y],d=0,f=0,h<y&&(d=i[y-1][y-1],f=i[y][y-1]*i[y-1][y]),10===P){for(M+=c,a=_;a<=y;a++)i[a][a]-=c;D=Math.abs(i[y][y-1])+Math.abs(i[y-1][y-2]),c=d=.75*D,f=-.4375*D*D}if(30===P&&(D=(d-c)/2,D=D*D+f,D>0)){for(D=Math.sqrt(D),d<c&&(D=-D),D=c-f/((d-c)/2+D),a=_;a<=y;a++)i[a][a]-=D;M+=D,c=d=f=.964}P+=1,l=y-2;while(l>=h){if(I=i[l][l],C=c-I,D=d-I,E=(C*D-f)/i[l+1][l]+i[l][l+1],S=i[l+1][l+1]-I-C-D,C=i[l+2][l+1],D=Math.abs(E)+Math.abs(S)+Math.abs(C),E/=D,S/=D,C/=D,l===h)break;if(Math.abs(i[l][l-1])*(Math.abs(S)+Math.abs(C))<k*(Math.abs(E)*(Math.abs(i[l-1][l-1])+Math.abs(I)+Math.abs(i[l+1][l+1]))))break;l--}for(a=l+2;a<=y;a++)i[a][a-2]=0,a>l+2&&(i[a][a-3]=0);for(s=l;s<=y-1;s++){if(v=s!==y-1,s!==l&&(E=i[s][s-1],S=i[s+1][s-1],C=v?i[s+2][s-1]:0,c=Math.abs(E)+Math.abs(S)+Math.abs(C),0!==c&&(E/=c,S/=c,C/=c)),0===c)break;if(D=Math.sqrt(E*E+S*S+C*C),E<0&&(D=-D),0!==D){for(s!==l?i[s][s-1]=-D*c:h!==l&&(i[s][s-1]=-i[s][s-1]),E+=D,c=E/D,d=S/D,I=C/D,S/=E,C/=E,o=s;o<t;o++)E=i[s][o]+S*i[s+1][o],v&&(E+=C*i[s+2][o],i[s+2][o]=i[s+2][o]-E*I),i[s][o]=i[s][o]-E*c,i[s+1][o]=i[s+1][o]-E*d;for(a=0;a<=Math.min(y,s+3);a++)E=c*i[a][s]+d*i[a][s+1],v&&(E+=I*i[a][s+2],i[a][s+2]=i[a][s+2]-E*C),i[a][s]=i[a][s]-E,i[a][s+1]=i[a][s+1]-E*S;for(a=_;a<=x;a++)E=c*n[a][s]+d*n[a][s+1],v&&(E+=I*n[a][s+2],n[a][s+2]=n[a][s+2]-E*C),n[a][s]=n[a][s]-E,n[a][s+1]=n[a][s+1]-E*S}}}}if(0!==A){for(y=t-1;y>=0;y--)if(E=r[y],S=e[y],0===S)for(h=y,i[y][y]=1,a=y-1;a>=0;a--){for(f=i[a][a]-E,C=0,o=h;o<=y;o++)C+=i[a][o]*i[o][y];if(e[a]<0)I=f,D=C;else if(h=a,0===e[a]?i[a][y]=0!==f?-C/f:-C/(k*A):(c=i[a][a+1],d=i[a+1][a],S=(r[a]-E)*(r[a]-E)+e[a]*e[a],u=(c*D-I*C)/S,i[a][y]=u,i[a+1][y]=Math.abs(c)>Math.abs(I)?(-C-f*u)/c:(-D-d*u)/I),u=Math.abs(i[a][y]),k*u*u>1)for(o=a;o<=y;o++)i[o][y]=i[o][y]/u}else if(S<0)for(h=y-1,Math.abs(i[y][y-1])>Math.abs(i[y-1][y])?(i[y-1][y-1]=S/i[y][y-1],i[y-1][y]=-(i[y][y]-E)/i[y][y-1]):(b=Q(0,-i[y-1][y],i[y-1][y-1]-E,S),i[y-1][y-1]=b[0],i[y-1][y]=b[1]),i[y][y-1]=0,i[y][y]=1,a=y-2;a>=0;a--){for(p=0,m=0,o=h;o<=y;o++)p+=i[a][o]*i[o][y-1],m+=i[a][o]*i[o][y];if(f=i[a][a]-E,e[a]<0)I=f,C=p,D=m;else if(h=a,0===e[a]?(b=Q(-p,-m,f,S),i[a][y-1]=b[0],i[a][y]=b[1]):(c=i[a][a+1],d=i[a+1][a],g=(r[a]-E)*(r[a]-E)+e[a]*e[a]-S*S,w=2*(r[a]-E)*S,0===g&&0===w&&(g=k*A*(Math.abs(f)+Math.abs(S)+Math.abs(c)+Math.abs(d)+Math.abs(I))),b=Q(c*C-I*p+S*m,c*D-I*m-S*p,g,w),i[a][y-1]=b[0],i[a][y]=b[1],Math.abs(c)>Math.abs(I)+Math.abs(S)?(i[a+1][y-1]=(-p-f*i[a][y-1]+S*i[a][y])/c,i[a+1][y]=(-m-f*i[a][y]-S*i[a][y-1])/c):(b=Q(-C-d*i[a][y-1],-D-d*i[a][y],I,S),i[a+1][y-1]=b[0],i[a+1][y]=b[1])),u=Math.max(Math.abs(i[a][y-1]),Math.abs(i[a][y])),k*u*u>1)for(o=a;o<=y;o++)i[o][y-1]=i[o][y-1]/u,i[o][y]=i[o][y]/u}for(a=0;a<t;a++)if(a<_||a>x)for(o=a;o<t;o++)n[a][o]=i[a][o];for(o=t-1;o>=_;o--)for(a=_;a<=x;a++){for(I=0,s=_;s<=Math.min(o,x);s++)I+=n[a][s]*i[s][o];n[a][o]=I}}}function Q(t,e,r,n){var i,a;return Math.abs(r)>Math.abs(n)?(i=n/r,a=r+i*n,[(t+i*e)/a,(e-i*t)/a]):(i=r/n,a=n+i*r,[(i*t+e)/a,(i*e-t)/a])}class tt{constructor(t){if(t=$.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");var e,r,n,i=t,a=i.rows,o=new F(a,a),s=!0;for(r=0;r<a;r++){var h=o[r],l=0;for(n=0;n<r;n++){var u=o[n],f=0;for(e=0;e<n;e++)f+=u[e]*h[e];h[n]=f=(i.get(r,n)-f)/o[n][n],l+=f*f}for(l=i.get(r,r)-l,s&=l>0,o[r][r]=Math.sqrt(Math.max(l,0)),n=r+1;n<a;n++)o[r][n]=0}if(!s)throw new Error("Matrix is not positive definite");this.L=o}solve(t){t=$.checkMatrix(t);var e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");var n,i,a,o=t.columns,s=t.clone();for(a=0;a<r;a++)for(i=0;i<o;i++){for(n=0;n<a;n++)s[a][i]-=s[n][i]*e[a][n];s[a][i]/=e[a][a]}for(a=r-1;a>=0;a--)for(i=0;i<o;i++){for(n=a+1;n<r;n++)s[a][i]-=s[n][i]*e[n][a];s[a][i]/=e[a][a]}return s}get lowerTriangularMatrix(){return this.L}}r.d(e,"default",function(){return F}),r.d(e,"Matrix",function(){return F}),r.d(e,"abstractMatrix",function(){return L}),r.d(e,"wrap",function(){return z}),r.d(e,"WrapperMatrix2D",function(){return $}),r.d(e,"WrapperMatrix1D",function(){return j}),r.d(e,"solve",function(){return N}),r.d(e,"inverse",function(){return Y}),r.d(e,"linearDependencies",function(){return q}),r.d(e,"SingularValueDecomposition",function(){return p}),r.d(e,"SVD",function(){return p}),r.d(e,"EigenvalueDecomposition",function(){return H}),r.d(e,"EVD",function(){return H}),r.d(e,"CholeskyDecomposition",function(){return tt}),r.d(e,"CHO",function(){return tt}),r.d(e,"LuDecomposition",function(){return f}),r.d(e,"LU",function(){return f}),r.d(e,"QrDecomposition",function(){return V}),r.d(e,"QR",function(){return V})},b4ec:function(t,e,r){var n=r("a1d9");t.exports=Number.isInteger||function(t){return"number"===typeof t&&n(t)&&Math.floor(t)===t}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),a=r("e3db");function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,r,n):"string"===typeof e?p(t,e,r):w(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,r,n){return f(e),e<=0?h(t,e):void 0!==r?"string"===typeof n?h(t,e).fill(r,n):h(t,e).fill(r):h(t,e)}function d(t,e){if(f(e),t=h(t,e<0?0:0|v(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e,r){if("string"===typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,r);t=h(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function m(t,e){var r=e.length<0?0:0|v(e.length);t=h(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function g(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=m(t,e),t}function w(t,e){if(l.isBuffer(e)){var r=0|v(e.length);return t=h(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?h(t,0):m(t,e);if("Buffer"===e.type&&a(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),l.alloc(+t)}function y(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(t).length;default:if(n)return Z(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return U(this,e,r);case"base64":return P(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function k(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:M(t,e,r,n,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):M(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function M(t,e,r,n,i){var a,o=1,s=t.length,h=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,h/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var u=-1;for(a=r;a<s;a++)if(l(t,a)===l(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===h)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+h>s&&(r=s-h),a=r;a>=0;a--){for(var f=!0,c=0;c<h;c++)if(l(t,a+c)!==l(e,c)){f=!1;break}if(f)return a}return-1}function A(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function E(t,e,r,n){return tt(Z(e,t.length-r),t,r,n)}function S(t,e,r,n){return tt(K(e),t,r,n)}function C(t,e,r,n){return S(t,e,r,n)}function D(t,e,r,n){return tt(Q(e),t,r,n)}function I(t,e,r,n){return tt(J(e,t.length-r),t,r,n)}function P(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);var n=[],i=e;while(i<r){var a,o,s,h,l=t[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(u=l);break;case 2:a=t[i+1],128===(192&a)&&(h=(31&l)<<6|63&a,h>127&&(u=h));break;case 3:a=t[i+1],o=t[i+2],128===(192&a)&&128===(192&o)&&(h=(15&l)<<12|(63&a)<<6|63&o,h>2047&&(h<55296||h>57343)&&(u=h));break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(h=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s,h>65535&&h<1114112&&(u=h))}null===u?(u=65533,f=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=f}return R(n)}e.Buffer=l,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return u(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return c(null,t,e,r)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):_.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,o=r-e,s=Math.min(a,o),h=this.slice(n,i),u=t.slice(e,r),f=0;f<s;++f)if(h[f]!==u[f]){a=h[f],o=u[f];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return k(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return k(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return C(this,t,e,r);case"base64":return D(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function R(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);var r="",n=0;while(n<e)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function U(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=W(t[a]);return i}function F(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function j(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,r,n,i,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function z(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function Y(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,a){return a||Y(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function X(t,e,r,n,a){return a||Y(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);var n=this[t],i=1,a=0;while(++a<e&&(i*=256))n+=this[t+a]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);var n=this[t+--e],i=1;while(e>0&&(i*=256))n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);var n=this[t],i=1,a=0;while(++a<e&&(i*=256))n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);var n=e,i=1,a=this[t+--n];while(n>0&&(i*=256))a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;$(this,t,e,r,i,0)}var a=1,o=0;this[e]=255&t;while(++o<r&&(a*=256))this[e+o]=t/a&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;$(this,t,e,r,i,0)}var a=r-1,o=1;this[e+a]=255&t;while(--a>=0&&(o*=256))this[e+a]=t/o&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);$(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;this[e]=255&t;while(++a<r&&(o*=256))t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);$(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;this[e+a]=255&t;while(--a>=0&&(o*=256))t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return X(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return X(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},l.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=l.isBuffer(t)?t:Z(new l(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function q(t){if(t=H(t).replace(G,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function Z(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function K(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function J(t,e){for(var r,n,i,a=[],o=0;o<t.length;++o){if((e-=2)<0)break;r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n)}return a}function Q(t){return n.toByteArray(q(t))}function tt(t,e,r,n){for(var i=0;i<n;++i){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}function et(t){return t!==t}}).call(this,r("c8ba"))},ba72:function(t,e,r){"use strict";function n(t){if(this.size=0|t,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(2*this.size),r=0;r<e.length;r+=2){const t=Math.PI*r/this.size;e[r]=Math.cos(t),e[r+1]=-Math.sin(t)}this.table=e;for(var n=0,i=1;this.size>i;i<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var a=0;a<this._bitrev.length;a++){this._bitrev[a]=0;for(var o=0;o<this._width;o+=2){var s=this._width-o-2;this._bitrev[a]|=(a>>>o&3)<<s}}this._out=null,this._data=null,this._inv=0}t.exports=n,n.prototype.fromComplexArray=function(t,e){for(var r=e||new Array(t.length>>>1),n=0;n<t.length;n+=2)r[n>>>1]=t[n];return r},n.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var e=0;e<t.length;e++)t[e]=0;return t},n.prototype.toComplexArray=function(t,e){for(var r=e||this.createComplexArray(),n=0;n<r.length;n+=2)r[n]=t[n>>>1],r[n+1]=0;return r},n.prototype.completeSpectrum=function(t){for(var e=this._csize,r=e>>>1,n=2;n<r;n+=2)t[e-n]=t[n],t[e-n+1]=-t[n+1]},n.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null},n.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null},n.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var r=0;r<t.length;r++)t[r]/=this.size;this._out=null,this._data=null},n.prototype._transform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,a=1<<i,o=n/a<<1,s=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=s[e];this._singleTransform2(t,r,a)}else for(t=0,e=0;t<n;t+=o,e++){const r=s[e];this._singleTransform4(t,r,a)}var h=this._inv?-1:1,l=this.table;for(a>>=2;a>=2;a>>=2){o=n/a<<1;var u=o>>>2;for(t=0;t<n;t+=o)for(var f=t+u,c=t,d=0;c<f;c+=2,d+=a){const t=c,e=t+u,n=e+u,i=n+u,a=r[t],o=r[t+1],s=r[e],f=r[e+1],p=r[n],m=r[n+1],g=r[i],w=r[i+1],v=a,b=o,y=l[d],_=h*l[d+1],x=s*y-f*_,k=s*_+f*y,M=l[2*d],A=h*l[2*d+1],E=p*M-m*A,S=p*A+m*M,C=l[3*d],D=h*l[3*d+1],I=g*C-w*D,P=g*D+w*C,T=v+E,B=b+S,R=v-E,O=b-S,U=x+I,L=k+P,F=h*(x-I),j=h*(k-P),$=T+U,z=B+L,V=T-U,Y=B-L,N=R+j,X=O-F,G=R-j,q=O+F;r[t]=$,r[t+1]=z,r[e]=N,r[e+1]=X,r[n]=V,r[n+1]=Y,r[i]=G,r[i+1]=q}}},n.prototype._singleTransform2=function(t,e,r){const n=this._out,i=this._data,a=i[e],o=i[e+1],s=i[e+r],h=i[e+r+1],l=a+s,u=o+h,f=a-s,c=o-h;n[t]=l,n[t+1]=u,n[t+2]=f,n[t+3]=c},n.prototype._singleTransform4=function(t,e,r){const n=this._out,i=this._data,a=this._inv?-1:1,o=2*r,s=3*r,h=i[e],l=i[e+1],u=i[e+r],f=i[e+r+1],c=i[e+o],d=i[e+o+1],p=i[e+s],m=i[e+s+1],g=h+c,w=l+d,v=h-c,b=l-d,y=u+p,_=f+m,x=a*(u-p),k=a*(f-m),M=g+y,A=w+_,E=v+k,S=b-x,C=g-y,D=w-_,I=v-k,P=b+x;n[t]=M,n[t+1]=A,n[t+2]=E,n[t+3]=S,n[t+4]=C,n[t+5]=D,n[t+6]=I,n[t+7]=P},n.prototype._realTransform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,a=1<<i,o=n/a<<1,s=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=s[e];this._singleRealTransform2(t,r>>>1,a>>>1)}else for(t=0,e=0;t<n;t+=o,e++){const r=s[e];this._singleRealTransform4(t,r>>>1,a>>>1)}var h=this._inv?-1:1,l=this.table;for(a>>=2;a>=2;a>>=2){o=n/a<<1;var u=o>>>1,f=u>>>1,c=f>>>1;for(t=0;t<n;t+=o)for(var d=0,p=0;d<=c;d+=2,p+=a){var m=t+d,g=m+f,w=g+f,v=w+f,b=r[m],y=r[m+1],_=r[g],x=r[g+1],k=r[w],M=r[w+1],A=r[v],E=r[v+1],S=b,C=y,D=l[p],I=h*l[p+1],P=_*D-x*I,T=_*I+x*D,B=l[2*p],R=h*l[2*p+1],O=k*B-M*R,U=k*R+M*B,L=l[3*p],F=h*l[3*p+1],j=A*L-E*F,$=A*F+E*L,z=S+O,V=C+U,Y=S-O,N=C-U,X=P+j,G=T+$,q=h*(P-j),H=h*(T-$),W=z+X,Z=V+G,K=Y+H,J=N-q;if(r[m]=W,r[m+1]=Z,r[g]=K,r[g+1]=J,0!==d){if(d!==c){var Q=Y,tt=-N,et=z,rt=-V,nt=-h*H,it=-h*q,at=-h*G,ot=-h*X,st=Q+nt,ht=tt+it,lt=et+ot,ut=rt-at,ft=t+f-d,ct=t+u-d;r[ft]=st,r[ft+1]=ht,r[ct]=lt,r[ct+1]=ut}}else{var dt=z-X,pt=V-G;r[w]=dt,r[w+1]=pt}}}},n.prototype._singleRealTransform2=function(t,e,r){const n=this._out,i=this._data,a=i[e],o=i[e+r],s=a+o,h=a-o;n[t]=s,n[t+1]=0,n[t+2]=h,n[t+3]=0},n.prototype._singleRealTransform4=function(t,e,r){const n=this._out,i=this._data,a=this._inv?-1:1,o=2*r,s=3*r,h=i[e],l=i[e+r],u=i[e+o],f=i[e+s],c=h+u,d=h-u,p=l+f,m=a*(l-f),g=c+p,w=d,v=-m,b=c-p,y=d,_=m;n[t]=g,n[t+1]=0,n[t+2]=w,n[t+3]=v,n[t+4]=b,n[t+5]=0,n[t+6]=y,n[t+7]=_}},bcaa:function(t,e,r){var n=r("cb7c"),i=r("d3f4"),a=r("a5b8");t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t),o=r.resolve;return o(e),r.promise}},bd5a:function(t,e,r){"use strict";class n{compute(t,e){for(var r=Math.min(t.length,e.length),n=0,i=0;i<r;++i)n+=Math.min(t[i],e[i]);return n}}t.exports=n},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},be7f:function(t,e,r){"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);while(e.length){var r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],o.set(a,i),i+=a.length;return o}},o={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)},bf31:function(t,e,r){"use strict";t.exports=Number.isNaN||function(t){return t!==t}},c01c:function(t,e,r){"use strict";t.exports=i;var n=+(Math.pow(2,27)+1);function i(t,e,r){var i=t*e,a=n*t,o=a-t,s=a-o,h=t-s,l=n*e,u=l-e,f=l-u,c=e-f,d=i-s*f,p=d-h*f,m=p-s*c,g=h*c-m;return r?(r[0]=g,r[1]=i,r):[g,i]}},c2d9:function(t,e,r){"use strict";class n{constructor(){this.nodes=new Map}add(t){var e=this.nodes.get(t);return e||(e=new i(t),this.nodes.set(t,e)),e}union(t,e){const r=this.find(t),n=this.find(e);r!==n&&(r.rank<n.rank?r.parent=n:r.rank>n.rank?n.parent=r:(n.parent=r,r.rank++))}find(t){var e=t;while(null!==e.parent)e=e.parent;var r=t;while(null!==r.parent){var n=r;r=r.parent,n.parent=e}return e}connected(t,e){return this.find(t)===this.find(e)}}function i(t){this.value=t,this.parent=null,this.rank=0}t.exports=n},c366:function(t,e,r){var n=r("6821"),i=r("9def"),a=r("77f1");t.exports=function(t){return function(e,r,o){var s,h=n(e),l=i(h.length),u=a(o,l);if(t&&r!=r){while(l>u)if(s=h[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in h)&&h[u]===r)return t||u||0;return!t&&-1}}},c69a:function(t,e,r){t.exports=!r("9e1e")&&!r("79e5")(function(){return 7!=Object.defineProperty(r("230e")("div"),"a",{get:function(){return 7}}).a})},c7a8:function(t,e,r){"use strict";const n={standard:r("9d60"),exif:r("7b7b"),gps:r("3f82")};class i{constructor(t){if(!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(n[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=n[this.kind].tagsById;for(var t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t))}return this._map}}t.exports=i},c834:function(t,e,r){"use strict";function n(t,e,r,n){var i=65535&t|0,a=t>>>16&65535|0,o=0;while(0!==r){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,a=a+i|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}t.exports=n},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},ca5a:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},cadf:function(t,e,r){"use strict";var n=r("9c6c"),i=r("d53b"),a=r("84f2"),o=r("6821");t.exports=r("01f9")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},cb7c:function(t,e,r){var n=r("d3f4");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,r){var n=r("69a8"),i=r("6821"),a=r("c366")(!1),o=r("613b")("IE_PROTO");t.exports=function(t,e){var r,s=i(t),h=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);while(e.length>h)n(s,r=e[h++])&&(~a(l,r)||l.push(r));return l}},cfdd:function(t,e,r){"use strict";var n=r("bf31");function i(t){if("number"!==typeof t||n(t))throw new TypeError("Expected a number")}e.asc=function(t,e){return i(t),i(e),t-e},e.desc=function(t,e){return i(t),i(e),e-t}},d1bd:function(t,e,r){"use strict";function n(t,e,r){var n=t+e,i=n-t,a=n-i,o=e-i,s=t-a;return r?(r[0]=s+o,r[1]=n,r):[s+o,n]}t.exports=n},d3f1:function(t,e,r){"use strict";const n=r("374c").squared,i={constant:1};class a{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){const r=n(t,e);return 1-r/(r+this.constant)}}t.exports=a},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d7ac:function(t,e,r){"use strict";var n=r("be7f").assign,i=r("4126"),a=r("717e"),o=r("2ceb"),s={};n(s,i,a,o),t.exports=s},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},dcbc:function(t,e,r){var n=r("2aba");t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},df0d:function(t,e,r){"use strict";const n=r("374c"),i={sigma:1};class a{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.sigma)}}t.exports=a},df7c:function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=r(i(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===a(t,-1);return t=r(i(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var r=t.length-1;r>=0;r--)if(""!==t[r])break;return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),a=n(r.split("/")),o=Math.min(i.length,a.length),s=o,h=0;h<o;h++)if(i[h]!==a[h]){s=h;break}var l=[];for(h=s;h<i.length;h++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),47===e){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=n(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===n&&(i=!1,n=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){r=o+1;break}}return-1===e||-1===n||0===a||1===a&&e===n-1&&e===r+1?"":t.slice(e,n)};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r("f28c"))},e100:function(t,e,r){"use strict";function n(t,e){var r=t+e,n=r-t,i=r-n,a=e-n,o=t-i,s=o+a;return s?[s,r]:[r]}function i(t,e){var r=0|t.length,i=0|e.length;if(1===r&&1===i)return n(t[0],-e[0]);var a,o,s=r+i,h=new Array(s),l=0,u=0,f=0,c=Math.abs,d=t[u],p=c(d),m=-e[f],g=c(m);p<g?(o=d,u+=1,u<r&&(d=t[u],p=c(d))):(o=m,f+=1,f<i&&(m=-e[f],g=c(m))),u<r&&p<g||f>=i?(a=d,u+=1,u<r&&(d=t[u],p=c(d))):(a=m,f+=1,f<i&&(m=-e[f],g=c(m)));var w,v,b,y,_,x=a+o,k=x-a,M=o-k,A=M,E=x;while(u<r&&f<i)p<g?(a=d,u+=1,u<r&&(d=t[u],p=c(d))):(a=m,f+=1,f<i&&(m=-e[f],g=c(m))),o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w;while(u<r)a=d,o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w,u+=1,u<r&&(d=t[u]);while(f<i)a=m,o=A,x=a+o,k=x-a,M=o-k,M&&(h[l++]=M),w=E+x,v=w-E,b=w-v,y=x-v,_=E-b,A=_+y,E=w,f+=1,f<i&&(m=-e[f]);return A&&(h[l++]=A),E&&(h[l++]=E),l||(h[l++]=0),h.length=l,h}t.exports=i},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},e430:function(t,e,r){"use strict";function n(t,e){return t-e}e.sum=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e},e.max=function(t){for(var e=t[0],r=t.length,n=1;n<r;n++)t[n]>e&&(e=t[n]);return e},e.min=function(t){for(var e=t[0],r=t.length,n=1;n<r;n++)t[n]<e&&(e=t[n]);return e},e.minMax=function(t){for(var e=t[0],r=t[0],n=t.length,i=1;i<n;i++)t[i]<e&&(e=t[i]),t[i]>r&&(r=t[i]);return{min:e,max:r}},e.arithmeticMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++)e+=t[n];return e/r},e.mean=e.arithmeticMean,e.geometricMean=function(t){for(var e=1,r=t.length,n=0;n<r;n++)e*=t[n];return Math.pow(e,1/r)},e.logMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++)e+=Math.log(t[n]);return e/r},e.grandMean=function(t,e){for(var r=0,n=0,i=t.length,a=0;a<i;a++)r+=e[a]*t[a],n+=e[a];return r/n},e.truncatedMean=function(t,e,r){void 0===r&&(r=!1),r||(t=[].concat(t).sort(n));for(var i=t.length,a=Math.floor(i*e),o=0,s=a;s<i-a;s++)o+=t[s];return o/(i-2*a)},e.harmonicMean=function(t){for(var e=0,r=t.length,n=0;n<r;n++){if(0===t[n])throw new RangeError("value at index "+n+"is zero");e+=1/t[n]}return r/e},e.contraHarmonicMean=function(t){for(var e=0,r=0,n=t.length,i=0;i<n;i++)e+=t[i]*t[i],r+=t[i];if(r<0)throw new RangeError("sum of values is negative");return e/r},e.median=function(t,e){void 0===e&&(e=!1),e||(t=[].concat(t).sort(n));var r=t.length,i=Math.floor(r/2);return r%2===0?.5*(t[i-1]+t[i]):t[i]},e.variance=function(t,r){void 0===r&&(r=!0);for(var n=e.mean(t),i=0,a=t.length,o=0;o<a;o++){var s=t[o]-n;i+=s*s}return r?i/(a-1):i/a},e.standardDeviation=function(t,r){return Math.sqrt(e.variance(t,r))},e.standardError=function(t){return e.standardDeviation(t)/Math.sqrt(t.length)},e.robustMeanAndStdev=function(t){var e=0,r=0,i=t.length,a=0;for(a=0;a<i;a++)e+=t[a];e/=i;var o=new Array(i);for(a=0;a<i;a++)o[a]=Math.abs(t[a]-e);return o.sort(n),r=i%2===1?o[(i-1)/2]/.6745:.5*(o[i/2]+o[i/2-1])/.6745,{mean:e,stdev:r}},e.quartiles=function(t,r){"undefined"===typeof r&&(r=!1),r||(t=[].concat(t).sort(n));var i=t.length/4,a=t[Math.ceil(i)-1],o=e.median(t,!0),s=t[Math.ceil(3*i)-1];return{q1:a,q2:o,q3:s}},e.pooledStandardDeviation=function(t,r){return Math.sqrt(e.pooledVariance(t,r))},e.pooledVariance=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=0,i=0,a=t.length,o=0;o<a;o++){var s=t[o],h=e.variance(s);n+=(s.length-1)*h,i+=r?s.length-1:s.length}return n/i},e.mode=function(t){var e,r=t.length,n=new Array(r);for(e=0;e<r;e++)n[e]=0;var i=new Array(r),a=0;for(e=0;e<r;e++){var o=i.indexOf(t[e]);o>=0?n[o]++:(i[a]=t[e],n[a]=1,a++)}var s=0,h=0;for(e=0;e<a;e++)n[e]>s&&(s=n[e],h=e);return i[h]},e.covariance=function(t,r,n){"undefined"===typeof n&&(n=!0);var i=e.mean(t),a=e.mean(r);if(t.length!==r.length)throw"Vectors do not have the same dimensions";for(var o=0,s=t.length,h=0;h<s;h++){var l=t[h]-i,u=r[h]-a;o+=l*u}return n?o/(s-1):o/s},e.skewness=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=0,a=0,o=t.length,s=0;s<o;s++){var h=t[s]-n;i+=h*h,a+=h*h*h}var l=i/o,u=a/o,f=u/Math.pow(l,1.5);if(r){var c=Math.sqrt(o*(o-1)),d=o-2;return c/d*f}return f},e.kurtosis=function(t,r){"undefined"===typeof r&&(r=!0);for(var n=e.mean(t),i=t.length,a=0,o=0,s=0;s<i;s++){var h=t[s]-n;a+=h*h,o+=h*h*h*h}var l=a/i,u=o/i;if(r){var f=a/(i-1),c=i*(i+1)/((i-1)*(i-2)*(i-3)),d=o/(f*f),p=(i-1)*(i-1)/((i-2)*(i-3));return c*d-3*p}return u/(l*l)-3},e.entropy=function(t,e){"undefined"===typeof e&&(e=0);for(var r=0,n=t.length,i=0;i<n;i++)r+=t[i]*Math.log(t[i]+e);return-r},e.weightedMean=function(t,e){for(var r=0,n=t.length,i=0;i<n;i++)r+=t[i]*e[i];return r},e.weightedStandardDeviation=function(t,r){return Math.sqrt(e.weightedVariance(t,r))},e.weightedVariance=function(t,r){for(var n=e.weightedMean(t,r),i=0,a=t.length,o=0,s=0,h=0;h<a;h++){var l=t[h]-n,u=r[h];i+=u*(l*l),s+=u,o+=u*u}return i*(s/(s*s-o))},e.center=function(t,r){"undefined"===typeof r&&(r=!1);var n=t;r||(n=[].concat(t));for(var i=e.mean(n),a=n.length,o=0;o<a;o++)n[o]-=i},e.standardize=function(t,r,n){"undefined"===typeof r&&(r=e.standardDeviation(t)),"undefined"===typeof n&&(n=!1);for(var i=t.length,a=n?t:new Array(i),o=0;o<i;o++)a[o]=t[o]/r;return a},e.cumulativeSum=function(t){var e=t.length,r=new Array(e);r[0]=t[0];for(var n=1;n<e;n++)r[n]=r[n-1]+t[n];return r}},e500:function(t,e,r){"use strict";function n(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}r.r(e),r.d(e,"squaredEuclidean",function(){return n}),r.d(e,"euclidean",function(){return i})},e57f:function(t,e,r){(function(){var t;t=e;var r={release:"0.3.0",date:"2013-03"};t.toString=function(){return"version "+r.release+", released "+r.date};for(var n=0,i=null,a=null,o={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");n=t,o._initArray(),o._makeBitReversalTable(),o._makeCosSinTable()},fft1d:function(t,e){o.fft(t,e,1)},ifft1d:function(t,e){var r=1/n;o.fft(t,e,-1);for(var i=0;i<n;i++)t[i]*=r,e[i]*=r},bt1d:function(t,e){o.fft(t,e,-1)},fft2d:function(t,e){for(var r=[],i=[],a=0,s=0;s<n;s++){a=s*n;for(var h=0;h<n;h++)r[h]=t[h+a],i[h]=e[h+a];o.fft1d(r,i);for(var l=0;l<n;l++)t[l+a]=r[l],e[l+a]=i[l]}for(var u=0;u<n;u++){for(var f=0;f<n;f++)a=u+f*n,r[f]=t[a],i[f]=e[a];o.fft1d(r,i);for(var c=0;c<n;c++)a=u+c*n,t[a]=r[c],e[a]=i[c]}},ifft2d:function(t,e){for(var r=[],i=[],a=0,s=0;s<n;s++){a=s*n;for(var h=0;h<n;h++)r[h]=t[h+a],i[h]=e[h+a];o.ifft1d(r,i);for(var l=0;l<n;l++)t[l+a]=r[l],e[l+a]=i[l]}for(var u=0;u<n;u++){for(var f=0;f<n;f++)a=u+f*n,r[f]=t[a],i[f]=e[a];o.ifft1d(r,i);for(var c=0;c<n;c++)a=u+c*n,t[a]=r[c],e[a]=i[c]}},fft:function(t,e,r){for(var o,s,h,l,u,f,c,d,p,m=n>>2,g=0;g<n;g++)l=i[g],g<l&&(u=t[g],t[g]=t[l],t[l]=u,u=e[g],e[g]=e[l],e[l]=u);for(var w=1;w<n;w<<=1){s=0,o=n/(w<<1);for(var v=0;v<w;v++){f=a[s+m],c=r*a[s];for(var b=v;b<n;b+=w<<1)h=b+w,d=f*t[h]+c*e[h],p=f*e[h]-c*t[h],t[h]=t[b]-d,t[b]+=d,e[h]=e[b]-p,e[b]+=p;s+=o}}},_initArray:function(){i="undefined"!==typeof Uint32Array?new Uint32Array(n):[],a="undefined"!==typeof Float64Array?new Float64Array(1.25*n):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,e=0,r=0;i[0]=0;while(++t<n){r=n>>1;while(r<=e)e-=r,r>>=1;e+=r,i[t]=e}},_makeCosSinTable:function(){var t=n>>1,e=n>>2,r=n>>3,i=t+e,o=Math.sin(Math.PI/n),s=2*o*o,h=Math.sqrt(s*(2-s)),l=a[e]=1,u=a[0]=0;o=2*s;for(var f=1;f<r;f++)l-=s,s+=o*l,u+=h,h-=o*u,a[f]=u,a[e-f]=l;0!==r&&(a[r]=Math.sqrt(.5));for(var c=0;c<e;c++)a[t-c]=a[c];for(var d=0;d<i;d++)a[d+t]=-a[d]}},s=["init","fft1d","ifft1d","fft2d","ifft2d"],h=0;h<s.length;h++)t[s[h]]=o[s[h]];return t.bt=o.bt1d,t.fft=o.fft1d,t.ifft=o.ifft1d,t}).call(this)},e7ca:function(t,e,r){(function(e){var r=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,a=1567,o=3784,s=5793,h=2896;function l(){}function u(t,e){var r,n,i=0,a=[],o=16;while(o>0&&!t[o-1])o--;a.push({children:[],index:0});var s,h=a[0];for(r=0;r<o;r++){for(n=0;n<t[r];n++){h=a.pop(),h.children[h.index]=e[i];while(h.index>0)h=a.pop();h.index++,a.push(h);while(a.length<=r)a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s;i++}r+1<o&&(a.push(s={children:[],index:0}),h.children[h.index]=s.children,h=s)}return a[0].children}function f(e,r,n,i,a,o,s,h,l){n.precision,n.samplesPerLine,n.scanLines;var u=n.mcusPerLine,f=n.progressive,c=(n.maxH,n.maxV,r),d=0,p=0;function m(){if(p>0)return p--,d>>p&1;if(d=e[r++],255==d){var t=e[r++];if(t)throw new Error("unexpected marker: "+(d<<8|t).toString(16))}return p=7,d>>>7}function g(t){var e,r=t;while(null!==(e=m())){if(r=r[e],"number"===typeof r)return r;if("object"!==typeof r)throw new Error("invalid huffman sequence")}return null}function w(t){var e=0;while(t>0){var r=m();if(null===r)return;e=e<<1|r,t--}return e}function v(t){var e=w(t);return e>=1<<t-1?e:e+(-1<<t)+1}function b(e,r){var n=g(e.huffmanTableDC),i=0===n?0:v(n);r[0]=e.pred+=i;var a=1;while(a<64){var o=g(e.huffmanTableAC),s=15&o,h=o>>4;if(0!==s){a+=h;var l=t[a];r[l]=v(s),a++}else{if(h<15)break;a+=16}}}function y(t,e){var r=g(t.huffmanTableDC),n=0===r?0:v(r)<<l;e[0]=t.pred+=n}function _(t,e){e[0]|=m()<<l}var x=0;function k(e,r){if(x>0)x--;else{var n=o,i=s;while(n<=i){var a=g(e.huffmanTableAC),h=15&a,u=a>>4;if(0!==h){n+=u;var f=t[n];r[f]=v(h)*(1<<l),n++}else{if(u<15){x=w(u)+(1<<u)-1;break}n+=16}}}}var M,A=0;function E(e,r){var n=o,i=s,a=0;while(n<=i){var h=t[n],u=r[h]<0?-1:1;switch(A){case 0:var f=g(e.huffmanTableAC),c=15&f;a=f>>4;if(0===c)a<15?(x=w(a)+(1<<a),A=4):(a=16,A=1);else{if(1!==c)throw new Error("invalid ACn encoding");M=v(c),A=a?2:3}continue;case 1:case 2:r[h]?r[h]+=(m()<<l)*u:(a--,0===a&&(A=2==A?3:0));break;case 3:r[h]?r[h]+=(m()<<l)*u:(r[h]=M<<l,A=0);break;case 4:r[h]&&(r[h]+=(m()<<l)*u);break}n++}4===A&&(x--,0===x&&(A=0))}function S(t,e,r,n,i){var a=r/u|0,o=r%u,s=a*t.v+n,h=o*t.h+i;e(t,t.blocks[s][h])}function C(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;e(t,t.blocks[n][i])}var D,I,P,T,B,R,O=i.length;R=f?0===o?0===h?y:_:0===h?k:E:b;var U,L,F,j,$=0;L=1==O?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn,a||(a=L);while($<L){for(I=0;I<O;I++)i[I].pred=0;if(x=0,1==O)for(D=i[0],B=0;B<a;B++)C(D,R,$),$++;else for(B=0;B<a;B++){for(I=0;I<O;I++)for(D=i[I],F=D.h,j=D.v,P=0;P<j;P++)for(T=0;T<F;T++)S(D,R,$,P,T);if($++,$===L)break}if(p=0,U=e[r]<<8|e[r+1],U<65280)throw new Error("marker was not found");if(!(U>=65488&&U<=65495))break;r+=2}return r-c}function c(t,l){var u,f,c=[],d=l.blocksPerLine,p=l.blocksPerColumn,m=d<<3,g=new Int32Array(64),w=new Uint8Array(64);function v(t,u,f){var c,d,p,m,g,w,v,b,y,_,x=l.quantizationTable,k=f;for(_=0;_<64;_++)k[_]=t[_]*x[_];for(_=0;_<8;++_){var M=8*_;0!=k[1+M]||0!=k[2+M]||0!=k[3+M]||0!=k[4+M]||0!=k[5+M]||0!=k[6+M]||0!=k[7+M]?(c=s*k[0+M]+128>>8,d=s*k[4+M]+128>>8,p=k[2+M],m=k[6+M],g=h*(k[1+M]-k[7+M])+128>>8,b=h*(k[1+M]+k[7+M])+128>>8,w=k[3+M]<<4,v=k[5+M]<<4,y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*o+m*a+128>>8,p=p*a-m*o+128>>8,m=y,y=g-v+1>>1,g=g+v+1>>1,v=y,y=b+w+1>>1,w=b-w+1>>1,b=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*i+b*n+2048>>12,g=g*n-b*i+2048>>12,b=y,y=w*r+v*e+2048>>12,w=w*e-v*r+2048>>12,v=y,k[0+M]=c+b,k[7+M]=c-b,k[1+M]=d+v,k[6+M]=d-v,k[2+M]=p+w,k[5+M]=p-w,k[3+M]=m+g,k[4+M]=m-g):(y=s*k[0+M]+512>>10,k[0+M]=y,k[1+M]=y,k[2+M]=y,k[3+M]=y,k[4+M]=y,k[5+M]=y,k[6+M]=y,k[7+M]=y)}for(_=0;_<8;++_){var A=_;0!=k[8+A]||0!=k[16+A]||0!=k[24+A]||0!=k[32+A]||0!=k[40+A]||0!=k[48+A]||0!=k[56+A]?(c=s*k[0+A]+2048>>12,d=s*k[32+A]+2048>>12,p=k[16+A],m=k[48+A],g=h*(k[8+A]-k[56+A])+2048>>12,b=h*(k[8+A]+k[56+A])+2048>>12,w=k[24+A],v=k[40+A],y=c-d+1>>1,c=c+d+1>>1,d=y,y=p*o+m*a+2048>>12,p=p*a-m*o+2048>>12,m=y,y=g-v+1>>1,g=g+v+1>>1,v=y,y=b+w+1>>1,w=b-w+1>>1,b=y,y=c-m+1>>1,c=c+m+1>>1,m=y,y=d-p+1>>1,d=d+p+1>>1,p=y,y=g*i+b*n+2048>>12,g=g*n-b*i+2048>>12,b=y,y=w*r+v*e+2048>>12,w=w*e-v*r+2048>>12,v=y,k[0+A]=c+b,k[56+A]=c-b,k[8+A]=d+v,k[48+A]=d-v,k[16+A]=p+w,k[40+A]=p-w,k[24+A]=m+g,k[32+A]=m-g):(y=s*f[_+0]+8192>>14,k[0+A]=y,k[8+A]=y,k[16+A]=y,k[24+A]=y,k[32+A]=y,k[40+A]=y,k[48+A]=y,k[56+A]=y)}for(_=0;_<64;++_){var E=128+(k[_]+8>>4);u[_]=E<0?0:E>255?255:E}}for(var b=0;b<p;b++){var y=b<<3;for(u=0;u<8;u++)c.push(new Uint8Array(m));for(var _=0;_<d;_++){v(l.blocks[b][_],w,g);var x=0,k=_<<3;for(f=0;f<8;f++){var M=c[y+f];for(u=0;u<8;u++)M[k+u]=w[x++]}}}return c}function d(t){return t<0?0:t>255?255:t}return l.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=0;e.length;function n(){var t=e[r]<<8|e[r+1];return r+=2,t}function i(){var t=n(),i=e.subarray(r,r+t-2);return r+=i.length,i}function a(t){var e,r,n=0,i=0;for(r in t.components)t.components.hasOwnProperty(r)&&(e=t.components[r],n<e.h&&(n=e.h),i<e.v&&(i=e.v));var a=Math.ceil(t.samplesPerLine/8/n),o=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];for(var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),h=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),l=a*e.h,u=o*e.v,f=[],c=0;c<u;c++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));f.push(d)}e.blocksPerLine=s,e.blocksPerColumn=h,e.blocks=f}t.maxH=n,t.maxV=i,t.mcusPerLine=a,t.mcusPerColumn=o}var o,s,h=null,l=null,d=[],p=[],m=[],g=[],w=n();if(65496!=w)throw new Error("SOI not found");w=n();while(65497!=w){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=i();65504===w&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(h={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65518===w&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(l={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:var b=n(),y=b+r-2;while(r<y){var _=e[r++],x=new Int32Array(64);if(_>>4===0)for(Y=0;Y<64;Y++){var k=t[Y];x[k]=e[r++]}else{if(_>>4!==1)throw new Error("DQT: invalid table spec");for(Y=0;Y<64;Y++){k=t[Y];x[k]=n()}}d[15&_]=x}break;case 65472:case 65473:case 65474:n(),o={},o.extended=65473===w,o.progressive=65474===w,o.precision=e[r++],o.scanLines=n(),o.samplesPerLine=n(),o.components={},o.componentsOrder=[];var M,A=e[r++];for(z=0;z<A;z++){M=e[r];var E=e[r+1]>>4,S=15&e[r+1],C=e[r+2];o.componentsOrder.push(M),o.components[M]={h:E,v:S,quantizationIdx:C},r+=3}a(o),p.push(o);break;case 65476:var D=n();for(z=2;z<D;){var I=e[r++],P=new Uint8Array(16),T=0;for(Y=0;Y<16;Y++,r++)T+=P[Y]=e[r];var B=new Uint8Array(T);for(Y=0;Y<T;Y++,r++)B[Y]=e[r];z+=17+T,(I>>4===0?g:m)[15&I]=u(P,B)}break;case 65501:n(),s=n();break;case 65498:n();var R=e[r++],O=[];for(z=0;z<R;z++){N=o.components[e[r++]];var U=e[r++];N.huffmanTableDC=g[U>>4],N.huffmanTableAC=m[15&U],O.push(N)}var L=e[r++],F=e[r++],j=e[r++],$=f(e,r,o,O,s,L,F,j>>4,15&j);r+=$;break;case 65535:255!==e[r]&&r--;break;default:if(255==e[r-3]&&e[r-2]>=192&&e[r-2]<=254){r-=3;break}throw new Error("unknown JPEG marker "+w.toString(16))}w=n()}if(1!=p.length)throw new Error("only single frame JPEGs supported");for(var z=0;z<p.length;z++){var V=p[z].components;for(var Y in V)V[Y].quantizationTable=d[V[Y].quantizationIdx],delete V[Y].quantizationIdx}this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=h,this.adobe=l,this.components=[];for(z=0;z<o.componentsOrder.length;z++){var N=o.components[o.componentsOrder[z]];this.components.push({lines:c(o,N),scaleX:N.h/o.maxH,scaleY:N.v/o.maxV})}},getData:function(t,e){var r,n,i,a,o,s,h,l,u,f,c,p,m,g,w,v,b,y,_,x,k,M=this.width/t,A=this.height/e,E=0,S=t*e*this.components.length,C=new Uint8Array(S);switch(this.components.length){case 1:for(r=this.components[0],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],u=0;u<t;u++)c=o[0|u*r.scaleX*M],C[E++]=c;break;case 2:for(r=this.components[0],n=this.components[1],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=n.lines[0|f*n.scaleY*A],u=0;u<t;u++)c=o[0|u*r.scaleX*M],C[E++]=c,c=s[0|u*n.scaleX*M],C[E++]=c;break;case 3:for(k=!0,this.adobe&&this.adobe.transformCode?k=!0:"undefined"!==typeof this.colorTransform&&(k=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=n.lines[0|f*n.scaleY*A],h=i.lines[0|f*i.scaleY*A],u=0;u<t;u++)k?(c=o[0|u*r.scaleX*M],p=s[0|u*n.scaleX*M],m=h[0|u*i.scaleX*M],y=d(c+1.402*(m-128)),_=d(c-.3441363*(p-128)-.71413636*(m-128)),x=d(c+1.772*(p-128))):(y=o[0|u*r.scaleX*M],_=s[0|u*n.scaleX*M],x=h[0|u*i.scaleX*M]),C[E++]=y,C[E++]=_,C[E++]=x;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(k=!1,this.adobe&&this.adobe.transformCode?k=!0:"undefined"!==typeof this.colorTransform&&(k=!!this.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],a=this.components[3],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=n.lines[0|f*n.scaleY*A],h=i.lines[0|f*i.scaleY*A],l=a.lines[0|f*a.scaleY*A],u=0;u<t;u++)k?(c=o[0|u*r.scaleX*M],p=s[0|u*n.scaleX*M],m=h[0|u*i.scaleX*M],g=l[0|u*a.scaleX*M],w=255-d(c+1.402*(m-128)),v=255-d(c-.3441363*(p-128)-.71413636*(m-128)),b=255-d(c+1.772*(p-128))):(w=o[0|u*r.scaleX*M],v=s[0|u*n.scaleX*M],b=h[0|u*i.scaleX*M],g=l[0|u*a.scaleX*M]),C[E++]=255-w,C[E++]=255-v,C[E++]=255-b,C[E++]=255-g;break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function(t){var e,r,n,i,a,o,s,h,l,u=t.width,f=t.height,c=t.data,p=this.getData(u,f),m=0,g=0;switch(this.components.length){case 1:for(r=0;r<f;r++)for(e=0;e<u;e++)n=p[m++],c[g++]=n,c[g++]=n,c[g++]=n,c[g++]=255;break;case 3:for(r=0;r<f;r++)for(e=0;e<u;e++)s=p[m++],h=p[m++],l=p[m++],c[g++]=s,c[g++]=h,c[g++]=l,c[g++]=255;break;case 4:for(r=0;r<f;r++)for(e=0;e<u;e++)a=p[m++],o=p[m++],n=p[m++],i=p[m++],s=255-d(a*(1-i/255)+i),h=255-d(o*(1-i/255)+i),l=255-d(n*(1-i/255)+i),c[g++]=s,c[g++]=h,c[g++]=l,c[g++]=255;break;default:throw new Error("Unsupported color mode")}}},l}();function n(t,n){var i={useTArray:!1,colorTransform:!0};n?"object"===typeof n?n={useTArray:"undefined"===typeof n.useTArray?i.useTArray:n.useTArray,colorTransform:"undefined"===typeof n.colorTransform?i.colorTransform:n.colorTransform}:(n=i,n.useTArray=!0):n=i;var a=new Uint8Array(t),o=new r;o.parse(a),o.colorTransform=n.colorTransform;var s={width:o.width,height:o.height,data:n.useTArray?new Uint8Array(o.width*o.height*4):new e(o.width*o.height*4)};return o.copyToImageData(s),s}t.exports=n}).call(this,r("b639").Buffer)},e88e:function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){return"Array"===n.call(t).substr(-6,5)}},eb55:function(t,e,r){"use strict";const n=Object.prototype.toString;function i(t){return n.call(t).endsWith("Array]")}t.exports=i},ebd6:function(t,e,r){var n=r("cb7c"),i=r("d8e8"),a=r("2b4c")("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[a])?e:i(r)}},eeda:function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}var i=n();function a(t,e,r,n){var a=i,o=n+r;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}t.exports=a},f1dd:function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.1.2 by @mathias */(function(a){var o=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var h,l,u,f=String.fromCharCode;function c(t){var e,r,n=[],i=0,a=t.length;while(i<a)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function d(t){var e,r=t.length,n=-1,i="";while(++n<r)e=t[n],e>65535&&(e-=65536,i+=f(e>>>10&1023|55296),e=56320|1023&e),i+=f(e);return i}function p(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function m(t,e){return f(t>>e&63|128)}function g(t){if(0==(4294967168&t))return f(t);var e="";return 0==(4294965248&t)?e=f(t>>6&31|192):0==(4294901760&t)?(p(t),e=f(t>>12&15|224),e+=m(t,6)):0==(4292870144&t)&&(e=f(t>>18&7|240),e+=m(t,12),e+=m(t,6)),e+=f(63&t|128),e}function w(t){var e,r=c(t),n=r.length,i=-1,a="";while(++i<n)e=r[i],a+=g(e);return a}function v(){if(u>=l)throw Error("Invalid byte index");var t=255&h[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function b(){var t,e,r,n,i;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(t=255&h[u],u++,0==(128&t))return t;if(192==(224&t)){if(e=v(),i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=v(),r=v(),i=(15&t)<<12|e<<6|r,i>=2048)return p(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=v(),r=v(),n=v(),i=(7&t)<<18|e<<12|r<<6|n,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function y(t){h=c(t),l=h.length,u=0;var e,r=[];while(!1!==(e=b()))r.push(e);return d(r)}var _={version:"2.1.2",encode:w,decode:y};i=function(){return _}.call(e,r,e,t),void 0===i||(t.exports=i)})()}).call(this,r("62e4")(t),r("c8ba"))},f28c:function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function h(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}})();var l,u=[],f=!1,c=-1;function d(){f&&l&&(f=!1,l.length?u=l.concat(u):c=-1,u.length&&p())}function p(){if(!f){var t=s(d);f=!0;var e=u.length;while(e){l=u,u=[];while(++c<e)l&&l[c].run();c=-1,e=u.length}l=null,f=!1,h(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new m(t,e)),1!==u.length||f||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},f605:function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},f632:function(t,e,r){"use strict";const n=r("af59"),i=r("5788");function a(t){const e=new n(t),r={};e.setBigEndian();const a=e.readUint16();if(65496!==a)throw new Error("SOI marker not found. Not a valid JPEG file");const o=e.readUint16();if(65505===o){e.readUint16();const t=e.readBytes(6);if(69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]&&0===t[4]&&0===t[5]){const t=i.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=t}}return r}t.exports=a},f751:function(t,e,r){var n=r("5ca1");n(n.S+n.F,"Object",{assign:r("7333")})},f8ae:function(t,e,r){"use strict";e.decode=r("f632")},fa5b:function(t,e,r){t.exports=r("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,r){var n=r("7726").document;t.exports=n&&n.documentElement},ff9d:function(t,e,r){"use strict";const n=r("3d78"),i=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),a=t=>{const e=n(t);return i.has(e&&e.ext)?e:null};t.exports=a,t.exports.default=a,Object.defineProperty(a,"minimumBytes",{value:n.minimumBytes})}}]);
//# sourceMappingURL=chunk-vendors.c7bff5b0.js.map